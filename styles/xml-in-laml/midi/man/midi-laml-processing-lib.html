<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>Midi Function Library</title> <link href="../../../../css-stylesheets/manual/manual-stylesheet.css" rel="stylesheet" type="text/css" /> <link rel="SHORTCUT ICON" href="../../../../images/16-16-icon.ico" /></head> <body class="manual-body"><a name="MANUAL-TOP"></a> <table border="0px" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td width="33%" align="left" valign="top"><font size="2"><span class="manual-top-banner-when-generated">Generated: Monday, November 14, 2011, 09:15:26</span></font></td> <td width="34%" align="center" valign="top"><font size="2"><span>Copyright  &copy; 2011 , Kurt Nørmark</span></font></td> <td width="33%" align="right" valign="top"><font size="2"><a href="../../../../index.html" title="The local LAML software home page" target="_top"><img src="../../../../images/laml-home.gif" alt="The local LAML software home page" border="0" /></a></font></td></tr></tbody></table> <h1 class="manual-title">Midi Function Library</h1> <p></p> <h3><span class="manual-author-element"><span>Kurt Nørmark   &copy;</span> normark@cs.aau.dk</span> <span class="manual-affiliation-element">Department of Computer Science, Aalborg University, Denmark.</span></h3> <p></p>   <div class="manual-source-file-description">LAML Source file: styles/xml-in-laml/midi/midi-laml-processing-lib.scm</div> <p></p> <a name="MANUAL-ABSTRACT"></a> <div class="manual-abstract"> This is a library of common MIDI manipulation functions.  It must be loaded together with the <a href= "midi-mirror.html">MIDI LAML mirror library</a>. </div> <p></p> <a name="MANUAL-TOC"></a> <div class="manual-table-of-contents-header">Table of Contents:</div> <div style="margin-left:12px;"><div><table border="0"><tbody><tr><td width="280" valign="top"><a href="#SECTION1"><font size="2">1.  Midi message predicates.</font></a></td> <td width="280" valign="top"><a href="#SECTION8"><font size="2">8.  Message List functions - Control Related and Misc</font></a></td> <td width="280" valign="top"><a href="#SECTION15"><font size="2">15.  Midi transformations on given bars.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION2"><font size="2">2.  Midi message accessor.</font></a></td> <td width="280" valign="top"><a href="#SECTION9"><font size="2">9.  Standard Midi File functions.</font></a></td> <td width="280" valign="top"><a href="#SECTION16"><font size="2">16.  Midi transformations on sections.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION3"><font size="2">3.  Message List functions - General Purpose.</font></a></td> <td width="280" valign="top"><a href="#SECTION10"><font size="2">10.  Generation of Scaling Functions.</font></a></td> <td width="280" valign="top"><a href="#SECTION17"><font size="2">17.  Generation of note phrases.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION4"><font size="2">4.  Message List functions - Time related</font></a></td> <td width="280" valign="top"><a href="#SECTION11"><font size="2">11.  Examples of Scaling Functions.</font></a></td> <td width="280" valign="top"><a href="#SECTION18"><font size="2">18.  Style Splitting.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION5"><font size="2">5.  Message List functions - Note related</font></a></td> <td width="280" valign="top"><a href="#SECTION12"><font size="2">12.  Midi region functions.</font></a></td> <td width="280" valign="top"><a href="#SECTION19"><font size="2">19.  Arpeggio splitting.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION6"><font size="2">6.  Message List functions - Velocity related</font></a></td> <td width="280" valign="top"><a href="#SECTION13"><font size="2">13.  Single midi message abstractions.</font></a></td> <td width="280" valign="top"><a href="#SECTION20"><font size="2">20.  Auxiliary functions.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION7"><font size="2">7.  Message List functions - Duration related</font></a></td> <td width="280" valign="top"><a href="#SECTION14"><font size="2">14.  Channel replication, (copying), rechanneling, joining, and selection.</font></a></td> <td width="280" valign="top"> </td></tr></tbody></table></div></div> <p></p> <a name="MANUAL-INDEX"></a> <div class="manual-alphabetic-index-header">Alphabetic index:</div> <div style="margin-left:12px;"><table border="3" class="manual-alphabetic-index"><tr><td class="manual-header-title"><a href="#abs-merge">abs-merge</a></td> <td class="manual-header-form">(abs-merge other-message-list . messages)</td> <td class="manual-header-description">Merge the current selection with another a list of messages.</td></tr> <tr><td class="manual-header-title"><a href="#abs-time-reverse">abs-time-reverse</a></td> <td class="manual-header-form">(abs-time-reverse . messages)</td> <td class="manual-header-description">Reverses the absTimes of messages.</td></tr> <tr><td class="manual-header-title"><a href="#add-to-velocity">add-to-velocity</a></td> <td class="manual-header-form">(add-to-velocity channel amount . messages)</td> <td class="manual-header-description">Add amount to velocity of a given channel.</td></tr> <tr><td class="manual-header-title"><a href="#add-two-scaling-functions">add-two-scaling-functions</a></td> <td class="manual-header-form">(add-two-scaling-functions sf1 sf2)</td> <td class="manual-header-description">Add two scaling functions with each other </td></tr> <tr><td class="manual-header-title"><a href="#apply-to-tracks-nested">apply-to-tracks-nested</a></td> <td class="manual-header-form">(apply-to-tracks-nested f f-parameter-list ast)</td> <td class="manual-header-description">Apply f on the messages of all tracks in ast (a StandardMidiFile or MidiTrack AST).</td></tr> <tr><td class="manual-header-title"><a href="#apply-to-tracks-top-level">apply-to-tracks-top-level</a></td> <td class="manual-header-form">(apply-to-tracks-top-level f f-parameter-list ast)</td> <td class="manual-header-description">Apply f on the messages of all tracks in ast (a StandardMidiFile or MidiTrack AST).</td></tr> <tr><td class="manual-header-title"><a href="#beat">beat</a></td> <td class="manual-header-form">(beat direction stretch base-velocity total-length velocity-scaling-fn delta-time-scaling-fn [transposition ch base-duration time-note-list])</td> <td class="manual-header-description">Return a guitar beat chord in channel ch with a number notes, with an enforced total length (duration) of total-length.</td></tr> <tr><td class="manual-header-title"><a href="#channel-message?">channel-message?</a></td> <td class="manual-header-form">(channel-message? x)</td> <td class="manual-header-description">Is x a midi message ast with a channel attribute? Returns #f is x is not an AST.</td></tr> <tr><td class="manual-header-title"><a href="#channel-volume-flow">channel-volume-flow</a></td> <td class="manual-header-form">(channel-volume-flow channel channel-volume-from channel-volume-to . messages)</td> <td class="manual-header-description">Gradually change the channel volume a given channel from channel-volume-from to channel-volume-to.</td></tr> <tr><td class="manual-header-title"><a href="#chord-complement">chord-complement</a></td> <td class="manual-header-form">(chord-complement chord-str-list)</td> <td class="manual-header-description">Returns the complement of chord-str-list, relative to the possible note names.</td></tr> <tr><td class="manual-header-title"><a href="#chord-marker">chord-marker</a></td> <td class="manual-header-form">(chord-marker bite channel n chord-formula chord-name)</td> <td class="manual-header-description">A suitable function f for map-chords, which mark the beginning and ends of chords with MIDI markers.</td></tr> <tr><td class="manual-header-title"><a href="#chord-meta">chord-meta</a></td> <td class="manual-header-form">(chord-meta root [chord-type])</td> <td class="manual-header-description">Create a Yamaha Tyros Meta event (with deltaTiming, value 0) that encodes a given root and chord-type.</td></tr> <tr><td class="manual-header-title"><a href="#chorus">chorus</a></td> <td class="manual-header-form">(chorus c value)</td> <td class="manual-header-description">Set the level of chorus of channel c to value.</td></tr> <tr><td class="manual-header-title"><a href="#clean-for-motif">clean-for-motif</a></td> <td class="manual-header-form">(clean-for-motif . messages)</td> <td class="manual-header-description">Eliminate voice message (by use of the function eliminate-voice-messages) and remove all ControlChange messages (apart from Pedal Sustain).</td></tr> <tr><td class="manual-header-title"><a href="#clean-for-sectional-playing">clean-for-sectional-playing</a></td> <td class="manual-header-form">(clean-for-sectional-playing time-mode time-start include-voice-messages? . messages)</td> <td class="manual-header-description">Rinse the prefix of messages for noise messages (Meta tempo, ProgramControl, certain ControlChanges, and PitchBendChange) If include-voice-messages? is true, also include voice related ProgramChange and ControlChange messages in the prefix.</td></tr> <tr><td class="manual-header-title"><a href="#ControlChange?">ControlChange?</a></td> <td class="manual-header-form">(ControlChange? x  [control channel])</td> <td class="manual-header-description">Is x a ControlChange midi message in channel.</td></tr> <tr><td class="manual-header-title"><a href="#cut-at-time">cut-at-time</a></td> <td class="manual-header-form">(cut-at-time abs-cut-time channel-list . messages)</td> <td class="manual-header-description">Cut all messages in channel-list that starts after abs-cut-time, and (if necessary) adjust the duration of messages in channel-list that start before abs-cut-time such that they end at abs-cut-time or before.</td></tr> <tr><td class="manual-header-title"><a href="#delete-channel">delete-channel</a></td> <td class="manual-header-form">(delete-channel channel . messages)</td> <td class="manual-header-description">Delete those messages from message-list which belong to the given channel.</td></tr> <tr><td class="manual-header-title"><a href="#delete-channel-abs-time">delete-channel-abs-time</a></td> <td class="manual-header-form">(delete-channel-abs-time channel . messages)</td> <td class="manual-header-description">Delete those messages from message-list which belong to the given channel.</td></tr> <tr><td class="manual-header-title"><a href="#delta-abs-merge">delta-abs-merge</a></td> <td class="manual-header-form">(delta-abs-merge delta-message-list . messages)</td> <td class="manual-header-description">Merge the delta time messages in delta-message-list with messages.</td></tr> <tr><td class="manual-header-title"><a href="#delta-merge">delta-merge</a></td> <td class="manual-header-form">(delta-merge other-message-list . messages)</td> <td class="manual-header-description">Merge the current selection with another a list of messages.</td></tr> <tr><td class="manual-header-title"><a href="#delta-merge-lists">delta-merge-lists</a></td> <td class="manual-header-form">(delta-merge-lists  . list-of-message-lists)</td> <td class="manual-header-description">Merge an arbitrary number of lists, each of which contains deltaTimed notes.</td></tr> <tr><td class="manual-header-title"><a href="#delta-merge-two-lists">delta-merge-two-lists</a></td> <td class="manual-header-form">(delta-merge-two-lists message-list-1 message-list-2)</td> <td class="manual-header-description">Merge two list of deltaTimed notes.</td></tr> <tr><td class="manual-header-title"><a href="#distribute-even">distribute-even</a></td> <td class="manual-header-form">(distribute-even channel . messages)</td> <td class="manual-header-description">Distribute all NoteOn in the given channel evenly.</td></tr> <tr><td class="manual-header-title"><a href="#drum-category-of-note-value">drum-category-of-note-value</a></td> <td class="manual-header-form">(drum-category-of-note-value note-value)</td> <td class="manual-header-description">Return the drum category of note-value.</td></tr> <tr><td class="manual-header-title"><a href="#drum-NoteOn?">drum-NoteOn?</a></td> <td class="manual-header-form">(drum-NoteOn? x)</td> <td class="manual-header-description">Is x a NoteOn drum midi message? In the context of this predicate, a drum midi message uses channel 9 or channel 10.</td></tr> <tr><td class="manual-header-title"><a href="#duration-to-next">duration-to-next</a></td> <td class="manual-header-form">(duration-to-next default-duration)</td> <td class="manual-header-description">Return a functions, which (when called) calculates a duration attribute value pair (a list of two elements) of the deltaTime length  from the hosting NoteOn to the next NoteOn with same channel and the same note value.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-breaks">eliminate-breaks</a></td> <td class="manual-header-form">(eliminate-breaks channel . messages)</td> <td class="manual-header-description">Tie all notes in channel together, in order to eliminate breaks.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-channel-key-pressure">eliminate-channel-key-pressure</a></td> <td class="manual-header-form">(eliminate-channel-key-pressure channel . messages)</td> <td class="manual-header-description">Eliminate ChannelKeyPressure messages in a given channel.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-control-change">eliminate-control-change</a></td> <td class="manual-header-form">(eliminate-control-change channel control . messages)</td> <td class="manual-header-description">Eliminate ControlChange messages in a given channel and with a given control number.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-events">eliminate-events</a></td> <td class="manual-header-form">(eliminate-events predicate . messages)</td> <td class="manual-header-description">Eliminate events that matches the predicate.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-midi-null-events">eliminate-midi-null-events</a></td> <td class="manual-header-form">(eliminate-midi-null-events . messages)</td> <td class="manual-header-description">Eliminate midi null events in all channels.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-pitch-bend">eliminate-pitch-bend</a></td> <td class="manual-header-form">(eliminate-pitch-bend channel . messages)</td> <td class="manual-header-description">Eliminate PitchBench message in a given channel.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-program-change">eliminate-program-change</a></td> <td class="manual-header-form">(eliminate-program-change channel . messages)</td> <td class="manual-header-description">Eliminate ProgramChange message in a given channel.</td></tr> <tr><td class="manual-header-title"><a href="#eliminate-voice-messages">eliminate-voice-messages</a></td> <td class="manual-header-form">(eliminate-voice-messages . messages)</td> <td class="manual-header-description">Eliminate ProgramChange messages and ControlChange messages that select voice banks (both the MSB and LSB variants).</td></tr> <tr><td class="manual-header-title"><a href="#enforce-attribute-value">enforce-attribute-value</a></td> <td class="manual-header-form">(enforce-attribute-value form-name attribute-name attribute-value . messages)</td> <td class="manual-header-description">Enforce that the attribute value of of attribute-name in all forms with name form-name will have the value attribute-value.</td></tr> <tr><td class="manual-header-title"><a href="#enforce-minimum-message-length">enforce-minimum-message-length</a></td> <td class="manual-header-form">(enforce-minimum-message-length min-length message-list)</td> <td class="manual-header-description">Enforce that message-list will have a mini length of min-length.</td></tr> <tr><td class="manual-header-title"><a href="#envelope-sections-by-bar">envelope-sections-by-bar</a></td> <td class="manual-header-form">(envelope-section-by-bar section-list . message-list)</td> <td class="manual-header-description">Envelope sections of the midi message-list with pieces from section-list.</td></tr> <tr><td class="manual-header-title"><a href="#fade-out">fade-out</a></td> <td class="manual-header-form">(fade-out . messages)</td> <td class="manual-header-description">Fade out linearly all channels in message-list.</td></tr> <tr><td class="manual-header-title"><a href="#fade-out-channels">fade-out-channels</a></td> <td class="manual-header-form">(fade-out . messages)</td> <td class="manual-header-description">Fade out linearly channelels in channel-list in message-list.</td></tr> <tr><td class="manual-header-title"><a href="#filter-messages">filter-messages</a></td> <td class="manual-header-form">(filter-messages pred-fn . messages)</td> <td class="manual-header-description">Keep those messages in the message list that satisfy the predicate pred-fn.</td></tr> <tr><td class="manual-header-title"><a href="#filter-messages-keep-residual-and-accumulate!">filter-messages-keep-residual-and-accumulate!</a></td> <td class="manual-header-form">(filter-messages-keep-residual-and-accumulate! pred-fn abs-target-file-path abs-merge-file-path . messages)</td> <td class="manual-header-description">Filter those messages in the message list that satisfy the predicate pred-fn.</td></tr> <tr><td class="manual-header-title"><a href="#filter-messages-keep-residual-and-reprocess!">filter-messages-keep-residual-and-reprocess!</a></td> <td class="manual-header-form">(filter-messages-keep-residual-and-reprocess! pred-fn abs-target-file-path abs-merge-file-path . messages)</td> <td class="manual-header-description">Filter those messages in the message list that satisfy the predicate pred-fn.</td></tr> <tr><td class="manual-header-title"><a href="#from-percent-points">from-percent-points</a></td> <td class="manual-header-form">(from-percent-points point-lst)</td> <td class="manual-header-description">Return a list of points useful for make-scale-function-by-xy-points.</td></tr> <tr><td class="manual-header-title"><a href="#from-permille-points">from-permille-points</a></td> <td class="manual-header-form">(from-permille-points point-lst)</td> <td class="manual-header-description">Return a list of points useful for make-scale-function-by-xy-points.</td></tr> <tr><td class="manual-header-title"><a href="#generate-complete-chord-list">generate-complete-chord-list</a></td> <td class="manual-header-form">(generate-complete-chord-list basic-chord-list [chord-naming-style])</td> <td class="manual-header-description">Generate a complete list of chords from a basic chord list (a list of c chords, like the basic-chord-list).</td></tr> <tr><td class="manual-header-title"><a href="#generate-mega-voice-function">generate-mega-voice-function</a></td> <td class="manual-header-form">(generate-mega-voice-function mega-voice-map)</td> <td class="manual-header-description">Generates a mega-voice-function from a given mega voice map.</td></tr> <tr><td class="manual-header-title"><a href="#gm-voice">gm-voice</a></td> <td class="manual-header-form">(gm-voice channel program)</td> <td class="manual-header-description">A specialized General Midi version of the voice function.</td></tr> <tr><td class="manual-header-title"><a href="#icon">icon</a></td> <td class="manual-header-form">(icon name)</td> <td class="manual-header-description">Return an icon name, which serve as the &#39;middle name&#39; of a style file.</td></tr> <tr><td class="manual-header-title"><a href="#insert-leading-and-trailing-beats">insert-leading-and-trailing-beats</a></td> <td class="manual-header-form">(insert-leading-and-trailing-beats ch . messages)</td> <td class="manual-header-description">Insert four beats in channel ch (such as channel 10, the drum channel) just before the first midi message in messages and just before the end-of-track Meta event.</td></tr> <tr><td class="manual-header-title"><a href="#insert-lyric">insert-lyric</a></td> <td class="manual-header-form">(insert-lyric lyric-syllable-list . messages)</td> <td class="manual-header-description">Insert lyric elements from lyric-syllable-list in the empty Meta lyric in messages.</td></tr> <tr><td class="manual-header-title"><a href="#interpolate">interpolate</a></td> <td class="manual-header-form">(interpolate channel . messages)</td> <td class="manual-header-description">Put an interpolation note in between every note on the given channel.</td></tr> <tr><td class="manual-header-title"><a href="#join-channels">join-channels</a></td> <td class="manual-header-form">(join-channels channel-list ch-to . messages)</td> <td class="manual-header-description">Join (remove) messages in channel-list, and instead assign these to channel ch-to.</td></tr> <tr><td class="manual-header-title"><a href="#keep-beat">keep-beat</a></td> <td class="manual-header-form">(keep-beat n [displacement ppqn])</td> <td class="manual-header-description">Generates a useful absTime predicate for thin-out-messages-abs-time.</td></tr> <tr><td class="manual-header-title"><a href="#legato-in-channel">legato-in-channel</a></td> <td class="manual-header-form">(legato-in-channel channel . messages)</td> <td class="manual-header-description">Tie the notes in channel together - legato.</td></tr> <tr><td class="manual-header-title"><a href="#lyrics">lyrics</a></td> <td class="manual-header-form">(lyrics txt)</td> <td class="manual-header-description">Create a lyrics meta event with the given text.</td></tr> <tr><td class="manual-header-title"><a href="#make-pitch-bend-change-list">make-pitch-bend-change-list</a></td> <td class="manual-header-form">(make-pitch-bend-change-list ch n duration scale-fn [first-delta-time])</td> <td class="manual-header-description">Return a list of n deltaTimed PitchBendChange midi events for channel ch with a total duration.</td></tr> <tr><td class="manual-header-title"><a href="#make-scale-fn-pol-one-pol">make-scale-fn-pol-one-pol</a></td> <td class="manual-header-form">(make-scale-fn-pol-one-pol shape-start shape-end c d)</td> <td class="manual-header-description">Generates a positive, continuous scaling function which is constant one &#39;in the middle&#39; and a second degree polynomial &#39;in the ends&#39;.</td></tr> <tr><td class="manual-header-title"><a href="#make-scale-fn-pol-one-pol-general">make-scale-fn-pol-one-pol-general</a></td> <td class="manual-header-form">(make-scale-fn-pol-one-pol-general shape-start shape-end cs ds ce de)</td> <td class="manual-header-description">A generalization of f-identity-symmetric which uses separate parameters of the second degree polynomials at the start of the interval and at the end of the interval.</td></tr> <tr><td class="manual-header-title"><a href="#make-scale-function-by-xy-points">make-scale-function-by-xy-points</a></td> <td class="manual-header-form">(make-scale-function-by-xy-points xy-list)</td> <td class="manual-header-description">Return a scaling function composed by linear functions on subintervals of [0,1].</td></tr> <tr><td class="manual-header-title"><a href="#make-tempo-change-list">make-tempo-change-list</a></td> <td class="manual-header-form">(make-tempo-change-list n duration base-tempo scale-fn [last-tempo])</td> <td class="manual-header-description">Return a list of n deltaTimed tempo Meta events with a total length of duration.</td></tr> <tr><td class="manual-header-title"><a href="#make-volume-change-list">make-volume-change-list</a></td> <td class="manual-header-form">(make-volume-change-list ch n duration start-volume scale-fn [end-volumne])</td> <td class="manual-header-description">Return a list of n deltaTimed ControlChange type 7 &#39;channel volume" events with a total length of duration.</td></tr> <tr><td class="manual-header-title"><a href="#map-bars">map-bars</a></td> <td class="manual-header-form">(map-bars f ppqn time-signature . messages)</td> <td class="manual-header-description">Map the function f on each (non-empty) bar of messages.</td></tr> <tr><td class="manual-header-title"><a href="#map-chords">map-chords</a></td> <td class="manual-header-form">(map-chords channel max-time-diff f . messages)</td> <td class="manual-header-description">Map the function f on chords in a given channel.</td></tr> <tr><td class="manual-header-title"><a href="#map-midi-sections">map-midi-sections</a></td> <td class="manual-header-form">(map-midi-sections prefix-bite sublist-pred sublist-trans . message-list)</td> <td class="manual-header-description">Apply sublist-pred to successive sublist bites of message-list.</td></tr> <tr><td class="manual-header-title"><a href="#map-notes-in-channels">map-notes-in-channels</a></td> <td class="manual-header-form">(map-notes-in-channels note-map channels-list . messages)</td> <td class="manual-header-description">Map the notes in channel-list to other notes.</td></tr> <tr><td class="manual-header-title"><a href="#map-paused-sections">map-paused-sections</a></td> <td class="manual-header-form">(map-paused-sections f silence-ticks relevant . messages)</td> <td class="manual-header-description">Apply a function on section of messages separate by a pause.</td></tr> <tr><td class="manual-header-title"><a href="#map-sustain-intervals">map-sustain-intervals</a></td> <td class="manual-header-form">(map-sustain-intervals channel f . messages)</td> <td class="manual-header-description">Map the function f over bites of messages that are monotone in the sustain pedal relative to a given channel.</td></tr> <tr><td class="manual-header-title"><a href="#marker-channel">marker-channel</a></td> <td class="manual-header-form">(marker-channel channel marker-letter . messages)</td> <td class="manual-header-description">Use the given channel as a marker channel.</td></tr> <tr><td class="manual-header-title"><a href="#marker-silence">marker-silence</a></td> <td class="manual-header-form">(marker-silence silence-ticks marker-letter . messages)</td> <td class="manual-header-description">Insert markers in messages - in between sections separated by least silent-ticks of silence.</td></tr> <tr><td class="manual-header-title"><a href="#markup-chords">markup-chords</a></td> <td class="manual-header-form">(markup-chords channel marker-letter . messages)</td> <td class="manual-header-description">Identify chords, and markup sections with a given chord by start and end markers.</td></tr> <tr><td class="manual-header-title"><a href="#Meta?">Meta?</a></td> <td class="manual-header-form">(Meta? x [type])</td> <td class="manual-header-description">Is x a Meta midi message of type? </td></tr> <tr><td class="manual-header-title"><a href="#midi">midi</a></td> <td class="manual-header-form">(midi attribute-name mes)</td> <td class="manual-header-description">Return the attribute value of the attribute named attribute-name of mes.</td></tr> <tr><td class="manual-header-title"><a href="#midi-comment">midi-comment</a></td> <td class="manual-header-form">(midi-comment . text-strings)</td> <td class="manual-header-description">Return a deltaTime meta event which can act as a comment in the midi file.</td></tr> <tr><td class="manual-header-title"><a href="#midi-comment-abs-time">midi-comment-abs-time</a></td> <td class="manual-header-form">(midi-comment-abs-time abs-time . text-strings)</td> <td class="manual-header-description">Return ad absTime meta event which can act as a comment in the midi file.</td></tr> <tr><td class="manual-header-title"><a href="#midi-comment-delta-time">midi-comment-delta-time</a></td> <td class="manual-header-form">(midi-comment-delta-time delta-time . text-strings)</td> <td class="manual-header-description">Return a deltaTime meta event which can act as a comment in the midi file.</td></tr> <tr><td class="manual-header-title"><a href="#midi-context">midi-context</a></td> <td class="manual-header-form">(midi-context continuation-name . messages)</td> <td class="manual-header-description">Establish a context in which a smaller selection can be made.</td></tr> <tr><td class="manual-header-title"><a href="#midi-marker">midi-marker</a></td> <td class="manual-header-form">(midi-marker marker-txt [marker-number marker-letter])</td> <td class="manual-header-description">Return a deltaTime meta event of type 6 - a marker event.</td></tr> <tr><td class="manual-header-title"><a href="#midi-marker-abs-time">midi-marker-abs-time</a></td> <td class="manual-header-form">(midi-marker-abs-time abs-time marker-txt [marker-number marker-letter])</td> <td class="manual-header-description">Return an absTime meta event of type 6 - a marker event timed at abs-time.</td></tr> <tr><td class="manual-header-title"><a href="#midi-null-event">midi-null-event</a></td> <td class="manual-header-form">(midi-null-event delta-time [info-text])</td> <td class="manual-header-description">A deltaTime midi null event inserted at delta-time.</td></tr> <tr><td class="manual-header-title"><a href="#midi-null-event-abs-time">midi-null-event-abs-time</a></td> <td class="manual-header-form">(midi-null-event-abs-time abs-time [info-text])</td> <td class="manual-header-description">An absTime midi null event, inserted at abs-time.</td></tr> <tr><td class="manual-header-title"><a href="#midi-null-event-delta-time">midi-null-event-delta-time</a></td> <td class="manual-header-form">(midi-null-event-delta-time delta-time [info-text])</td> <td class="manual-header-description">A deltaTime midi null event inserted at delta-time.</td></tr> <tr><td class="manual-header-title"><a href="#midi-null-event-message?">midi-null-event-message?</a></td> <td class="manual-header-form">(midi-null-event-message? x)</td> <td class="manual-header-description">Is x a midi null event AST? In fact, this predicate catches all Meta type 1 events (because the textual contents of midi null events have been given free).</td></tr> <tr><td class="manual-header-title"><a href="#midi-null-event-text">midi-null-event-text</a></td> <td class="manual-header-form">midi-null-event-text</td> <td class="manual-header-description">The default midi null event info text.</td></tr> <tr><td class="manual-header-title"><a href="#midi-region">midi-region</a></td> <td class="manual-header-form">(midi-region . midi-messages)</td> <td class="manual-header-description">Marks a region of midi messages, with the purpose of adding additional structure to a MIDI LAML file (much like span and div in HTML).</td></tr> <tr><td class="manual-header-title"><a href="#midi-region-do">midi-region-do</a></td> <td class="manual-header-form">(midi-region-do contextual-continuation . messages)</td> <td class="manual-header-description">Marks a region of midi messages.</td></tr> <tr><td class="manual-header-title"><a href="#multiply-scaling-function">multiply-scaling-function</a></td> <td class="manual-header-form">(multiply-scaling-function factor sf)</td> <td class="manual-header-description">Multiply a scaling function sc my a factor, and return the new, scaled scaling function.</td></tr> <tr><td class="manual-header-title"><a href="#multiply-two-scaling-functions">multiply-two-scaling-functions</a></td> <td class="manual-header-form">(multiply-two-scaling-functions sf1 sf2)</td> <td class="manual-header-description">Multiply two scaling functions with each other </td></tr> <tr><td class="manual-header-title"><a href="#no-sustain">no-sustain</a></td> <td class="manual-header-form">(no-sustain channel . message-list)</td> <td class="manual-header-description">Eliminate all sustain ControlChange messages on the given channel in message-list.</td></tr> <tr><td class="manual-header-title"><a href="#non-channel-message?">non-channel-message?</a></td> <td class="manual-header-form">(non-channel-message? x)</td> <td class="manual-header-description">Is x a midi message ast without a channel attribute? Returns #f is x is not an AST.</td></tr> <tr><td class="manual-header-title"><a href="#note-complement">note-complement</a></td> <td class="manual-header-form">(note-complement note-str-list)</td> <td class="manual-header-description">Returns the complement of note-str-list, relative to the possible note names.</td></tr> <tr><td class="manual-header-title"><a href="#NoteOn?">NoteOn?</a></td> <td class="manual-header-form">(NoteOn? x)</td> <td class="manual-header-description">Is x a NoteOn midi message? </td></tr> <tr><td class="manual-header-title"><a href="#NoteOnCh?">NoteOnCh?</a></td> <td class="manual-header-form">(NoteOnCh? channels)</td> <td class="manual-header-description">A higher-order function that returns a NoteOn predicate that only accepts NoteOn midi messages that belong to channels.</td></tr> <tr><td class="manual-header-title"><a href="#octave">octave</a></td> <td class="manual-header-form">(octave channel n . messages)</td> <td class="manual-header-description">Change octave on channel ch with n.</td></tr> <tr><td class="manual-header-title"><a href="#pan">pan</a></td> <td class="manual-header-form">(pan c value)</td> <td class="manual-header-description">Set the PAN of channel c to value.</td></tr> <tr><td class="manual-header-title"><a href="#pan-flow">pan-flow</a></td> <td class="manual-header-form">(pan-flow channel pan-from pan-to . messages)</td> <td class="manual-header-description">Gradually pan a given channel from pan-from to pan-to.</td></tr> <tr><td class="manual-header-title"><a href="#pan-left-right">pan-left-right</a></td> <td class="manual-header-form">(pan-left-right channel pan-level . messages)</td> <td class="manual-header-description">Gradually pan a given channel from pan-level towards left, then to the right and back to pan-level.</td></tr> <tr><td class="manual-header-title"><a href="#pass-through">pass-through</a></td> <td class="manual-header-form">(pass-through . messages).</td> <td class="manual-header-description">A neutral and trivial message list function.</td></tr> <tr><td class="manual-header-title"><a href="#pitch-bend-range">pitch-bend-range</a></td> <td class="manual-header-form">(pitch-bend-range channel range [cents])</td> <td class="manual-header-description">Emit four control change messages which control the pitch-bend-range, in half tones and cents, for the given channel.</td></tr> <tr><td class="manual-header-title"><a href="#pitch-bend-scale">pitch-bend-scale</a></td> <td class="manual-header-form">(pitch-bend-scale factor)</td> <td class="manual-header-description">A higher-order function that returns a numeric pitch-bend scaling function that takes into consideration that the mid-point pitch-bend value is 8192 (and not 0 as in the simple case of scaling).</td></tr> <tr><td class="manual-header-title"><a href="#PitchBendChange?">PitchBendChange?</a></td> <td class="manual-header-form">(PitchBendChange? x [channel])</td> <td class="manual-header-description">Is x a PitchBendChange midi message in channel.</td></tr> <tr><td class="manual-header-title"><a href="#play-chord">play-chord</a></td> <td class="manual-header-form">(play-chord root chord-type start-octave number-of-octaves time-delta duration [channel velocity])</td> <td class="manual-header-description">Play a given chord progression as a (maybe long) number of NoteOn messages, mostly for chord demo purposes.</td></tr> <tr><td class="manual-header-title"><a href="#ProgramChange?">ProgramChange?</a></td> <td class="manual-header-form">(ProgramChange? x [channel])</td> <td class="manual-header-description">Is x a ProgramChange midi message in channel? </td></tr> <tr><td class="manual-header-title"><a href="#quantize">quantize</a></td> <td class="manual-header-form">(quantize channel q pulses-per-quarter-note . messages)</td> <td class="manual-header-description">Quantize channel to q.</td></tr> <tr><td class="manual-header-title"><a href="#quantize-channels">quantize-channels</a></td> <td class="manual-header-form">(quantize channel-list q pulses-per-quarter-note . messages)</td> <td class="manual-header-description">Quantize a number of channels to q.</td></tr> <tr><td class="manual-header-title"><a href="#randomize-attribute">randomize-attribute</a></td> <td class="manual-header-form">(randomize-attribute pred attribute-name channel-list lower-number upper-number min-attribute-value max-attribute-value . messages)</td> <td class="manual-header-description">Randomize the values of the attributes that belong to attribute-name of messages in channel-list.</td></tr> <tr><td class="manual-header-title"><a href="#rechannel">rechannel</a></td> <td class="manual-header-form">(rechannel channel-map . messages)</td> <td class="manual-header-description">Rechannel (change channel numbers) messages according to channel-map.</td></tr> <tr><td class="manual-header-title"><a href="#recording-to-motif">recording-to-motif</a></td> <td class="manual-header-form">(recording-to-motif smf-ast)</td> <td class="manual-header-description">Convert a &#39;brainstorm recording&#39; to a Motif XS format 0 midi file of ppqn 480.</td></tr> <tr><td class="manual-header-title"><a href="#recording-to-tyros">recording-to-tyros</a></td> <td class="manual-header-form">(recording-to-tyros smf-ast)</td> <td class="manual-header-description">Convert a &#39;brainstorm recording&#39; to a Tyros format 0 midi file of ppqn 1920.</td></tr> <tr><td class="manual-header-title"><a href="#regular-beats">regular-beats</a></td> <td class="manual-header-form">(regular-beats n ch note-value distance)</td> <td class="manual-header-description">Return a list of n deltaTimed notes, of note value note-value, all in channel ch, with a mutual distance of distance.</td></tr> <tr><td class="manual-header-title"><a href="#repeat-messages">repeat-messages</a></td> <td class="manual-header-form">(repeat-messages n . messages)</td> <td class="manual-header-description">Repeat messages n times.</td></tr> <tr><td class="manual-header-title"><a href="#repeat-messages-enforce-periode-length">repeat-messages-enforce-periode-length</a></td> <td class="manual-header-form">(repeat-messages-enforce-periode-length n min-period-length . messages)</td> <td class="manual-header-description">Repeat messages n times, and enforce that each repetition has length of at least min-period-length.</td></tr> <tr><td class="manual-header-title"><a href="#replicate">replicate</a></td> <td class="manual-header-form">(replicate n . messages)</td> <td class="manual-header-description">Replicate the events (in all channels) in message-list n times.</td></tr> <tr><td class="manual-header-title"><a href="#replicate-by-predicate">replicate-by-predicate</a></td> <td class="manual-header-form">(replicate-by-predicate predicate ch-to . messages)</td> <td class="manual-header-description">Replicate each channel-message that satisfies the predicate.</td></tr> <tr><td class="manual-header-title"><a href="#replicate-by-predicate-and-transformation">replicate-by-predicate-and-transformation</a></td> <td class="manual-header-form">(replicate-by-predicate predicate transformation . messages)</td> <td class="manual-header-description">A generalization of replicate-by-predicate, which passes the message to be replicated to a transformation function.</td></tr> <tr><td class="manual-header-title"><a href="#replicate-channel">replicate-channel</a></td> <td class="manual-header-form">(replicate-channel ch-from ch-to . messages)</td> <td class="manual-header-description">Replicate each message of a given channel in message-list.</td></tr> <tr><td class="manual-header-title"><a href="#reverb">reverb</a></td> <td class="manual-header-form">(reverb c value)</td> <td class="manual-header-description">Set the level of reverb of channel c to value.</td></tr> <tr><td class="manual-header-title"><a href="#revoice">revoice</a></td> <td class="manual-header-form">(revoice revoice-map . messages)</td> <td class="manual-header-description">Revoice all ProgramChange events in the messages list according to revoice-map.</td></tr> <tr><td class="manual-header-title"><a href="#rtm">rtm</a></td> <td class="manual-header-form">(rtm smf-ast)</td> <td class="manual-header-description">A convenience variant of the function recording-to-motif which, in addition, eliminates all ChannelKeyPressure messages.</td></tr> <tr><td class="manual-header-title"><a href="#same-time-transform">same-time-transform</a></td> <td class="manual-header-form">(same-time-transform channels transformer . messages)</td> <td class="manual-header-description">Transform consecutive midi NoteOn messages (two or more) that belong to channels, and which occur at the same time.</td></tr> <tr><td class="manual-header-title"><a href="#scale-attribute">scale-attribute</a></td> <td class="manual-header-form">(scale-attribute attribute-name scaling-function . messages)</td> <td class="manual-header-description">Scale an attribute with use of a scaling function.</td></tr> <tr><td class="manual-header-title"><a href="#scale-attribute-by-factor">scale-attribute-by-factor</a></td> <td class="manual-header-form">(scale-attribute-by-factor ast-predicate attribute-name factor . messages)</td> <td class="manual-header-description">Scale the value of attribute-name with factor.</td></tr> <tr><td class="manual-header-title"><a href="#scale-attribute-by-predicate">scale-attribute-by-predicate</a></td> <td class="manual-header-form">(scale-attribute-by-predicate ch-list attribute-name scaling-function note-value-predicate . messages)</td> <td class="manual-header-description">Scale an attribute with use of a scaling function on selected NoteOn message in given channels, determined by note-value-predicate.</td></tr> <tr><td class="manual-header-title"><a href="#scale-attribute-of-channel">scale-attribute-of-channel</a></td> <td class="manual-header-form">(scale-attribute-of-channel ch attribute-name scaling-function . messages)</td> <td class="manual-header-description">Scale an attribute in a given channel with use of a scaling function.</td></tr> <tr><td class="manual-header-title"><a href="#scale-velocity-of-sections-by-bar">scale-velocity-of-sections-by-bar</a></td> <td class="manual-header-form">(scale-velocity-of-sections-by-bar channels section-list . message-list)</td> <td class="manual-header-description">Scale the velocity of NoteOn messages, in selected channels, in given bars.</td></tr> <tr><td class="manual-header-title"><a href="#scale-velocity-of-sections-by-time">scale-velocity-of-sections-by-time</a></td> <td class="manual-header-form">(scale-velocity-of-sections-by-time channels section-list . message-list)</td> <td class="manual-header-description">Scale the velocity of NoteOn messages, in selected channels, in given regions of time.</td></tr> <tr><td class="manual-header-title"><a href="#select-channel">select-channel</a></td> <td class="manual-header-form">(select-channel channel . messages)</td> <td class="manual-header-description">Return only those messages from message-list which belong to the given channel.</td></tr> <tr><td class="manual-header-title"><a href="#select-channels">select-channels</a></td> <td class="manual-header-form">(select-channels channel-list . messages)</td> <td class="manual-header-description">Select (project) to only those channels of channel-list.</td></tr> <tr><td class="manual-header-title"><a href="#sf1">sf1</a></td> <td class="manual-header-form">sf1</td> <td class="manual-header-description">A scaling function </td></tr> <tr><td class="manual-header-title"><a href="#sf2">sf2</a></td> <td class="manual-header-form">sf2</td> <td class="manual-header-description">A scaling function </td></tr> <tr><td class="manual-header-title"><a href="#sf3">sf3</a></td> <td class="manual-header-form">sf3</td> <td class="manual-header-description">A scaling function </td></tr> <tr><td class="manual-header-title"><a href="#sf4">sf4</a></td> <td class="manual-header-form">sf4</td> <td class="manual-header-description">A scaling function </td></tr> <tr><td class="manual-header-title"><a href="#sf5">sf5</a></td> <td class="manual-header-form">sf5</td> <td class="manual-header-description">A scaling function </td></tr> <tr><td class="manual-header-title"><a href="#sf6">sf6</a></td> <td class="manual-header-form">sf6</td> <td class="manual-header-description">A scaling function </td></tr> <tr><td class="manual-header-title"><a href="#smf-to-format-0">smf-to-format-0</a></td> <td class="manual-header-form">(smf-to-format-0 context-mode smf-ast [ppqn-distance-to-end-of-track])</td> <td class="manual-header-description">Convert the StandardMidiFile to format 0 by merging all tracks.</td></tr> <tr><td class="manual-header-title"><a href="#smf-to-ppqn">smf-to-ppqn</a></td> <td class="manual-header-form">(smf-to-ppqn target-ppqn context-mode smf-ast)</td> <td class="manual-header-description">Convert smf-ast (a StandardMidiFile) to target-ppqn.</td></tr> <tr><td class="manual-header-title"><a href="#split-and-process-all-style-directory-refined">split-and-process-all-style-directory-refined</a></td> <td class="manual-header-form">(split-and-process-all-style-directory-refined meta-file-path input-dir-path output-dir-path mode)</td> <td class="manual-header-description">Split each style file in each directory of input-dir-path in midi pieces, and organize the midi pieces in output-dir-path.</td></tr> <tr><td class="manual-header-title"><a href="#split-and-process-all-styles">split-and-process-all-styles</a></td> <td class="manual-header-form">(split-and-process-all-styles input-dir-path output-dir-path mode channel-selection)</td> <td class="manual-header-description">A bulk processing variant of split-and-process-style.</td></tr> <tr><td class="manual-header-title"><a href="#split-and-process-all-styles-refined">split-and-process-all-styles-refined</a></td> <td class="manual-header-form">(split-and-process-all-styles-refined meta-file-path input-dir-path output-dir-path mode)</td> <td class="manual-header-description">Split each style file in input-dir-path in midi pieces, and organize the midi pieces in output-dir-path.</td></tr> <tr><td class="manual-header-title"><a href="#split-and-process-style">split-and-process-style</a></td> <td class="manual-header-form">(split-and-process-style style-file-path output-dir-path mode channel-selection)</td> <td class="manual-header-description">Split a given style file in midi pieces, and generate (up to) 15 different  midi files of the parts.</td></tr> <tr><td class="manual-header-title"><a href="#split-and-process-style-one-channel-refined">split-and-process-style-one-channel-refined</a></td> <td class="manual-header-form">(split-and-process-style-one-channel-refined style-file-path output-dir-path mode channel)</td> <td class="manual-header-description">A much refined version of split-and-process-style.</td></tr> <tr><td class="manual-header-title"><a href="#split-and-process-style-refined">split-and-process-style-refined</a></td> <td class="manual-header-form">(split-and-process-style-refined meta-file-path style-file-path output-dir-path mode)</td> <td class="manual-header-description">Split all channels in a style file into midi pieces.</td></tr> <tr><td class="manual-header-title"><a href="#split-arpeggio-recording">split-arpeggio-recording</a></td> <td class="manual-header-form">(split-arpeggio-recording source-file-path start-number target-dir [expected-length])</td> <td class="manual-header-description">Split a midi file in which consecutive arpeggio patterns have been recorded.</td></tr> <tr><td class="manual-header-title"><a href="#split-arpeggio-recording-via-pc-recording">split-arpeggio-recording-via-pc-recording</a></td> <td class="manual-header-form">(split-arpeggio-recording-via-pc-recording source-file-path start-number target-dir [expected-length])</td> <td class="manual-header-description">A variant of split-arpeggio-recording which takes a PC recording (as opposed to a Motif XS recording) as starting point.</td></tr> <tr><td class="manual-header-title"><a href="#split-channel-by-contextual-predicate">split-channel-by-contextual-predicate</a></td> <td class="manual-header-form">(split-channel-by-contextual-predicate channel predicate channel-true channel-false . messages)</td> <td class="manual-header-description">Split the NoteOn events in the given channel to two channels.</td></tr> <tr><td class="manual-header-title"><a href="#split-channel-by-predicate">split-channel-by-predicate</a></td> <td class="manual-header-form">(split-channel-by-predicate channel predicate channel-true channel-false . messages)</td> <td class="manual-header-description">Split the NoteOn events in the given channel to two channels.</td></tr> <tr><td class="manual-header-title"><a href="#steel-guitar-megavoice-map">steel-guitar-megavoice-map</a></td> <td class="manual-header-form">steel-guitar-megavoice-map</td> <td class="manual-header-description">The mega voice map of a steel guitar (tyros 1).</td></tr> <tr><td class="manual-header-title"><a href="#strum-1">strum-1</a></td> <td class="manual-header-form">(strum-1 length root chord-type . messages)</td> <td class="manual-header-description">Add strum (a sequence of chord adapted notes) to all matching notes in messages.</td></tr> <tr><td class="manual-header-title"><a href="#strum-2">strum-2</a></td> <td class="manual-header-form">(strum-2 . messages)</td> <td class="manual-header-description">Add strum (a sequence of chord adapted notes) to all matching notes in messages.</td></tr> <tr><td class="manual-header-title"><a href="#strum-3">strum-3</a></td> <td class="manual-header-form">(strum-3 channel . messages)</td> <td class="manual-header-description">Add strum (a sequence of chord adapted notes) to all matching notes in messages which belong to channel.</td></tr> <tr><td class="manual-header-title"><a href="#substitute-section-by-bar">substitute-section-by-bar</a></td> <td class="manual-header-form">(substitute-section-by-bar channels section-list . message-list)</td> <td class="manual-header-description">Substitute sections of the midi message-list with sections from section-list.</td></tr> <tr><td class="manual-header-title"><a href="#substitute-section-by-time">substitute-section-by-time</a></td> <td class="manual-header-form">(substitute-section-by-time channels section-list . message-list)</td> <td class="manual-header-description">Substitute sections of the midi message-list with sections from section-list.</td></tr> <tr><td class="manual-header-title"><a href="#subtract-two-scaling-functions">subtract-two-scaling-functions</a></td> <td class="manual-header-form">(subtract-two-scaling-functions sf1 sf2)</td> <td class="manual-header-description">Subtract two scaling functions with each other </td></tr> <tr><td class="manual-header-title"><a href="#surround-by-delta-time-note-list">surround-by-delta-time-note-list</a></td> <td class="manual-header-form">(surround-by-delta-note-list delta-time-note-list . messages)</td> <td class="manual-header-description">Return messages surrounded (both initially and in the end) by a list of delta timed notes.</td></tr> <tr><td class="manual-header-title"><a href="#SysEx?">SysEx?</a></td> <td class="manual-header-form">(SysEx? x [sys-ex-hex-string])</td> <td class="manual-header-description">Is x a SysEx midi message? </td></tr> <tr><td class="manual-header-title"><a href="#tempo">tempo</a></td> <td class="manual-header-form">(tempo bpm)</td> <td class="manual-header-description">Return a tempo Meta event, for tempo bpm, at deltaTime 0.</td></tr> <tr><td class="manual-header-title"><a href="#tempo-scale">tempo-scale</a></td> <td class="manual-header-form">(tempo-scale base-tempo scaling-fn . messages)</td> <td class="manual-header-description">Scale the tempo of the messages enclosed by this function.</td></tr> <tr><td class="manual-header-title"><a href="#thin-out-messages-abs-time">thin-out-messages-abs-time</a></td> <td class="manual-header-form">(thin-out-messages-abs-time channel-list abs-time-pred . messages) </td> <td class="manual-header-description">Thin out messages based on their absolute timing.</td></tr> <tr><td class="manual-header-title"><a href="#thin-out-messages-delta-time">thin-out-messages-delta-time</a></td> <td class="manual-header-form">(thin-out-messages-delta-time channel-list abs-time-pred start-time . messages) </td> <td class="manual-header-description">Thin out messages based on their absolute timing, where the absolute timing is calculated from start-time and the deltaTime attributes.</td></tr> <tr><td class="manual-header-title"><a href="#thin-out-section-by-bar">thin-out-section-by-bar</a></td> <td class="manual-header-form">(thin-out-section-by-bar channel section-list . message-list)</td> <td class="manual-header-description">Thin out sections of the midi message-list by means of abs-time predicates.</td></tr> <tr><td class="manual-header-title"><a href="#time-adapt-to">time-adapt-to</a></td> <td class="manual-header-form">(time-adapt-to new-length . messages)</td> <td class="manual-header-description">Adapt the time of the midi messages to new-length time units in total.</td></tr> <tr><td class="manual-header-title"><a href="#time-displace">time-displace</a></td> <td class="manual-header-form">(time-displace displacement . messages)</td> <td class="manual-header-description">Time displace with amount (adds displacement to the absolute time of the event).</td></tr> <tr><td class="manual-header-title"><a href="#time-displace-channels">time-displace-channels</a></td> <td class="manual-header-form">(time-displace-channels channel-list displacement . messages)</td> <td class="manual-header-description">As time-displace, but only affecting channels in channel-list </td></tr> <tr><td class="manual-header-title"><a href="#time-displace-channels-with-scaling">time-displace-channels-with-scaling</a></td> <td class="manual-header-form">(time-displace-channels-with-scaling channel-list displacement scaling-fn . messages)</td> <td class="manual-header-description">As time-displace-channels, but with a scaling of the amount of displacement.</td></tr> <tr><td class="manual-header-title"><a href="#time-of-marker">time-of-marker</a></td> <td class="manual-header-form">(time-of-marker marker-name [message-list])</td> <td class="manual-header-description">Find the absTime of marker with name marker-name, such as "M-1", in message-list.</td></tr> <tr><td class="manual-header-title"><a href="#time-stretch">time-stretch</a></td> <td class="manual-header-form">(time-stretch factor . messages)</td> <td class="manual-header-description">Stretch the time and duration of message-list with a factor.</td></tr> <tr><td class="manual-header-title"><a href="#total-length-of-message-list">total-length-of-message-list</a></td> <td class="manual-header-form">(total-length-of-message-list message-list)</td> <td class="manual-header-description">Calculate the total length of message-list.</td></tr> <tr><td class="manual-header-title"><a href="#transform-attribute">transform-attribute</a></td> <td class="manual-header-form">(transform-attribute  ast-predicate attribute-name trasformation-fn . messages)</td> <td class="manual-header-description">Transform the value of attribute-name with with a given numeric transformation function.</td></tr> <tr><td class="manual-header-title"><a href="#transform-messages">transform-messages</a></td> <td class="manual-header-form">(transform-messages filter-fn transformation-fn . messages)</td> <td class="manual-header-description">If filter-fn holds (returns true) on a given midi message, transform this message with transformation-fn.</td></tr> <tr><td class="manual-header-title"><a href="#transpose">transpose</a></td> <td class="manual-header-form">(transpose amount . messages)</td> <td class="manual-header-description">Transpose all channels with amount.</td></tr> <tr><td class="manual-header-title"><a href="#transpose-channels">transpose-channels</a></td> <td class="manual-header-form">(transpose-channels channel-list amount . messages)</td> <td class="manual-header-description">Transpose channels in channel-list with amount.</td></tr> <tr><td class="manual-header-title"><a href="#voice">voice</a></td> <td class="manual-header-form">(voice channel msb lsb program-number)</td> <td class="manual-header-description">Emit two channel change messages (msb/lsb) and a program change message.</td></tr> <tr><td class="manual-header-title"><a href="#voice-with-mix">voice-with-mix</a></td> <td class="manual-header-form">(voice-with-mix channel msb lsb program-number v p r c)</td> <td class="manual-header-description">Emit two channel change messages (msb/lsb) and a program change message together with control messages for volume, pan, reverb and chorus.</td></tr> <tr><td class="manual-header-title"><a href="#voices-from-file">voices-from-file</a></td> <td class="manual-header-form">(voices-from-file [voice-file])</td> <td class="manual-header-description">Return a list of voice messages (ProgramChange and ControlChange of control type 0 and 32) for the voices requested in voice-file.</td></tr> <tr><td class="manual-header-title"><a href="#volume">volume</a></td> <td class="manual-header-form">(volume c value)</td> <td class="manual-header-description">Set the volumen of channel c to value.</td></tr> <tr><td class="manual-header-title"><a href="#volume-scale">volume-scale</a></td> <td class="manual-header-form">(volume-scale ch start-volume scaling-fn . messages)</td> <td class="manual-header-description">Insert a volume change list in front of messages, as produced by make-volume-change-list.</td></tr> <tr><td class="manual-header-title"><a href="#volume-scale-multi-channel">volume-scale-multi-channel</a></td> <td class="manual-header-form">(volume-scale-multi-channel volume-scale-list . messages)</td> <td class="manual-header-description">Apply volume-scale multiple times as specified by volume-scale-list.</td></tr></table></div> <p></p> <table class="manual-table"><tr><td width="3000px" colspan="4"></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-mes-predicates"></a> <a name="SECTION1"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <img src="../../../../images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="#SECTION2"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">1</span> <span class="manual-section-title">Midi message predicates.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="NoteOn?"></a> NoteOn?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(NoteOn? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a NoteOn midi message? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">x</td> <td class="manual-plain-parameter-description" colspan="2">Not constrained.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#NoteOn?">NoteOn?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="NoteOnCh?"></a> NoteOnCh?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(NoteOnCh? channels)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function that returns a NoteOn predicate that only accepts NoteOn midi messages that belong to channels. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">channels</td> <td class="manual-plain-parameter-description" colspan="2">A list of channel numbers (elements are integers between 1 and 16).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A NoteOn predicate that accepts NoteOn midi messages in the the given channels.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#NoteOnCh?">NoteOnCh?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="Meta?"></a> Meta?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(Meta? x [type])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a Meta midi message of type? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">x</td> <td class="manual-plain-parameter-description" colspan="2">Any data, but typically some midi AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">type</td> <td colspan="3" class="manual-plain-parameter-description">A meta type attribute (an integer). If not provided, the type does not matter.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#Meta?">Meta?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ProgramChange?"></a> ProgramChange?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ProgramChange? x [channel])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a ProgramChange midi message in channel? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">x</td> <td class="manual-plain-parameter-description" colspan="2">Any data, but typically some midi AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer or string). If not provided, the channel does not matter.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#ProgramChange?">ProgramChange?</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Will never give a fatal error. The function returns #f in cases of problems. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="SysEx?"></a> SysEx?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(SysEx? x [sys-ex-hex-string])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a SysEx midi message? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">x</td> <td class="manual-plain-parameter-description" colspan="2">Any data, but typically some midi AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">sys-ex-hex-string</td> <td colspan="3" class="manual-plain-parameter-description">A hex string, such as "08 43 10 4C 08 0C 00 01 F7". If provided, it must match the textual contents of the SysEx message
                             (just compared via equal?). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#SysEx?">SysEx?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ControlChange?"></a> ControlChange?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ControlChange? x  [control channel])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a ControlChange midi message in channel. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">x</td> <td class="manual-plain-parameter-description" colspan="2">Any data, but typically some midi AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">control</td> <td colspan="3" class="manual-plain-parameter-description">A control number (an integer or string or boolean #t). If not provided, or if #t, the control number does not matter.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer or string). If not provided, the channel does not matter.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#ControlChange?">ControlChange?</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Will never give a fatal error. The function returns #f in cases of problems. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="PitchBendChange?"></a> PitchBendChange?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(PitchBendChange? x [channel])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a PitchBendChange midi message in channel. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">x</td> <td class="manual-plain-parameter-description" colspan="2">Any data, but typically some midi AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer or string in the range of 1 .. 16). If not provided, the channel does not matter.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#PitchBendChange?">PitchBendChange?</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Will never give a fatal error. The function returns #f in cases of problems. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="drum-NoteOn?"></a> drum-NoteOn?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(drum-NoteOn? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a NoteOn drum midi message? In the context of this predicate, a drum midi message uses channel 9 or channel 10. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#drum-NoteOn?">drum-NoteOn?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-null-event-message?"></a> midi-null-event-message?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-null-event-message? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a midi null event AST? In fact, this predicate catches all Meta type 1 events (because the textual contents of midi null events have been given free). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-null-event-message?">midi-null-event-message?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Generator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#midi-null-event">midi-null-event</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="channel-message?"></a> channel-message?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(channel-message? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a midi message ast with a channel attribute? Returns #f is x is not an AST. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#channel-message?">channel-message?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="non-channel-message?"></a> non-channel-message?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(non-channel-message? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a midi message ast without a channel attribute? Returns #f is x is not an AST. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#non-channel-message?">non-channel-message?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-mes-accessors"></a> <a name="SECTION2"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION1"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION3"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">2</span> <span class="manual-section-title">Midi message accessor.</span></td></tr> <tr><td colspan="4" class="manual-section-description">Convenient accessor of Midi Asts. Can be used instead of the general purpose accessors of LAML asts. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi"></a> midi</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi attribute-name mes)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the attribute value of the attribute named attribute-name of mes.  Numeric attributes are automatically returned as numbers. If mes is a non-ast, or an ast without an attribute named attribute-name, return #f. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">True</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">attribute-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of the attribute. A symbol. (A string also works).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">mes</td> <td colspan="3" class="manual-plain-parameter-description">A midi message ast. (Any other value my also be passed, in which case the function just returns #f).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The attribute value of mes, converted to a number for the following attribute-names: channel, note, velocity, duration, value, number, pressure, and strum-length.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi">midi</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Can always be called. The precondition is as weak as possible.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-list-fn-gp"></a> <a name="SECTION3"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION2"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION4"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">3</span> <span class="manual-section-title">Message List functions - General Purpose.</span></td></tr> <tr><td colspan="4" class="manual-section-description">This section and the following sections contain function that can be applied on lists of midi messages. The functions in this section are general purpose. As such, this is the important &#39;bread and butter&#39; functions of this library. Most functions come in two flavors. The main function, f, can be applied in this way (f m1 m2 ... mk) on arbitrary many midi messages m1 ... mk. The other flavor, always named f-1, is applied as (f-1 (list m1 m2 ... mk)). In many cases there will be a few positional and required parameters before the first message. Thus, if there are two such required parameters p1 and p2, the calling forms are (f p1 p2 m1 m2 ... mk) and (f-1 p1 p2 (list m1 m2 ... mk)) respectively. Notice that the f-1 flavor of the functions are not explicitly documented below. If necessary, consult the Scheme source file to see f-1 via the provided links under &#39;See also&#39;.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="delta-merge"></a> delta-merge</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(delta-merge other-message-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Merge the current selection with another a list of messages. Both the current selection and the other message list must consist of deltaTime messages (and only deltaTime messages). The sibling function (delta-merge-two-lists message-list-1 message-list-2) accepts two lists. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">There are deltaTime messages (and only deltaTime messages) in both involved message lists.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">other-message-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of deltaTime messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of merged messages that preserves the timing of both input lists.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#delta-merge">delta-merge</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">It is trivial to do the merging if one of the inputs contain absTime messages.
      This is because, per design, deltaTime messages can be inserted in between absTime messages.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="delta-merge-two-lists"></a> delta-merge-two-lists</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(delta-merge-two-lists message-list-1 message-list-2)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Merge two list of deltaTimed notes. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#delta-merge-two-lists">delta-merge-two-lists</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="delta-merge-lists"></a> delta-merge-lists</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(delta-merge-lists  . list-of-message-lists)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Merge an arbitrary number of lists, each of which contains deltaTimed notes. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#delta-merge-lists">delta-merge-lists</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="abs-merge"></a> abs-merge</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(abs-merge other-message-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Merge the current selection with another a list of messages. Both the current selection and the other message list must consist of absTime messages (and only absTime messages). The sibling function (abs-merge-two-lists message-list-1 message-list-2) accepts two lists. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">There are absTime messages (and only absTime messages) in both involved message lists.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">other-message-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of absTime messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A list of merged messages (absTime)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#abs-merge">abs-merge</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">It is trivial to do the merging if one of the inputs contain absTime messages.
      deltaTime merging, as implemented in delta-merge, is a little tricky - but doable.
      absTime merging, as implemented in this function, is easier to deal with.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="abs-time-reverse"></a> abs-time-reverse</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(abs-time-reverse . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime mode</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Reverses the absTimes of messages.  The absTime of the first resulting message is taken from the first of messages etc. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">There are absTime messages (and only absTime messages) in both involved message lists.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#abs-time-reverse">abs-time-reverse</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="delta-abs-merge"></a> delta-abs-merge</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(delta-abs-merge delta-message-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Merge the delta time messages in delta-message-list with messages. The messages in delta-message-list consist of deltaTime messages (and only deltaTime messages). The messages in messages consist of absTime messages (and only absTime messages). The list consisting of messages must not be empty. Returns a list of pure absTime messages. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#delta-abs-merge">delta-abs-merge</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="transform-messages"></a> transform-messages</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(transform-messages filter-fn transformation-fn . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">If filter-fn holds (returns true) on a given midi message, transform this message with transformation-fn. If not, pass the midi message untransformed. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">filter-fn</td> <td class="manual-plain-parameter-description" colspan="2">A boolean midi-message function. Is always applied on an AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">transformation-fn</td> <td colspan="3" class="manual-plain-parameter-description">a single midi-message transformation function. Is always applied on an AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of transformed messages</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#transform-messages">transform-messages</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="filter-messages"></a> filter-messages</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(filter-messages pred-fn . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Keep those messages in the message list that satisfy the predicate pred-fn. Messages that do not satify the predicate are removed. As a consequence, this function is most likely to be useful in absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">pred-fn</td> <td class="manual-plain-parameter-description" colspan="2">A boolean midi-message predicate function. Will applied on an AST. If pred-fn returns true on an-ast, keep it.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of messages</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#filter-messages">filter-messages</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="filter-messages-keep-residual-and-accumulate!"></a> filter-messages-keep-residual-and-accumulate!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(filter-messages-keep-residual-and-accumulate! pred-fn abs-target-file-path abs-merge-file-path . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime mode</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Filter those messages in the message list that satisfy the predicate pred-fn. The residual messages that do not satisfy the predicate are transferred to a file abs-merge-file-path. If the abs-merge-file-path parameter addresses an existing residual file, the compacted MIDI LAML messages in this file are merged with the residual messages of the current processing. This function is useful for accumulating residual messages - step-wise zooming (where the residual messages represent are represented separately at any time). The format used in the residual files is a list of either normal or compacted ASTs of the individual MIDI messages. Compaction of a single MIDI LAML AST message is done with the function compact-midi-laml-ast. This function is used internally by the MIDI LAML zoom facility. It only applies to pure absTime mode.  Problems arise if any deltaTime messages are encountered. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">pred-fn</td> <td class="manual-plain-parameter-description" colspan="2">A boolean midi-message predicate function. Will applied on an AST. If pred-fn returns true on an-ast, keep it.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">abs-target-file-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to a file where the residual MIDI messages are stored. If this file exists, it is deleted before new contents is written to it.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">abs-merge-file-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to an existing file with residual MIDI messages, of #f. A #f value, or a non-existing file causes no merging to take place.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of messages</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#filter-messages-keep-residual-and-accumulate!">filter-messages-keep-residual-and-accumulate!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar to</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#filter-messages-keep-residual-and-reprocess!">filter-messages-keep-residual-and-reprocess!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="filter-messages-keep-residual-and-reprocess!"></a> filter-messages-keep-residual-and-reprocess!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(filter-messages-keep-residual-and-reprocess! pred-fn abs-target-file-path abs-merge-file-path . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime mode</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Filter those messages in the message list that satisfy the predicate pred-fn. The residual messages that do not satisfy the predicate are transferred to a file abs-merge-file-path. If the abs-merge-file-path parameter addresses an existing residual file, the compacted MIDI LAML messages in this file are merged with messages before processing. This function is useful for reprocessing residual messages - zooming out and then rezooming. The format used in the files is a list of either normal or compacted ASTs of the individual MIDI messages. Compaction of a single MIDI LAML AST message is done with the function compact-midi-laml-ast. This function is used internally by the MIDI LAML zoom facility. It only applies to absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">pred-fn</td> <td class="manual-plain-parameter-description" colspan="2">A boolean midi-message predicate function. Will applied on an AST. If pred-fn returns true on an-ast, keep it.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">abs-target-file-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to a file where the residual MIDI messages are stored. If this file exists, it is deleted before new contents is written to it.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">abs-merge-file-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to an existing file with residual MIDI messages, of #f. A #f value, or a non-existing file causes no merging to take place.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of messages</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#filter-messages-keep-residual-and-reprocess!">filter-messages-keep-residual-and-reprocess!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar to</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#filter-messages-keep-residual-and-accumulate!">filter-messages-keep-residual-and-accumulate!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="transform-attribute"></a> transform-attribute</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(transform-attribute  ast-predicate attribute-name trasformation-fn . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Transform the value of attribute-name with with a given numeric transformation function. Only messages that satisfy the ast predicate ast-pred are affected. Non-affected messages, or messages that to not have an attribtute named attribute-name, are passed without modification. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">ast-predicate</td> <td class="manual-plain-parameter-description" colspan="2">A predicate, guarantied to be applied on an AST (midi-message).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#transform-attribute">transform-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Specialized function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute-by-factor">scale-attribute-by-factor</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Pitch-bend scaling function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#pitch-bend-scale">pitch-bend-scale</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">The function-generator pitch-bend-scale produces functions that can be used as transformation functions
      in case we transform the value attribute of PitchBendChange midi messages.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="scale-attribute-by-factor"></a> scale-attribute-by-factor</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(scale-attribute-by-factor ast-predicate attribute-name factor . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Scale the value of attribute-name with factor. Only messages that satisfy the ast predicate ast-pred are affected. Non-affected messages, or messages that to not have an attribtute named attribute-name, are passed without modification. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">ast-predicate</td> <td class="manual-plain-parameter-description" colspan="2">A predicate, guarantied to be applied on an AST (midi-message)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#scale-attribute-by-factor">scale-attribute-by-factor</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Generalized function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#transform-attribute">transform-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Context-dependent scaling function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute">scale-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Notice that this function is a specialization of the more general function transform-attribute.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="randomize-attribute"></a> randomize-attribute</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(randomize-attribute pred attribute-name channel-list lower-number upper-number min-attribute-value max-attribute-value . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Randomize the values of the attributes that belong to attribute-name of messages in channel-list. Only messages that satisfy the AST predidate pred are affected. Each relevant attribute value is multiplied by a random number drawn from the interval [lower-number - upper-number]. Round the result of the multiplication to an integer, and enforce the result to be  within the interval [min-attribute-value - max-attribute-value]. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="8">Parameters</td> <td class="manual-plain-parameter-name">pred</td> <td class="manual-plain-parameter-description" colspan="2">An AST predicate.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">attribute-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of an attribute. A symbol</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of channels. A list of integers in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">lower-number</td> <td colspan="3" class="manual-plain-parameter-description">The lowest possible scale factor. A real number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">upper-number</td> <td colspan="3" class="manual-plain-parameter-description">The highest possible scale factor. A real number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">min-attribute-value</td> <td colspan="3" class="manual-plain-parameter-description">The minimum value of the attribute after scaling, or #f if no such minimum applies.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">max-attribute-value</td> <td colspan="3" class="manual-plain-parameter-description">The maxium value of the attribute after scaling, or  #f if no such maximum applies.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#randomize-attribute">randomize-attribute</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="replicate"></a> replicate</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(replicate n . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Replicate the events (in all channels) in message-list n times.  Most useful in deltaTime mode. Is typically used to play n verses of a song. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">n</td> <td colspan="3" class="manual-plain-parameter-description">The number of replications. Must be a non-negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#replicate">replicate</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="scale-attribute"></a> scale-attribute</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(scale-attribute attribute-name scaling-function . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Scale an attribute with use of a scaling function. Scale the value of the attribute attribute-name in all NoteOn messages in messages. Non-NoteOn events (and NoteOn events which does not have an attribute named attribute-name) are not affected. The scaling is done by multiplying each attribute value with a factor returned by the scaling function. The factor depends on the position of the NoteOn message relative to the contextual NoteOn messages.  scaling-function is a real-valued function (lambda (x) ...) where x belongs to the interval [0,1].     </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">attribute-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of the attribute to scale. A string or symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scaling-function</td> <td colspan="3" class="manual-plain-parameter-description">A function from [0,1] to Real.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#scale-attribute">scale-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/attribute-scaling/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Non-context dependent scaling</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute-by-factor">scale-attribute-by-factor</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Scaling per channel</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute-of-channel">scale-attribute-of-channel</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Scaling functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scaling-function-generation">scaling-function-generation</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="scale-attribute-of-channel"></a> scale-attribute-of-channel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(scale-attribute-of-channel ch attribute-name scaling-function . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Scale an attribute in a given channel with use of a scaling function. Scale the value of the attribute attribute-name in all NoteOn messages in messages. Non-NoteOn events (and NoteOn events which does not have an attribute named attribute-name as well as NoteOn messages in other channels) are not affected. The scaling is done by multiplying each attribute value with a factor returned by the scaling function. The factor depends on the position of the NoteOn message relative to the contextual NoteOn messages.  scaling-function is a real-valued function (lambda (x) ...) where x belongs to the interval [0,1].     </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">ch</td> <td class="manual-plain-parameter-description" colspan="2">The channel number. An integer between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">attribute-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the attribute to scale. A string or symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scaling-function</td> <td colspan="3" class="manual-plain-parameter-description">A function from [0,1] to Real.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#scale-attribute-of-channel">scale-attribute-of-channel</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/attribute-scaling/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar non-channel function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute">scale-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Non-context dependent scaling</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute-by-factor">scale-attribute-by-factor</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Scaling functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scaling-function-generation">scaling-function-generation</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="scale-attribute-by-predicate"></a> scale-attribute-by-predicate</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(scale-attribute-by-predicate ch-list attribute-name scaling-function note-value-predicate . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Scale an attribute with use of a scaling function on selected NoteOn message in given channels, determined by note-value-predicate. Scale the value of the attribute attribute-name in all NoteOn messages in messages that satisfy the note-value-predicate. Only NoteOn messages whose channels belong to ch-list are affected. The note-value-predicate is applied on the note attribute. Non-NoteOn events (as well as NoteOn events which does not have an attribute named attribute-name and NoteOn events which does not fullfil the precidate) are not affected. The scaling is done by multiplying each attribute value with a factor returned by the scaling function. If the attribute called domaining is relative-position, the factor depends on the position of the selected NoteOn message relative to the contextual NoteOn messages which satisfy the predicate. If the attribute domaining is abs-time-domain-scaling, the factor depends on the absTime value of the selected NoteOn message. It will lead to a fatal error if abs-time-domain-scaling is used in deltaTime mode. scaling-function is a real-valued function (lambda (x) ...) where x belongs to the interval [0,1].     </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">Parameters</td> <td class="manual-plain-parameter-name">attribute-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of the attribute to scale. A string or symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ch-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of channels. Each channel in the list must be an integer between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scaling-function</td> <td colspan="3" class="manual-plain-parameter-description">A function from [0,1] to Real.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">note-value-predicate</td> <td colspan="3" class="manual-plain-parameter-description">A predicate applied on the note attribute of the NoteOn message.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">domaining </td> <td class="manual-plain-attribute-description" colspan="2">Determines the values in the domain of f. Either relative-position or abs-time-domain-scaling. Defaults to relative-position. A string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#scale-attribute-by-predicate">scale-attribute-by-predicate</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">scaling without note predicate</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute">scale-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">scaling without note predicate</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-attribute-of-channel">scale-attribute-of-channel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="enforce-attribute-value"></a> enforce-attribute-value</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(enforce-attribute-value form-name attribute-name attribute-value . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Enforce that the attribute value of of attribute-name in all forms with name form-name will have the value attribute-value. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">form-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of forms affected by this function. A string or symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">attribute-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the attribute affected by this function. A string or symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">attribute-value</td> <td colspan="3" class="manual-plain-parameter-description">The enforced attribute value. Automatically converted to a string.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#enforce-attribute-value">enforce-attribute-value</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="insert-leading-and-trailing-beats"></a> insert-leading-and-trailing-beats</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(insert-leading-and-trailing-beats ch . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime mode</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Insert four beats in channel ch (such as channel 10, the drum channel) just before the first midi message in messages and just before the end-of-track Meta event. The insert-leading-and-trailing-beats form is typically supposed to be inserted just before bar 1:0:0 and ended just after Meta type 47 (end of track).  The messages in message list, and the meta event appropriately, are automatically time-displaced by this function. The ppqn and the time signature n:m can be passed as attributes, but all have sensible default values. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">The end of track event Meta is the last event in messages (explicitly checked).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">ch</td> <td class="manual-plain-parameter-description" colspan="2">The channel in which to generate the four beats. An integer between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">ppqn </td> <td class="manual-plain-attribute-description" colspan="2">Pulses per quarter note - defaults to 192</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">n </td> <td colspan="3" class="manual-plain-attribute-description">The first number of the time signature - defaults to 4.</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">m </td> <td colspan="3" class="manual-plain-attribute-description">The last number of the time signature - defaults to 4. Not used yet.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#insert-leading-and-trailing-beats">insert-leading-and-trailing-beats</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Used for synchronization of sound recordings from two (or more) MIDI keyboards.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="thin-out-messages-abs-time"></a> thin-out-messages-abs-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(thin-out-messages-abs-time channel-list abs-time-pred . messages) </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">pure absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Thin out messages based on their absolute timing. For messages in channel-list, keep only those those message whose absTime attribute satisfy abs-time-pred. Keep messages in channels which do not belong to channel-list, and keep messages without a channel. This function is (implemented as) a specialized application of filter-messages. The higher-order function keep-beat generates useful predicates that can be used as actual parameters to abs-time-pred </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of channel numbers (an integer list).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">abs-time-pred</td> <td colspan="3" class="manual-plain-parameter-description">A boolean function (lambda (abs-time) ...). Keep those message who&#39;s absTime attribute satsify the predicate. abs-time is an integer.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#thin-out-messages-abs-time">thin-out-messages-abs-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/thin-out/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Predicate generator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#keep-beat">keep-beat</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More general function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#filter-messages">filter-messages</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">By bar variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#thin-out-section-by-bar">thin-out-section-by-bar</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="thin-out-messages-delta-time"></a> thin-out-messages-delta-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(thin-out-messages-delta-time channel-list abs-time-pred start-time . messages) </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Thin out messages based on their absolute timing, where the absolute timing is calculated from start-time and the deltaTime attributes. For messages in channel-list, keep only those those message whose calculated absolute time satisfy abs-time-pred. Keep messages in channels which do not belong to channel-list, and keep messages without a channel. This function is (implemented as) a specialized application of filter-messages. The higher-order function keep-beat generates useful predicates that can be used as actual parameters to abs-time-pred </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channel-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of channel numbers (an integer list).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">abs-time-pred</td> <td colspan="3" class="manual-plain-parameter-description">A boolean function (lambda (abs-time) ...). Keep those message who&#39;s absTime attribute satsify the predicate. abs-time is an integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">start-time</td> <td colspan="3" class="manual-plain-parameter-description">The start-time which is used as the basis for calculating absolute times. Typically 0, but no default is available.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#thin-out-messages-delta-time">thin-out-messages-delta-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/thin-out/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Predicate generator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#keep-beat">keep-beat</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More general function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#filter-messages">filter-messages</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">By bar variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#thin-out-section-by-bar">thin-out-section-by-bar</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="keep-beat"></a> keep-beat</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(keep-beat n [displacement ppqn])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a useful absTime predicate for thin-out-messages-abs-time. The absolute time is displaced with displacement (displacement is subtracted from the absolute time) before fed to the predicate. Returns a function that keeps all messages for 1/n notes, where n is 1, 2, 4, 8, ... (a power of 2, power >= 1). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">n</td> <td class="manual-plain-parameter-description" colspan="2">defines which notes to keep.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">displacement</td> <td colspan="3" class="manual-plain-parameter-description">Allows identification of notes that are systematically displace. Defaults to 0.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ppqn</td> <td colspan="3" class="manual-plain-parameter-description">Pulse per quarter notes. Defaults to 1920.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">An abs-time predicate (lambda (abs-time) ...)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#keep-beat">keep-beat</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Use context</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#thin-out-messages-abs-time">thin-out-messages-abs-time</a>  <a class="manual-plain-internal-reference" href="#thin-out-section-by-bar">thin-out-section-by-bar</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">(keep-beat 4) returns a predicate that keeps all quarter notes.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="marker-channel"></a> marker-channel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(marker-channel channel marker-letter . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Use the given channel as a marker channel. Convert NoteOn messages in the given channel to markers with consequtive numbering such as "M-1", "M-2", etc. The note attribute is used as the level of the marker. C is level 0, D is level 1, E is level 2, etc. We only use white keys for leveling. Eliminate all other ControlChange and ProgramChange messages relating to the channel. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-letter</td> <td colspan="3" class="manual-plain-parameter-description">A string of length one containg the desired marking letter.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages). Cannot be empty.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#marker-channel">marker-channel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="marker-silence"></a> marker-silence</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(marker-silence silence-ticks marker-letter . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Insert markers in messages - in between sections separated by least silent-ticks of silence. Also insert an initial marker in front of the messages. Currently, this function works only in absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">silence-ticks</td> <td class="manual-plain-parameter-description" colspan="2">A number of ticks (a non-negative integer).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-letter</td> <td colspan="3" class="manual-plain-parameter-description">A string of length one containg the desired marking letter.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#marker-silence">marker-silence</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="markup-chords"></a> markup-chords</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(markup-chords channel marker-letter . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Identify chords, and markup sections with a given chord by start and end markers. Also insert an initial marker in front of the messages. Currently, this function works only in absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel, between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-letter</td> <td colspan="3" class="manual-plain-parameter-description">A single letter, a string of length 1, used as the marker name.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#markup-chords">markup-chords</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Obsolete. Used map-chords instead together with the function chord-marker.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="map-chords"></a> map-chords</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(map-chords channel max-time-diff f . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Map the function f on chords in a given channel. Currently, this function works only in absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel, between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">max-time-diff</td> <td colspan="3" class="manual-plain-parameter-description">The maximal number of ticks between chord note candidates. An integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f</td> <td colspan="3" class="manual-plain-parameter-description">A function.   f: message-list channel bite-number chord-formula chord-name -> message-list.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#map-chords">map-chords</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Useful f</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#chord-marker">chord-marker</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">This function is a generalization of markup-chords, which we developed before this function has been provided.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="chord-marker"></a> chord-marker</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(chord-marker bite channel n chord-formula chord-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A suitable function f for map-chords, which mark the beginning and ends of chords with MIDI markers. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#chord-marker">chord-marker</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Use context</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#map-chords">map-chords</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="map-sustain-intervals"></a> map-sustain-intervals</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(map-sustain-intervals channel f . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Map the function f over bites of messages that are monotone in the sustain pedal relative to a given channel. Being monotone means increasing, decreasing, or constant (constant will probably never happen in this context). Increasing and decreasing bites do NOT necessarily alternate - two increasing bites may occur next to each other, for instance. Appart from lists (or list tails) with zero or only one sustain message, a bite passed to f will always have at least two elements. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel, between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f</td> <td colspan="3" class="manual-plain-parameter-description">A function of signature message-list int direction -> message-list.
                     The integer parameter is the (one-based) bite number. 
                     The direction (a symbol) is either increasing, decreasing, or constant depending on the elements in messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#map-sustain-intervals">map-sustain-intervals</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="map-bars"></a> map-bars</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(map-bars f ppqn time-signature . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Map the function f on each (non-empty) bar of messages. Works in both absTime mode and in deltaTime mode (but sligthly better in absTime mode due to more accurate bar numbering). As of now, the deltaTime version gives wrong results! </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">f</td> <td class="manual-plain-parameter-description" colspan="2">A function applied on each non-emtpy bar bite of messages. f: MIDI message list, bar-number, bar-start-tick, bar-end-tick -> MIDI message list. The bar number is one-based.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">time-signature</td> <td colspan="3" class="manual-plain-parameter-description">A list of length 2, such as (3 4) for 3:4 and (6 8) for 6:8. </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ppqn</td> <td colspan="3" class="manual-plain-parameter-description">The number of pulses per quarter note. A non-negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#map-bars">map-bars</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">The function can be applied at any location in an absTimed MIDI sequence, but it should be applied at the start of a deltaTimed sequence in order for the bars to be correct.
      In deltaTime mode, the bar numbers stem for the bit numbers which may give different bar numbers than in absTime mode.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="generate-complete-chord-list"></a> generate-complete-chord-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(generate-complete-chord-list basic-chord-list [chord-naming-style])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generate a complete list of chords from a basic chord list (a list of c chords, like the basic-chord-list). Applies either flat og sharp naming style. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">basic-chord-list</td> <td class="manual-plain-parameter-description" colspan="2">a list of chord entries of the form (name-without-root . notes), where notes is 0-based.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">chord-naming-style.</td> <td colspan="3" class="manual-plain-parameter-description">Either sharp og flat (a symbol). Defaults value is sharp.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#generate-complete-chord-list">generate-complete-chord-list</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="map-paused-sections"></a> map-paused-sections</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(map-paused-sections f silence-ticks relevant . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply a function on section of messages separate by a pause. A pause is a section of at least pause-ticks ticks among messages that satisfy the relevance-predicate. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">f</td> <td class="manual-plain-parameter-description" colspan="2">A function applied on the bite number and identified paused sections.   f: int x list of MIDI messages -> list of MIDI messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">pause-ticks</td> <td colspan="3" class="manual-plain-parameter-description">A number of ticks (a non-negative integer).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">relevance-predicate</td> <td colspan="3" class="manual-plain-parameter-description">An AST predicate function. Non-relevant messages is considered as noice to the undelying bite mapping function. Non-NoteOn messages are irrelevant, independent of the body of relevance-predicate.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#map-paused-sections">map-paused-sections</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">This function is a generalization of marker-silence, which inserts markers between paused sections. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="repeat-messages"></a> repeat-messages</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(repeat-messages n . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Repeat messages n times. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">n</td> <td class="manual-plain-parameter-description" colspan="2">The number of times to repeat messages. An integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages). May also be a nested list of such messages according to LAML conventions.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#repeat-messages">repeat-messages</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Variant with period length</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#repeat-messages">repeat-messages</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="repeat-messages-enforce-periode-length"></a> repeat-messages-enforce-periode-length</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(repeat-messages-enforce-periode-length n min-period-length . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Repeat messages n times, and enforce that each repetition has length of at least min-period-length. (If the length of message-list is less than min-period-length, an appropriate deltaTime message is appended to each repetition). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">n</td> <td class="manual-plain-parameter-description" colspan="2">The number of times to repeat messages. An integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">min-period-length</td> <td colspan="3" class="manual-plain-parameter-description">The mini period length, measured in pulses (an integer).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages). May also be a nested list of such messages according to LAML conventions.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#repeat-messages-enforce-periode-length">repeat-messages-enforce-periode-length</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More basic variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#repeat-messages">repeat-messages</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="surround-by-delta-time-note-list"></a> surround-by-delta-time-note-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(surround-by-delta-note-list delta-time-note-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return messages surrounded (both initially and in the end) by a list of delta timed notes. This can, for instance, be used for initial and final drum beats (like a metronome) applied for synchronization purposes. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">delta-time-note-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of deltaTimed notes.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#surround-by-delta-time-note-list">surround-by-delta-time-note-list</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Useful note generator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#regular-beats">regular-beats</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Synchronization beat hint: Surround from meassure number 1 to the end of the track (including the end of track meta event).
      Afterwards, move the meta event to the new ending.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pass-through"></a> pass-through</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pass-through . messages).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A neutral and trivial message list function. Just pass the message-list through the form. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#pass-through">pass-through</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="map-midi-sections"></a> map-midi-sections</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(map-midi-sections prefix-bite sublist-pred sublist-trans . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply sublist-pred to successive sublist bites of message-list. The prefix bites of the sublist are constructed by the function prefix-bite. The sublist bites are passed to sublist-pred, and those which are selected by the predicated are transformed by the transformation function, and spliced into the resulting list. Sublists (elements) which are not selected by the predicate are passed non-transformed. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">prefix-bite</td> <td class="manual-plain-parameter-description" colspan="2">A function which selects a prefix of the list, for examination and possible transformation.
                       Signature: List, int -> List.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">sublist-pred</td> <td colspan="3" class="manual-plain-parameter-description">An examination function from sublist to integer.
                        Positive integer serves as boolean true. Negative integers serve as boolean false.
                        A positive result p meaning that p elements of sublist is selected for transformation;
                        A negative result n meaning that the start of the next examined bite is (- n) elements ahead.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">sublist-tranf</td> <td colspan="3" class="manual-plain-parameter-description">A transformation function on sublists, called on a bite if sublist-pred returns a
                         positive integer on the bite. Signature List, int -> List. The integer is the bite number (1 based).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#map-midi-sections">map-midi-sections</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">This function is - more or less - a direct application of step-and-map-n-bites. As such it is probably too difficult to apply.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-list-fn-time"></a> <a name="SECTION4"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION3"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION5"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">4</span> <span class="manual-section-title">Message List functions - Time related</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="time-stretch"></a> time-stretch</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(time-stretch factor . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">Both deltaTime and absTime. Also in absTime mode with interleaving deltaTime events.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Stretch the time and duration of message-list with a factor. Affects all messages (not only noteOn messages). Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">factor</td> <td colspan="3" class="manual-plain-parameter-description">A factor with wich to stretch the timing of the messages (a real number). A factor 1.0 is neutral with respect to timing.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#time-stretch">time-stretch</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/time-stretch/index.html">Midi LAML examples</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="time-adapt-to"></a> time-adapt-to</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(time-adapt-to new-length . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Adapt the time of the midi messages to new-length time units in total. The durations of the individual messages are adapted proportionally.  Implemented by use of time-stretch. Can be used in both absTime mode and deltaTime mode, but it is most obvious to use this function in deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">new-length</td> <td colspan="3" class="manual-plain-parameter-description">The desired length of messages including the first message
 to and including the last message (but excluding the sucessor&#39;s delta). An integer.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#time-adapt-to">time-adapt-to</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="time-displace"></a> time-displace</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(time-displace displacement . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Time displace with amount (adds displacement to the absolute time of the event). Affects all channels as well as system messages.  Displacement can be positive or negative.  This function works both in absTime mode and deltaTime mode, including absTime mode where there appears deltaTime contributions. It is a requirement, however, that the first message-ast in messages reveals the time mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">displacement</td> <td colspan="3" class="manual-plain-parameter-description">The displacement of messages in time units, as described by the pulsesPerQuarterNote attribute of MidiHeader.  Can be positive or negative. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#time-displace">time-displace</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#time-displace-channels">time-displace-channels</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="time-displace-channels"></a> time-displace-channels</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(time-displace-channels channel-list displacement . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime mode - with possible interleaved deltaTime elements</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">As time-displace, but only affecting channels in channel-list </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">displacement</td> <td colspan="3" class="manual-plain-parameter-description">The displacement of messages in time units, as described by the pulsesPerQuarterNote attribute of MidiHeader.  Can be positive or negative. </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of channels. (A list of integers in the interval 1..16).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#time-displace-channels">time-displace-channels</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#time-displace">time-displace</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="time-displace-channels-with-scaling"></a> time-displace-channels-with-scaling</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(time-displace-channels-with-scaling channel-list displacement scaling-fn . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime mode.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">As time-displace-channels, but with a scaling of the amount of displacement. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">channel-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of channels. (A list of integers in the interval 1..16).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">displacement</td> <td colspan="3" class="manual-plain-parameter-description">The basis amount of displacement of messages in time units, as described by the pulsesPerQuarterNote attribute of MidiHeader.
                        Can be positive or negative. Scaled with scaling-fn before addition.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scaling-fn</td> <td colspan="3" class="manual-plain-parameter-description">A scaling function.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#time-displace-channels-with-scaling">time-displace-channels-with-scaling</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#time-displace-channels">time-displace-channels</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="quantize"></a> quantize</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(quantize channel q pulses-per-quarter-note . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Quantize channel to q. Works in both absTime mode and deltaTime mode. Affects all messages with channel attributes. In deltaTime mode the first deltaTime is taken to be 0 (independent of its actual value). deltaTime mode is somewhat experimental. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">q</td> <td class="manual-plain-parameter-description" colspan="2">One of the integer values 1, 2, 4, 8, 16, 32, 64 and 128. As an example, 4 means a quarter note quantification.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">pulses-per-quarter-note</td> <td colspan="3" class="manual-plain-parameter-description">Must (redundantly) be similar to the  pulsesPerQuarterNote attribute of MidiHeader.  </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#quantize">quantize</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="quantize-channels"></a> quantize-channels</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(quantize channel-list q pulses-per-quarter-note . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Quantize a number of channels to q. Works in both absTime mode and in deltaTime mode. Affects all messages with channel attributes. In deltaTime mode the first deltaTime is taken to be 0 (independent of its actual value). deltaTime mode is somewhat experimental. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">q</td> <td class="manual-plain-parameter-description" colspan="2">One of the integer values 1, 2, 4, 8, 16, 32, 64 and 128. As an example, 4 means a quarter note quantification.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">pulses-per-quarter-note</td> <td colspan="3" class="manual-plain-parameter-description">Must (redundantly) be similar to the  pulsesPerQuarterNote attribute of MidiHeader.  </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#quantize-channels">quantize-channels</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="distribute-even"></a> distribute-even</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(distribute-even channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Distribute all NoteOn in the given channel evenly. Does only work in absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel number in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#distribute-even">distribute-even</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="same-time-transform"></a> same-time-transform</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(same-time-transform channels transformer . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Transform consecutive midi NoteOn messages (two or more) that belong to channels, and which occur at the same time. The tranformer can do whatever calculation necessary on these &#39;same time messages&#39;. The transformer must return a list of messages (maybe empty). All other messages are not affected. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channels</td> <td class="manual-plain-parameter-description" colspan="2">A list of channel numbers in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">transformer</td> <td colspan="3" class="manual-plain-parameter-description">A function from a list of at least two NoteOn messages to a list of messages.
 It is guarantied that this function is called with at least two messages, which both are NoteOn messages in absTime mode.
 All messages passed to transformer are guarantied to take place at the same time.
 The order or the messages passed to transformer is unknown.
 The transformer must return a list of midi message asts (maybe an empty list), typically (but necessarily) NoteOn messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#same-time-transform">same-time-transform</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Example</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/same-time-transform/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">You can use this function to repair multiple track which must play in parallel.
      In a typical scenario you have manually corrected note values in one of the channels, and you now wish to enforce another channel to introduce the samme note corrections.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="cut-at-time"></a> cut-at-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(cut-at-time abs-cut-time channel-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Cut all messages in channel-list that starts after abs-cut-time, and (if necessary) adjust the duration of messages in channel-list that start before abs-cut-time such that they end at abs-cut-time or before. Messages not in channel-list are not affected at all. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of channel numbers in the interval 1..16 or the boolean value #t in the meaning of all channels between 1 and 16.  An integer list or boolean #t.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">abs-cut-time</td> <td colspan="3" class="manual-plain-parameter-description">The absolute time at which to cut. A non-negative integer. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The remaining messages and the adjusted messages in channel-list, together with all messages not in channel-list. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#cut-at-time">cut-at-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-list-fn-note"></a> <a name="SECTION5"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION4"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION6"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">5</span> <span class="manual-section-title">Message List functions - Note related</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="octave"></a> octave</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(octave channel n . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Change octave on channel ch with n.  Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">n</td> <td colspan="3" class="manual-plain-parameter-description">Relative octave number.  n can be positive or negative. The amount 0 is neutral.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#octave">octave</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="interpolate"></a> interpolate</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(interpolate channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Put an interpolation note in between every note on the given channel. Works only in absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel number in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#interpolate">interpolate</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="transpose"></a> transpose</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(transpose amount . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Transpose all channels with amount.  amount can be negative, 0 (for no transposition), or positive. Works for both deltaTime and absTime. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">amount</td> <td colspan="3" class="manual-plain-parameter-description">A relative number of half note values (positive or negative). The amount 0 is neutral.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#transpose">transpose</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="transpose-channels"></a> transpose-channels</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(transpose-channels channel-list amount . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Transpose channels in channel-list with amount.  amount can be negative, 0 (for no transposition), or positive. Works for both deltaTime and absTime. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">amount</td> <td colspan="3" class="manual-plain-parameter-description">A relative number of half note values (positive or negative). The amount 0 is neutral.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of channels. (A list of integers in the interval 1..16).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#transpose-channels">transpose-channels</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="map-notes-in-channels"></a> map-notes-in-channels</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(map-notes-in-channels note-map channels-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Map the notes in channel-list to other notes. Notes in other channels are NOT affected. Notes in affected channels which are not mentioned in the note-map are removed. The note-map has the form as for example ((f c) (a e) (c g)). The note f is mapped to note c, etc.  Each element in the list is a mapping-entry of source-note and target-note symbols. The possible note symbols are c, c#, d, d#, e, f, f#, g, g#, a, a#, b (or h). Lower and upper case symbols both work.  The octave of the source notes is respected (although it is not controllable if the note &#39;goes up&#39; or &#39;goes down&#39;). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">note-map</td> <td class="manual-plain-parameter-description" colspan="2">A list of note pairs (each pair a list of symbols, of length 2).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of channels. Elements belong to the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#map-notes-in-channels">map-notes-in-channels</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Intended to be used for corrections of the automatic accompaniment, played on several channels.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-list-fn-vel"></a> <a name="SECTION6"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION5"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION7"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">6</span> <span class="manual-section-title">Message List functions - Velocity related</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="fade-out"></a> fade-out</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(fade-out . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">Both deltaTime and absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Fade out linearly all channels in message-list. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#fade-out">fade-out</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="fade-out-channels"></a> fade-out-channels</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(fade-out . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">Both deltaTime and absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Fade out linearly channelels in channel-list in message-list. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of channels. (A list of integers in the interval 1..16).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#fade-out-channels">fade-out-channels</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="add-to-velocity"></a> add-to-velocity</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(add-to-velocity channel amount . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Add amount to velocity of a given channel. If the volicity exceeds the limits (0..127) it is enforced to the lower/upper limit. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">amount</td> <td colspan="3" class="manual-plain-parameter-description">An amount to add to the velocity. Positive or negative.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#add-to-velocity">add-to-velocity</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-list-fn-dur"></a> <a name="SECTION7"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION6"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION8"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">7</span> <span class="manual-section-title">Message List functions - Duration related</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-breaks"></a> eliminate-breaks</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-breaks channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Tie all notes in channel together, in order to eliminate breaks. This affects the duration of all notes in the given channel, such that one note lasts until the beginning of the next. More precisely, the duration becomes the maximum of the existing duration and the absTime difference between this note and the next (in the given channel).  Non-channel notes and notes in other channels are not affected by this function. Works only in absTime mode (not checked). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel.</td> <td class="manual-plain-parameter-description" colspan="2">A channel between 1 and 16. An integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-breaks">eliminate-breaks</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More advanced variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#legato-in-channel">legato-in-channel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="legato-in-channel"></a> legato-in-channel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(legato-in-channel channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Tie the notes in channel together - legato. Affects the duration attribute of notes in channel. Notes in other channels, and non-NoteOn messages, are not affected. Works in both time modes, but it is slightly more general in abs time mode than in delta time mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number. An integer between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">time-slack-delta </td> <td class="manual-plain-attribute-description" colspan="2">The allowed time slack for notes in channel to be considered as activated at the same time,
                                    without being tied together mutually.
                                    Defaults to 20. A number of time ticks. A non-negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">strict </td> <td colspan="3" class="manual-plain-attribute-description">If strict, the duration between notes in channel becomes the time difference between them. Time slack still applies, however.
                          If non-strict, the time may be longer (if the duration is already longer).
                          A boolean (true or false).</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">offset </td> <td colspan="3" class="manual-plain-attribute-description">A number added to the duration in addition to the calculated duration. Can be used to enforce more overlapping, or less overlapping. A positive or negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">max-tie-span </td> <td colspan="3" class="manual-plain-attribute-description">If provided, gives the maximum span (in terms of abs time difference) that we attempt to tie.
                                The duration is only affected if it is less than the value of this attribute. A number of time ticks. If provided, a non-negative integer.
                                If not provided, the max tie span is in principle infinitely large.
                                This attribute must be #f in delta time mode.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#legato-in-channel">legato-in-channel</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Simpler variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#eliminate-breaks">eliminate-breaks</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">This function takes care never to introduce negative duration (which causes severe confusion).</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-list-fn-others"></a> <a name="SECTION8"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION7"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION9"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">8</span> <span class="manual-section-title">Message List functions - Control Related and Misc</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pan-flow"></a> pan-flow</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pan-flow channel pan-from pan-to . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Gradually pan a given channel from pan-from to pan-to. Works for both deltaTime and absTime. Inserts one ControlChange message for each relevant NoteOn message. The limits of pan-from and pan-to are 0..127. If exceeded, automatic cut off to min/max value is provided. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel number in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">pan-from</td> <td colspan="3" class="manual-plain-parameter-description">The initial pan value. 64 is neutral, 0 is hard left, and 127 is hard right.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">pan-to</td> <td colspan="3" class="manual-plain-parameter-description">The final pan value. 64 is neutral, 0 is hard left, and 127 is hard right.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#pan-flow">pan-flow</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pan-left-right"></a> pan-left-right</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pan-left-right channel pan-level . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Gradually pan a given channel from pan-level towards left, then to the right and back to pan-level. Works for both deltaTime and absTime. Inserts one ControlChange message for each relevant NoteOn message. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel number in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">pan-level</td> <td colspan="3" class="manual-plain-parameter-description">The initial pan level value. 64 is neutral, 0 is hard left, and 127 is hard right.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#pan-left-right">pan-left-right</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="channel-volume-flow"></a> channel-volume-flow</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(channel-volume-flow channel channel-volume-from channel-volume-to . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Gradually change the channel volume a given channel from channel-volume-from to channel-volume-to. Works for both deltaTime and absTime. The limits of channel-volume-from and channel-volume-to are 0..127. If exceeded, automatic cut off to min/max value is provided. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel number in the interval 1..16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-volume-from</td> <td colspan="3" class="manual-plain-parameter-description">The initial channel-volume value. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-volume-to</td> <td colspan="3" class="manual-plain-parameter-description">The final channel-volume value. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#channel-volume-flow">channel-volume-flow</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="no-sustain"></a> no-sustain</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(no-sustain channel . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate all sustain ControlChange messages on the given channel in message-list. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number in the interval 1..16, or #t as a wildchard for any channel.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#no-sustain">no-sustain</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-control-change"></a> eliminate-control-change</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-control-change channel control . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate ControlChange messages in a given channel and with a given control number. Works in both deltaTime and absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number in the interval 1..16. The value #t serves as a wilchard for any channel.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">control</td> <td colspan="3" class="manual-plain-parameter-description">A control number in the interval 0 ..127. The value #t serves as a wildchard for any control number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-control-change">eliminate-control-change</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-channel-key-pressure"></a> eliminate-channel-key-pressure</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-channel-key-pressure channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate ChannelKeyPressure messages in a given channel. Works in both deltaTime and absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number in the interval 1..16. The value #t serves as a wilchard for any channel.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-channel-key-pressure">eliminate-channel-key-pressure</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-program-change"></a> eliminate-program-change</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-program-change channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate ProgramChange message in a given channel. Works in both deltaTime and absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number in the interval 1..16. The value #t serves as a wilchard for any channel.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-program-change">eliminate-program-change</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-pitch-bend"></a> eliminate-pitch-bend</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-pitch-bend channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate PitchBench message in a given channel. Works in both deltaTime and absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number in the interval 1..16. The value #t serves as a wilchard for any channel.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-pitch-bend">eliminate-pitch-bend</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="revoice"></a> revoice</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(revoice revoice-map . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Revoice all ProgramChange events in the messages list according to revoice-map. In order to revoice, two appropropriate control change messages must occur before a program change message. If this is not the case, revoicing to general midi (GM) takes place.   </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">revoice-map</td> <td class="manual-plain-parameter-description" colspan="2">A list of revoice entries. A revoice entry is a list of length two of the form ((msb-from lsb-from pc-from info) (msb-to lsb-to pc-to info))
                       where msb-from, lsb-from, pc-from, msb-to, lsb-to, and pc-to are integers. info is an informal optional string (the name of the voice).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">revoice-file </td> <td class="manual-plain-attribute-description" colspan="2">The name of a text file, to which a template of a revoice map is written. 
                              The templates are generated from the program change information in the source file (not from revoice-map).
                              The generated template is a useful (but incomplete) starting point of revoice-map.
                              If the attribute is not supplied, no info file is generated.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#revoice">revoice</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-voice-messages"></a> eliminate-voice-messages</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-voice-messages . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate ProgramChange messages and ControlChange messages that select voice banks (both the MSB and LSB variants). The elimination takes place by replacing the ProgramChange message with a Meta message which contain channel, MSB, LSB and program-number. In that way, it will be possible to provide for the reverse operation (not yet programmed). If the attribute info-file is provided, a text file with voice information is generated. The information is targeted at the Motif XS. Use the text file for convenient input of the voices in the Motif XS mixer. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">info-file </td> <td class="manual-plain-attribute-description" colspan="2">The name of a text file, to which a voice information is written. If not provided, no voice information is generated.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-voice-messages">eliminate-voice-messages</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">more radical function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#clean-for-motif">clean-for-motif</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="clean-for-motif"></a> clean-for-motif</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(clean-for-motif . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate voice message (by use of the function eliminate-voice-messages) and remove all ControlChange messages (apart from Pedal Sustain). Also remove SysEx messages which pertain to Yamaha Tyros (43**4C). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">info-file </td> <td class="manual-plain-attribute-description" colspan="2">The name of a text file, to which a voice information is written. If not provided, no voice information is generated.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#clean-for-motif">clean-for-motif</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">called function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#eliminate-voice-messages">eliminate-voice-messages</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="clean-for-sectional-playing"></a> clean-for-sectional-playing</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(clean-for-sectional-playing time-mode time-start include-voice-messages? . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Rinse the prefix of messages for noise messages (Meta tempo, ProgramControl, certain ControlChanges, and PitchBendChange) If include-voice-messages? is true, also include voice related ProgramChange and ControlChange messages in the prefix. The first NoteOn message is set to start at time time-start (per time displacement done by this function). Normalize the time attribute of messages before the first NoteOn message, and time displace the rest. Rinse the NoteOn messages for tempo messages, ControlChange type 0 and 32, and ProgramChange messages. Setting of the tempo is supposed to be handled in the context of this function.  Supports both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">time-mode</td> <td class="manual-plain-parameter-description" colspan="2">Either delta-time or abs-time (symbol or string).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">time-start</td> <td colspan="3" class="manual-plain-parameter-description">The start time of the first NoteOn message. A number of ticks (non-negative integer).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">include-voice-messages?</td> <td colspan="3" class="manual-plain-parameter-description">A boolean value that controls if voice related messages are included.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#clean-for-sectional-playing">clean-for-sectional-playing</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">This function is used automatically when a delimited section is played from the Emacs MIDI LAML environment, hereby ensuring
      that playing starts immediately, and that it is not disturbed by inappropriate control messages.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="tempo-scale"></a> tempo-scale</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(tempo-scale base-tempo scaling-fn . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Scale the tempo of the messages enclosed by this function. This is done by inserting a tempo change list in front of messages, as produced by make-tempo-change-list. The inserted tempo change list is adapted to the duration of messages. If the attribute last-tempo is not provided, the messages after the enclosed message list continues in the end tempo obtained by the scaling. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">base-tempo</td> <td class="manual-plain-parameter-description" colspan="2">The base tempo, which is scaled throughout the of generated Meta tempo events. Normally the tempo of the song. A real number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scale-fn</td> <td colspan="3" class="manual-plain-parameter-description">The tempo scaling function: [0,1] -> Positive Real Number.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">n </td> <td class="manual-plain-attribute-description" colspan="2">The number of Meta tempo messages to produce. At least one. Defaults to the duration of messages divided by 960 (somewhat arbitrary).</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">last-tempo </td> <td colspan="3" class="manual-plain-attribute-description">If provided, the last Meta tempo event is forced to be last-tempo. A real number. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#tempo-scale">tempo-scale</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">uses</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#make-tempo-change-list">make-tempo-change-list</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="volume-scale"></a> volume-scale</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(volume-scale ch start-volume scaling-fn . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Insert a volume change list in front of messages, as produced by make-volume-change-list. This controls the volumne of the messages of channel ch enclosed by this function  The volumne change list is adapted to the duration of messages. If the attribute end-volume is not provide, the messages after the enclosed message list continues at the volumne obtained by the scaling. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">start-volumne</td> <td class="manual-plain-parameter-description" colspan="2">The start-volumne which is scaled throughout the of generated ControlChange events. </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scale-fn</td> <td colspan="3" class="manual-plain-parameter-description">The volumne scaling function: [0,1] -> Positive Real Number.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">n </td> <td class="manual-plain-attribute-description" colspan="2">The number of ControlChange messages to produce. At least one. Defaults to the duration of messages divided by 960 (somewhat arbitrary).</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">end-volumne </td> <td colspan="3" class="manual-plain-attribute-description">If provided, the last ControlChange event is forced to prescribe end-volume.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#volume-scale">volume-scale</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">uses</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#make-volume-change-list">make-volume-change-list</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="volume-scale-multi-channel"></a> volume-scale-multi-channel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(volume-scale-multi-channel volume-scale-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply volume-scale multiple times as specified by volume-scale-list. An entry in volume-scale-list is of the form (channel start-vol scaling-fn [end-vol]). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#volume-scale-multi-channel">volume-scale-multi-channel</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#volume-scale">volume-scale</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="insert-lyric"></a> insert-lyric</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(insert-lyric lyric-syllable-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Insert lyric elements from lyric-syllable-list in the empty Meta lyric in messages. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">lyric-syllable-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of syllables (a list of strings/symbols).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#insert-lyric">insert-lyric</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">First insert empty lyric meta mesages before all appropriate NoteOn midi messages. Then apply this function.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="smf-functions"></a> <a name="SECTION9"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION8"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION10"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">9</span> <span class="manual-section-title">Standard Midi File functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">Functions which should be applied on a StandardMidiFile form.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="smf-to-ppqn"></a> smf-to-ppqn</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(smf-to-ppqn target-ppqn context-mode smf-ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Convert smf-ast (a StandardMidiFile) to target-ppqn. Does not affect the format of the midi laml file. Works both for format 0 and format 1 midi laml files. Also works for both absTime mode and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">smf-ast must have element name StandardMidiFile.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">target-ppqn</td> <td class="manual-plain-parameter-description" colspan="2">The desired target ppqn (an integer such as 480, 960, 1920).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">smf-ast</td> <td colspan="3" class="manual-plain-parameter-description">An AST with root element name StandardMidiFile.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">context-mode</td> <td colspan="3" class="manual-plain-parameter-description">Either top-level or nested (a symbol). Only in top-level context-mode action routines are executed.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#smf-to-ppqn">smf-to-ppqn</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="smf-to-format-0"></a> smf-to-format-0</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(smf-to-format-0 context-mode smf-ast [ppqn-distance-to-end-of-track])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Convert the StandardMidiFile to format 0 by merging all tracks. If smf-ast is a format 1 midi laml file, merge all tracks. If smf-ast is already a format 0 midi laml file, this funciton is the identity function. Works in both absTime mode and deltaTime mode. This function takes care that there is only one end-of-track Meta event, located (* ppqn-distance-to-end-of-track ppqn)  time units from last message in the resulting track. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">smf-ast</td> <td class="manual-plain-parameter-description" colspan="2">A StandardMidiFile ast.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">context-mode</td> <td colspan="3" class="manual-plain-parameter-description">Either top-level or nested (a symbol). Only in top-level context-mode action routines are executed.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ppqn-distance-to-end-of-track</td> <td colspan="3" class="manual-plain-parameter-description">The number of ppqn intervals between the last event and the end-of-track Meta event. Defaults to 8.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#smf-to-format-0">smf-to-format-0</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="recording-to-motif"></a> recording-to-motif</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(recording-to-motif smf-ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Convert a &#39;brainstorm recording&#39; to a Motif XS format 0 midi file of ppqn 480. Just a convenient composition of smf-to-format-0 and smf-to-ppqn with a top-level application (enabeling action procedures). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#recording-to-motif">recording-to-motif</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Convenience variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#rtm">rtm</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="rtm"></a> rtm</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(rtm smf-ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A convenience variant of the function recording-to-motif which, in addition, eliminates all ChannelKeyPressure messages. Most important, however, this function also inserts markers by means of the function marker-silence (with a constant 2000 silence-ticks).  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#rtm">rtm</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More basic variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#recording-to-motif">recording-to-motif</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="recording-to-tyros"></a> recording-to-tyros</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(recording-to-tyros smf-ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Convert a &#39;brainstorm recording&#39; to a Tyros format 0 midi file of ppqn 1920. Just a convenient composition of smf-to-format-0 and smf-to-ppqn. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#recording-to-tyros">recording-to-tyros</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="apply-to-tracks-nested"></a> apply-to-tracks-nested</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(apply-to-tracks-nested f f-parameter-list ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply f on the messages of all tracks in ast (a StandardMidiFile or MidiTrack AST). In case the ast is a StandardMidiFile, it is considered to be nested into additional transformations, thus suppressing the execution of action routines. Reconstructs the context around the track and return an AST corresponding to the third parameter. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">A StandardMidiFile ast (format 0 or 1), or a MidiTrack ast.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f</td> <td colspan="3" class="manual-plain-parameter-description">A function of which the last parameter is a rest parameter of messages
             (a function generated by xml-in-laml-positional-abstraction or a similar function).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f-parameter-list</td> <td colspan="3" class="manual-plain-parameter-description">Parameters prior to the messages. Passed to f just before the messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#apply-to-tracks-nested">apply-to-tracks-nested</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="apply-to-tracks-top-level"></a> apply-to-tracks-top-level</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(apply-to-tracks-top-level f f-parameter-list ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply f on the messages of all tracks in ast (a StandardMidiFile or MidiTrack AST). In case the ast is a StandardMidiFile, it is considered to be at top-level, thus enabeling the execution of action routines. Reconstructs the context around the track and return an AST corresponding to the third parameter. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">A StandardMidiFile ast (format 0 or 1), or a MidiTrack ast.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f</td> <td colspan="3" class="manual-plain-parameter-description">A function of which the last parameter is a rest parameter of messages
             (a function generated by xml-in-laml-positional-abstraction or a similar function).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f-parameter-list</td> <td colspan="3" class="manual-plain-parameter-description">Parameters prior to the messages. Passed to f just before the messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#apply-to-tracks-top-level">apply-to-tracks-top-level</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="scaling-function-generation"></a> <a name="SECTION10"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION9"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION11"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">10</span> <span class="manual-section-title">Generation of Scaling Functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">Scaling functions are used for smooth scaling of attributes such as deltaTime, duration, and velocity. A scaling function has the simple signature [0,1] -> Real. The functions in this section generate such scaling functions. The next section contains concrete scaling functions. The most useful - and the most versatile - generator is make-scale-function-by-xy-points.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="make-scale-fn-pol-one-pol"></a> make-scale-fn-pol-one-pol</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(make-scale-fn-pol-one-pol shape-start shape-end c d)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a positive, continuous scaling function which is constant one &#39;in the middle&#39; and a second degree polynomial &#39;in the ends&#39;. Given 0 <= d < 0.5: Generate and return a function f for which (f d) = 1 and (f (- 1 d)) = 1.  For d < x < (- 1 d): f(x) = 1. For 0 < x < d: f(x) is polynomial or constant (depending on shape-start) For (- 1 d) < x < 1: f(x) is polynomial or constant (depending on shape-end) shape-start and shape-end is either the symbol up, flat or down. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">shape-start</td> <td class="manual-plain-parameter-description" colspan="2">One of the symbols up, flat, or down.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">shape-end</td> <td colspan="3" class="manual-plain-parameter-description">One of the symbols up, flat, or down.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">c</td> <td colspan="3" class="manual-plain-parameter-description">The factor of the second degree term of the polynomial.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">d</td> <td colspan="3" class="manual-plain-parameter-description">An x-value between 0 and 0.5. The generated function is constant 1 in the interval [d, 1-d].</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A positive, real-valued function (lambda (x) ...) where x is in the interval [0,1].</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#make-scale-fn-pol-one-pol">make-scale-fn-pol-one-pol</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="make-scale-fn-pol-one-pol-general"></a> make-scale-fn-pol-one-pol-general</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(make-scale-fn-pol-one-pol-general shape-start shape-end cs ds ce de)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A generalization of f-identity-symmetric which uses separate parameters of the second degree polynomials at the start of the interval and at the end of the interval. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="6">Parameters</td> <td class="manual-plain-parameter-name">shape-start</td> <td class="manual-plain-parameter-description" colspan="2">One of the symbols up, flat, or down.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">shape-end</td> <td colspan="3" class="manual-plain-parameter-description">One of the symbols up, flat, or down.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">cs</td> <td colspan="3" class="manual-plain-parameter-description">The factor of the second degree term of the polynomial used in the interval [0,ds].</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ce</td> <td colspan="3" class="manual-plain-parameter-description">The factor of the second degree term of the polynomial used in the interval [1-de, 1].</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ds</td> <td colspan="3" class="manual-plain-parameter-description">An x-value between 0 and 1. The generated function is constant 1 in the interval [ds, 1-de].</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">de</td> <td colspan="3" class="manual-plain-parameter-description">An x-value between 0 and 1. The generated function is constant 1 in the interval [ds, 1-de].</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A positive, real-valued function (lambda (x) ...) where x is in the interval [0,1].</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#make-scale-fn-pol-one-pol-general">make-scale-fn-pol-one-pol-general</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="make-scale-function-by-xy-points"></a> make-scale-function-by-xy-points</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(make-scale-function-by-xy-points xy-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a scaling function composed by linear functions on subintervals of [0,1]. The functions from-percent-points and from-permille-points are helpful for creation of the xy-list parameter. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">xy-list</td> <td class="manual-plain-parameter-description" colspan="2">a list of (x,y) cons pairs which must contain at least (0, y0) and (1, y1) for some y0 and y1.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A real-value function (lambda (x) ...) where x is in the interval [0,1]. Not necessarily positive valued.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#make-scale-function-by-xy-points">make-scale-function-by-xy-points</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Helper functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#from-percent-points">from-percent-points</a>  <a class="manual-plain-internal-reference" href="#from-permille-points">from-permille-points</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="multiply-scaling-function"></a> multiply-scaling-function</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(multiply-scaling-function factor sf)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Multiply a scaling function sc my a factor, and return the new, scaled scaling function. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">sf</td> <td class="manual-plain-parameter-description" colspan="2">A real-value function.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">factor</td> <td colspan="3" class="manual-plain-parameter-description">A real-valued number.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A modified (scaled) real-valued scaling function.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#multiply-scaling-function">multiply-scaling-function</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="add-two-scaling-functions"></a> add-two-scaling-functions</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(add-two-scaling-functions sf1 sf2)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Add two scaling functions with each other </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#add-two-scaling-functions">add-two-scaling-functions</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="subtract-two-scaling-functions"></a> subtract-two-scaling-functions</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(subtract-two-scaling-functions sf1 sf2)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Subtract two scaling functions with each other </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#subtract-two-scaling-functions">subtract-two-scaling-functions</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="multiply-two-scaling-functions"></a> multiply-two-scaling-functions</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(multiply-two-scaling-functions sf1 sf2)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Multiply two scaling functions with each other </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#multiply-two-scaling-functions">multiply-two-scaling-functions</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="from-percent-points"></a> from-percent-points</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(from-percent-points point-lst)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of points useful for make-scale-function-by-xy-points. Both x and y parameters are percentage values. They will therefore both be divided by 100. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">point-lst</td> <td class="manual-plain-parameter-description" colspan="2">A list of points. Each point is of the form (n m).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A list of cons pairs of the form (n/100 . m/100) suitable for input to make-scale-function-by-xy-points.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#from-percent-points">from-percent-points</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Use context</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#make-scale-function-by-xy-points">make-scale-function-by-xy-points</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="from-permille-points"></a> from-permille-points</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(from-permille-points point-lst)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of points useful for make-scale-function-by-xy-points. Both x and y parameters are permillage values. They will therefore both be divided by 1000. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">point-lst</td> <td class="manual-plain-parameter-description" colspan="2">A list of points. Each point is of the form (n m).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A list of cons pairs of the form (n/1000 . m/1000) suitable for input to make-scale-function-by-xy-points.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#from-permille-points">from-permille-points</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Use context</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#make-scale-function-by-xy-points">make-scale-function-by-xy-points</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="scaling-functions"></a> <a name="SECTION11"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION10"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION12"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">11</span> <span class="manual-section-title">Examples of Scaling Functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">This section contains concrete scaling functions, as generated by the functions in the previous section. These scaling functions may serve as inspiration when new scaling functions are needed.  As already mentioned above, a scaling function has the simple signature [0,1] -> Real. We link to SVG illustrations of the graphs of the scaling functions. When a new scaling function is developed it can be tried out in <a href = "scaling-functions/try.laml"> man/scaling-functions/try.laml </a> and visualized in <a href="scaling-functions/try.svg"> man/scaling-functions/try.svg </a>. Consult the Scheme source to access the source form of the scaling function.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="sf1"></a> sf1</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">sf1</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A scaling function </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#sf1">sf1</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Graphical illustration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="scaling-functions/sf1.svg">SVG</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="sf2"></a> sf2</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">sf2</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A scaling function </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#sf2">sf2</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Graphical illustration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="scaling-functions/sf2.svg">SVG</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="sf3"></a> sf3</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">sf3</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A scaling function </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#sf3">sf3</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Graphical illustration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="scaling-functions/sf3.svg">SVG</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="sf4"></a> sf4</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">sf4</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A scaling function </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#sf4">sf4</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Graphical illustration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="scaling-functions/sf4.svg">SVG</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="sf5"></a> sf5</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">sf5</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A scaling function </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#sf5">sf5</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Graphical illustration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="scaling-functions/sf5.svg">SVG</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="sf6"></a> sf6</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">sf6</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A scaling function </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#sf6">sf6</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Graphical illustration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="scaling-functions/sf6.svg">SVG</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="midi-region-functions"></a> <a name="SECTION12"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION11"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION13"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">12</span> <span class="manual-section-title">Midi region functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">This section contains function that establish regions around a list of midi messages.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-context"></a> midi-context</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-context continuation-name . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Establish a context in which a smaller selection can be made. Defined as a macro. The context can be substituted by the selection inside it. Underlying, a continuation named select is captured. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">continuation-name</td> <td class="manual-plain-parameter-description" colspan="2">The formal name of the continuation that controls the emitted MIDI messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-context">midi-context</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-region-do"></a> midi-region-do</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-region-do contextual-continuation . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Marks a region of midi messages. Pass them through to contextual-continuation and, if in absTime mode, time displace them to time 0. midi-region-do is used to select and play a selected part of a MIDI LAML file.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">contextual-continuation</td> <td colspan="3" class="manual-plain-parameter-description">The continuation to which messages are passed. This is normally the continuation established by the midi-context form.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-region-do">midi-region-do</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-region"></a> midi-region</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-region . midi-messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Marks a region of midi messages, with the purpose of adding additional structure to a MIDI LAML file (much like span and div in HTML). Pass them through to caller. Mark the region in the binary midi file with midi-comments. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">name </td> <td class="manual-plain-attribute-description" colspan="2">The name of the midi region</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">drop </td> <td colspan="3" class="manual-plain-attribute-description">A boolean attribute which allows for elimination of the region.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-region">midi-region</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="sing-midi-abstractions"></a> <a name="SECTION13"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION12"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION14"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">13</span> <span class="manual-section-title">Single midi message abstractions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">Abstractions that generate a single, or a few midi messages.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-null-event-text"></a> midi-null-event-text</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">midi-null-event-text</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The default midi null event info text. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-null-event-text">midi-null-event-text</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-null-event"></a> midi-null-event</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-null-event delta-time [info-text])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A deltaTime midi null event inserted at delta-time. The midi null event is neutral with respect to the midi sound. Implemented as a Meta event of type 1. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">delta-time</td> <td class="manual-plain-parameter-description" colspan="2">The deltaTime of the midi-null-event. A non-negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">info-text</td> <td colspan="3" class="manual-plain-parameter-description">The text of the midi null event. Defaults to the value of the global variable midi-null-event-text.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-null-event">midi-null-event</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar Predicate</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#midi-null-event-message?">midi-null-event-message?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Alias</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#midi-null-event-delta-time">midi-null-event-delta-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#midi-null-event-abs-time">midi-null-event-abs-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Deprecated. Use midi-null-event-delta-time instead.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-null-event-delta-time"></a> midi-null-event-delta-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-null-event-delta-time delta-time [info-text])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A deltaTime midi null event inserted at delta-time. The midi null event is neutral with respect to the midi sound. Implemented as a Meta event of type 1. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">delta-time</td> <td class="manual-plain-parameter-description" colspan="2">The deltaTime of the midi-null-event. A non-negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">info-text</td> <td colspan="3" class="manual-plain-parameter-description">The text of the midi null event. Defaults to the value of the global variable midi-null-event-text.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-null-event-delta-time">midi-null-event-delta-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar Predicate</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#midi-null-event-message?">midi-null-event-message?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Alias of</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#midi-null-event">midi-null-event</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-null-event-abs-time"></a> midi-null-event-abs-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-null-event-abs-time abs-time [info-text])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">An absTime midi null event, inserted at abs-time. The midi null event is neutral with respect to the midi sound. Implemented as a Meta event of type 1. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">abs-time</td> <td class="manual-plain-parameter-description" colspan="2">The absTime of the midi-null-event. A non-negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">info-text</td> <td colspan="3" class="manual-plain-parameter-description">The text of the midi null event. Defaults to the value of the global variable midi-null-event-text.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-null-event-abs-time">midi-null-event-abs-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-comment"></a> midi-comment</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-comment . text-strings)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a deltaTime meta event which can act as a comment in the midi file. Inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">text-strings</td> <td class="manual-plain-parameter-description" colspan="2">Textual contents, in term of zero, one or several strings.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-comment">midi-comment</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-comment-abs-time"></a> midi-comment-abs-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-comment-abs-time abs-time . text-strings)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return ad absTime meta event which can act as a comment in the midi file. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">abs-time</td> <td class="manual-plain-parameter-description" colspan="2">The absolute-time in which to insert the midi comment.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">text-strings</td> <td colspan="3" class="manual-plain-parameter-description">Textual contents, in term of zero, one or several strings.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-comment-abs-time">midi-comment-abs-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-comment-delta-time"></a> midi-comment-delta-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-comment-delta-time delta-time . text-strings)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a deltaTime meta event which can act as a comment in the midi file. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">delta-time</td> <td class="manual-plain-parameter-description" colspan="2">The delta-time in which to insert the midi comment.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">text-strings</td> <td colspan="3" class="manual-plain-parameter-description">Textual contents, in term of zero, one or several strings.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-comment-delta-time">midi-comment-delta-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-marker"></a> midi-marker</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-marker marker-txt [marker-number marker-letter])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a deltaTime meta event of type 6 - a marker event. The marker text has the form: <marker-letter>-<maker-number> <marker-txt>. The meta event gets deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">marker-txt</td> <td class="manual-plain-parameter-description" colspan="2">The text of the marker. (A string).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-number</td> <td colspan="3" class="manual-plain-parameter-description">An integer marker number. Defaults to 0.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-letter</td> <td colspan="3" class="manual-plain-parameter-description">A string of length one containing the marker letter. Defaults to "M".</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-marker">midi-marker</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="midi-marker-abs-time"></a> midi-marker-abs-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(midi-marker-abs-time abs-time marker-txt [marker-number marker-letter])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return an absTime meta event of type 6 - a marker event timed at abs-time. The marker text has the form: <marker-letter>-<maker-number> <marker-txt>. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">abs-time</td> <td class="manual-plain-parameter-description" colspan="2">The absolute time of the MIDI marker (an integer og a text string). </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-txt</td> <td colspan="3" class="manual-plain-parameter-description">The text of the marker. (A string).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-number</td> <td colspan="3" class="manual-plain-parameter-description">An integer marker number. Defaults to 0.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">marker-letter</td> <td colspan="3" class="manual-plain-parameter-description">A string of length one containing the marker letter. Defaults to "M".</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#midi-marker-abs-time">midi-marker-abs-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pan"></a> pan</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pan c value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Set the PAN of channel c to value. Returns a single MIDI ControlChange event. Inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">c</td> <td class="manual-plain-parameter-description" colspan="2">A channel number between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">value</td> <td colspan="3" class="manual-plain-parameter-description">The pan value. 64 is neutral, 0 is hard left, and 127 is hard right.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#pan">pan</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="volume"></a> volume</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(volume c value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Set the volumen of channel c to value. Returns a single MIDI ControlChange event. Inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">c</td> <td class="manual-plain-parameter-description" colspan="2">A channel number between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">value</td> <td colspan="3" class="manual-plain-parameter-description">The volumen value between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#volume">volume</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="reverb"></a> reverb</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(reverb c value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Set the level of reverb of channel c to value. Returns a single MIDI ControlChange event. Inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">c</td> <td class="manual-plain-parameter-description" colspan="2">A channel number between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">value</td> <td colspan="3" class="manual-plain-parameter-description">The volumen value between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#reverb">reverb</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="chorus"></a> chorus</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(chorus c value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Set the level of chorus of channel c to value. Returns a single MIDI ControlChange event. Inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">c</td> <td class="manual-plain-parameter-description" colspan="2">A channel number between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">value</td> <td colspan="3" class="manual-plain-parameter-description">The volumen value between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#chorus">chorus</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="voice"></a> voice</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(voice channel msb lsb program-number)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Emit two channel change messages (msb/lsb) and a program change message. You should look up msb/lsb bank number and program number in a midi reference sheet.  The program number is according to the general midi specification. All events are inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number (between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">msb</td> <td colspan="3" class="manual-plain-parameter-description">Most significant byte of bank number. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">lsb</td> <td colspan="3" class="manual-plain-parameter-description">Least significant byte of bank number. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">program-number.</td> <td colspan="3" class="manual-plain-parameter-description">The Standard MIDI program number.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#voice">voice</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Alternative functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#gm-voice">gm-voice</a>  <a class="manual-plain-internal-reference" href="#voices-from-file">voices-from-file</a>  <a class="manual-plain-internal-reference" href="#voice-with-mix">voice-with-mix</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="voice-with-mix"></a> voice-with-mix</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(voice-with-mix channel msb lsb program-number v p r c)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Emit two channel change messages (msb/lsb) and a program change message together with control messages for volume, pan, reverb and chorus. All events are inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="8">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number (between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">msb</td> <td colspan="3" class="manual-plain-parameter-description">Most significant byte of bank number. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">lsb</td> <td colspan="3" class="manual-plain-parameter-description">Least significant byte of bank number. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">program-number.</td> <td colspan="3" class="manual-plain-parameter-description">The Standard MIDI program number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">v.</td> <td colspan="3" class="manual-plain-parameter-description">The amount of volume. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">p.</td> <td colspan="3" class="manual-plain-parameter-description">The amount of pan. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">r.</td> <td colspan="3" class="manual-plain-parameter-description">The amount of reverb. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">c.</td> <td colspan="3" class="manual-plain-parameter-description">The amount of chorus. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#voice-with-mix">voice-with-mix</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Simpler function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#voice">voice</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="gm-voice"></a> gm-voice</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(gm-voice channel program)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A specialized General Midi version of the voice function. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number (between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">program.</td> <td colspan="3" class="manual-plain-parameter-description">A program number (between 0 and 127) or a full/partial case-insensitive GM voice name.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#gm-voice">gm-voice</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More general function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#voice">voice</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Alternative function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#voices-from-file">voices-from-file</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="voices-from-file"></a> voices-from-file</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(voices-from-file [voice-file])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of voice messages (ProgramChange and ControlChange of control type 0 and 32) for the voices requested in voice-file. A voice file can be generated interactively from a so-called voice collection of a voice browser in the MIDI LAML environment. A voice collection file has the extension &#39;voices&#39;. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">voice-file</td> <td class="manual-plain-parameter-description" colspan="2">Either a voice file name (with or without &#39;voices&#39; extension) in the current directory, 
                      or a full path to a voice file (without extension).
                      Defaults to a voice file with the same proper name as the enclosing midi laml (midl) file.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A list of ASTs.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#voices-from-file">voices-from-file</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More basic functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#voice">voice</a>  <a class="manual-plain-internal-reference" href="#voice-with-mix">voice-with-mix</a>  <a class="manual-plain-internal-reference" href="#gm-voice">gm-voice</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="tempo"></a> tempo</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(tempo bpm)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a tempo Meta event, for tempo bpm, at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#tempo">tempo</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pitch-bend-range"></a> pitch-bend-range</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pitch-bend-range channel range [cents])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Emit four control change messages which control the pitch-bend-range, in half tones and cents, for the given channel. All events are inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">A channel number (between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">range</td> <td colspan="3" class="manual-plain-parameter-description">An integer between 1 and 12 (half tones). Typical range: 2.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">cents</td> <td colspan="3" class="manual-plain-parameter-description">An integer between 0 and 100, for fine adjustments. Defaults to 0.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#pitch-bend-range">pitch-bend-range</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Pitch bend constructor</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#make-pitch-bend-change-list">make-pitch-bend-change-list</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="chord-meta"></a> chord-meta</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(chord-meta root [chord-type])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Create a Yamaha Tyros Meta event (with deltaTiming, value 0) that encodes a given root and chord-type. The chord-type is optional, and it defaults to "M" (for major). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">root</td> <td class="manual-plain-parameter-description" colspan="2">The name of the root note. One of "C" "C#" "D" "D#" "E" "F" "F#" "G" "G#" "A" "A#" "B" (a string).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">chord-type</td> <td colspan="3" class="manual-plain-parameter-description">The name of a chord type, the default of which is "M".  One of "1+8" "1+5" "M" "6" "M7" "M7b5" "M7(#11)" "9" "M7_9" "6_9" "b5" "aug" "7aug" "M7aug" "m" "m6" "m7" "m7b5" "m(9)" "m7(9)" "m7(11)" "mM7b5" "mM7" "mM7(9)" "dim" "dim7" "7" "7sus4" "7(9)" "7(#11)" "7(13)" "7b5" "7(b9)" "7(b13)" "7(#9)" "sus4" "sus2" (a string).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#chord-meta">chord-meta</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/chord-meta/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Please notice that upper/lower case is important in the chord-type parameter (but not in the root parameter).</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="lyrics"></a> lyrics</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(lyrics txt)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Create a lyrics meta event with the given text.  The lyrics meta event is inserted at deltaTime 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">txt</td> <td class="manual-plain-parameter-description" colspan="2">A lyrics contribution (a text string).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#lyrics">lyrics</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Yamaha Tyros observation: Do not use the Danish Ø, ø, Æ, and æ in the text. The Danish å and Å are OK.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="play-chord"></a> play-chord</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(play-chord root chord-type start-octave number-of-octaves time-delta duration [channel velocity])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Play a given chord progression as a (maybe long) number of NoteOn messages, mostly for chord demo purposes. The progression is allways ended by the root note. A list of deltaTime NoteOn messages are created. Each note has deltaTime time-delta. Each played note will last duration  time units There will be time-delta between notes in the played chord (meassured in basic type units, 1920 pr. quarter note on tyros). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="8">Parameters</td> <td class="manual-plain-parameter-name">root</td> <td class="manual-plain-parameter-description" colspan="2">The name of the root. One of "C" "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B". (A string).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">chord-type</td> <td colspan="3" class="manual-plain-parameter-description">The name of a chord type. One of "1+8" "1+5" "M" "6" "M7" "M7b5" "M7(#11)" "9" "M7_9" "6_9" "b5" "aug" "7aug" "M7aug" "m" "m6" "m7" "m7b5" "m(9)" "m7(9)" "m7(11)" "mM7b5" "mM7" "mM7(9)" "dim" "dim7" "7" "7sus4" "7(9)" "7(#11)" "7(13)" "7b5" "7(b9)" "7(b13)" "7(#9)" "sus4" "sus2". (A string).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">start-octave</td> <td colspan="3" class="manual-plain-parameter-description">an octave number. Octave number 3 contains the middle C (note 60) - according the yamaha convention. Within the interval [-2..8]. (An integer).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">number-of-octaves</td> <td colspan="3" class="manual-plain-parameter-description">The number of octaves the play the cord. A positive integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">time-delta</td> <td colspan="3" class="manual-plain-parameter-description">The delta-time of each generated NoteOn message.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">duration</td> <td colspan="3" class="manual-plain-parameter-description">The durationof each generated NoteOn message.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">The channel of the generated NoteOn messages. Defaults to channel 1.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">velocity</td> <td colspan="3" class="manual-plain-parameter-description">The velocity of the generated NoteOn messages. Defaults to channel 80.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#play-chord">play-chord</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/play-chord/index.html">Midi LAML examples</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="strum-1"></a> strum-1</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(strum-1 length root chord-type . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Add strum (a sequence of chord adapted notes) to all matching notes in messages. Similar to strum-2, but this version takes explicit, positional chord root, chord type and strum length parameters. A given notes matches a chord and a root if the note is present in the chord sequence made by root and chord-type. If the chord does not match a note, just return the note. Else return a longer chord adapted list ending with note-on-ast. Should only be used on absTime (?). The parameters lgt, root, chord-type, delta-time, duration, channel and velocity is as for noteon-sequence-ending-at. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">length</td> <td class="manual-plain-parameter-description" colspan="2">The number notes produced in case of a match (a non-negative integer)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">root</td> <td colspan="3" class="manual-plain-parameter-description">The name of the root note. One of "C" "C#" "D" "D#" "E" "F" "F#" "G" "G#" "A" "A#" "B" (a string).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">chord-type</td> <td colspan="3" class="manual-plain-parameter-description">The name of a chord type. One of "1+8" "1+5" "M" "6" "M7" "M7b5" "M7(#11)" "9" "M7_9" "6_9" "b5" "aug" "7aug" "M7aug" "m" "m6" "m7" "m7b5" "m(9)" "m7(9)" "m7(11)" "mM7b5" "mM7" "mM7(9)" "dim" "dim7" "7" "7sus4" "7(9)" "7(#11)" "7(13)" "7b5" "7(b9)" "7(b13)" "7(#9)" "sus4" "sus2" (a string).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#strum-1">strum-1</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="strum-2"></a> strum-2</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(strum-2 . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Add strum (a sequence of chord adapted notes) to all matching notes in messages. Similar to strum-1, but this version takes chord root, chord type and strum length from attributes of NoteOn. The strum-length attribute defaults to 4 in the context of this function. The chord-type defaults to major ("M"). This "C" and "C#" are legal chord attribute values of NoteOn elements. They are identical to "CM" and "C#M". A given notes matches a chord and a root if the note is present in the chord sequence made by root and chord-type. If the chord does not match a note, just return the note. Else return a longer chord adapted list ending with note-on-ast. Should only be used on absTime (?). The chord root, chord type, and strum length are taken from the chord and strum-length attributes of the NoteOn elements. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#strum-2">strum-2</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="strum-3"></a> strum-3</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(strum-3 channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Add strum (a sequence of chord adapted notes) to all matching notes in messages which belong to channel. Similar to strum-1, but this version takes chord root, chord type from Meta events, maybe and typically generated from the accompaniment of Keyboard. It may also take chord information from a chord attribute of NoteOn messages.  As a distinctive feature of this version of strum, the chord information is carried through the messages. The strum-length attribute defaults to 4 in the context of this function, but it can change if a NoteOn messages carries a strum-length attribute. A given notes matches a chord and a root if the note is present in the chord sequence made by root and chord-type. If the chord does not match a note, just return the note. Else return a longer chord adapted list ending with note-on-ast. Should only be used on absTime (?). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#strum-3">strum-3</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="make-pitch-bend-change-list"></a> make-pitch-bend-change-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(make-pitch-bend-change-list ch n duration scale-fn [first-delta-time])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of n deltaTimed PitchBendChange midi events for channel ch with a total duration. The list returned is a flat list of deltaTime PitchBendChange events. The value of the PitchBendChange events are scaled by a standard scaling function, scale-fn. Scaling functions are functions from [0,1] -> Real. Per convention of this function, the scaling value 0 corresponds to 8192 (pitch bend neutral). Scaling value 1 corresponds to 16383, and scaling value -1 correponds to 0. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">Parameters</td> <td class="manual-plain-parameter-name">ch</td> <td class="manual-plain-parameter-description" colspan="2">Channel number (between 1 and 16).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">n</td> <td colspan="3" class="manual-plain-parameter-description">The number of PitchBendChange messages to produce. Minimum value: 2</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">duration</td> <td colspan="3" class="manual-plain-parameter-description">The total duration of the list of PitchBendChange messages. 
                    Only accurate if the first-delta-time is the default value.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scale-fn</td> <td colspan="3" class="manual-plain-parameter-description">The scaling function: [0,1] -> [-1, 1].</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">first-delta-time</td> <td colspan="3" class="manual-plain-parameter-description">The delta time of the first PichBendChange message. Defaults to the calculated deltaTime of all PitchBendChange messages.
           It may, in some situations, be useful to use a negative value of this parameter to facilitate an earlier insertion point than the physical location
           of the make-pitch-bend-change-list form.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#make-pitch-bend-change-list">make-pitch-bend-change-list</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Scaling functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scaling-function-generation">scaling-function-generation</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Pitch bend calibration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#pitch-bend-range">pitch-bend-range</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="make-tempo-change-list"></a> make-tempo-change-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(make-tempo-change-list n duration base-tempo scale-fn [last-tempo])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of n deltaTimed tempo Meta events with a total length of duration. Scales the base tempo with scale-fn. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">Parameters</td> <td class="manual-plain-parameter-name">n</td> <td class="manual-plain-parameter-description" colspan="2">The number of Meta tempo messages to produce. At least one.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">duration</td> <td colspan="3" class="manual-plain-parameter-description">The total duration of the list of Meta tempo messages (in time ticks).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">base-tempo</td> <td colspan="3" class="manual-plain-parameter-description">The base tempo, which is scaled throughout the of generated Meta tempo events. A real number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scale-fn</td> <td colspan="3" class="manual-plain-parameter-description">The scaling function: [0,1] -> Positive Real Number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">last-tempo</td> <td colspan="3" class="manual-plain-parameter-description">If provided, the last Meta tempo event is forced to be last-tempo. A real number.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#make-tempo-change-list">make-tempo-change-list</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Scaling functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scaling-function-generation">scaling-function-generation</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="make-volume-change-list"></a> make-volume-change-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(make-volume-change-list ch n duration start-volume scale-fn [end-volumne])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of n deltaTimed ControlChange type 7 &#39;channel volume" events with a total length of duration. Scales the start-volume with scale-fn. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">Parameters</td> <td class="manual-plain-parameter-name">n</td> <td class="manual-plain-parameter-description" colspan="2">The number of ControlChange messages to produce. At least one.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">duration</td> <td colspan="3" class="manual-plain-parameter-description">The total duration of the list of ControlChange messages (in time ticks).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">start-volumne</td> <td colspan="3" class="manual-plain-parameter-description">The start volume which is scaled throughout the of generated ControlChange list.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">scale-fn</td> <td colspan="3" class="manual-plain-parameter-description">The scaling function: [0,1] -> Positive Real Number.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">end-volumne</td> <td colspan="3" class="manual-plain-parameter-description">If provided, the end volumne value is forced to be end-volume.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#make-volume-change-list">make-volume-change-list</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Scaling functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scaling-function-generation">scaling-function-generation</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="channel-repl-join-sel"></a> <a name="SECTION14"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION13"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION15"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">14</span> <span class="manual-section-title">Channel replication, (copying), rechanneling, joining, and selection.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="replicate-channel"></a> replicate-channel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(replicate-channel ch-from ch-to . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Replicate each message of a given channel in message-list. Allocate each replicated message in channel ch-to. Existing messages in ch-to are not affected. It may be useful to use target channels outside the interval [1..16] for temporary purposes.  Each message belonging to channel ch-to is immediately replicated. (This is a contrast to the function replicate, which serves as "verse replication"). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ch-from</td> <td class="manual-plain-parameter-description" colspan="2">A channel (an integer between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ch-to</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#replicate-channel">replicate-channel</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More general functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#replicate-by-predicate">replicate-by-predicate</a>  <a class="manual-plain-internal-reference" href="#replicate-by-predicate-and-transformation">replicate-by-predicate-and-transformation</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="replicate-by-predicate"></a> replicate-by-predicate</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(replicate-by-predicate predicate ch-to . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Replicate each channel-message that satisfies the predicate. Allocate each replicated message to channel ch-to. Existing messages in ch-to are not affected.  Midi messages that do not satisfy the predicate are not affected. Non-channel messages are not affected. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">predicate</td> <td class="manual-plain-parameter-description" colspan="2">A midi message predicate. If true, replicate the message to channel ch-to.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ch-to</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#replicate-by-predicate">replicate-by-predicate</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More general function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#replicate-by-predicate-and-transformation">replicate-by-predicate-and-transformation</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More basic function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#replicate-channel">replicate-channel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="replicate-by-predicate-and-transformation"></a> replicate-by-predicate-and-transformation</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(replicate-by-predicate predicate transformation . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A generalization of replicate-by-predicate, which passes the message to be replicated to a transformation function. Replicates a channel message. The replications are returned by the transformation function when passed a channel message. Only replicate those messages that satisfy the predicate. Midi messages that do not satisfy the predicate are not affected. Non-channel messages are not affected. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">predicate</td> <td class="manual-plain-parameter-description" colspan="2">A midi message predicate. If true, replicate the message to channel ch-to.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">transformation</td> <td colspan="3" class="manual-plain-parameter-description">A function that transforms a single midi message (passed by the predicate) to either a single AST, or a list of ASTs.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#replicate-by-predicate-and-transformation">replicate-by-predicate-and-transformation</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">More basis functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#replicate-by-predicate">replicate-by-predicate</a>  <a class="manual-plain-internal-reference" href="#replicate-channel">replicate-channel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="join-channels"></a> join-channels</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(join-channels channel-list ch-to . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Join (remove) messages in channel-list, and instead assign these to channel ch-to. Existing messages in ch-to are not affected. It is allowed to use source/target channels outside the interval [1..16], which are discared upon midi generation. (If you use channels outside the interval [1..16] it may affect the timing of the remaining events. Therefore it is recommended to stay inside the interval [1.16]). ch-to is allowed to be one of the channels in channel-list. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">channel-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of channel numbers (an integer list).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">messages</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#join-channels">join-channels</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="select-channel"></a> select-channel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(select-channel channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return only those messages from message-list which belong to the given channel. Also include messages without a channel assigned to them. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#select-channel">select-channel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="delete-channel"></a> delete-channel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(delete-channel channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Delete those messages from message-list which belong to the given channel. In this version the deleted messages are substituted by midi null events. As a consequence, the function works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#delete-channel">delete-channel</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">absTime only variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#delete-channel-abstime">delete-channel-abstime</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="delete-channel-abs-time"></a> delete-channel-abs-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(delete-channel-abs-time channel . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Delete those messages from message-list which belong to the given channel. The messages disappear entirely. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A channel (an integer between 1 and 16)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#delete-channel-abs-time">delete-channel-abs-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Mode independent version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#delete-channel">delete-channel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="select-channels"></a> select-channels</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(select-channels channel-list . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Select (project) to only those channels of channel-list. Also include messages without a channel assigned to them. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages) or #t in the meaning of all channels.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of channel numbers (an integer list).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#select-channels">select-channels</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="rechannel"></a> rechannel</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(rechannel channel-map . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Rechannel (change channel numbers) messages according to channel-map. Channel not addressed in the channel-map are not affected.  Non-channel messages are not affected. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-map</td> <td colspan="3" class="manual-plain-parameter-description">An association list of channel numbers that map a source channel to a target channel.
           Example: ((3 . 1) (9 . 7) (10 . 8) (11 . 7) (12 . 2) (13 . 3)).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#rechannel">rechannel</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-midi-null-events"></a> eliminate-midi-null-events</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-midi-null-events . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate midi null events in all channels. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-midi-null-events">eliminate-midi-null-events</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="eliminate-events"></a> eliminate-events</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(eliminate-events predicate . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Eliminate events that matches the predicate. The elimination is done independent of channel. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">messages</td> <td class="manual-plain-parameter-description" colspan="2">A list of midi messages (such as NoteOn messages)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">predicate</td> <td colspan="3" class="manual-plain-parameter-description">A predicate which is guarantied to be called on an AST.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#eliminate-events">eliminate-events</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-channel-by-predicate"></a> split-channel-by-predicate</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-channel-by-predicate channel predicate channel-true channel-false . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Split the NoteOn events in the given channel to two channels. The NoteOn events in channel that satisfy the predicate will be located in channel-true, and those that do not will be located in channel-false. Midi events in other channels, and non-channel events are not affected. channel-true or channel-false are allowed to be the samme as channel. Works in both deltaTime mode and absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">The channel in which to split the NoteO messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">predicate</td> <td colspan="3" class="manual-plain-parameter-description">An AST predicate (guarantied to be called on a NoteOn AST).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-true</td> <td colspan="3" class="manual-plain-parameter-description">The target channel of those NoteOn messages in channel for which the predicate holds.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-false</td> <td colspan="3" class="manual-plain-parameter-description">The target channel of those NoteOn messages in channel for which the predicate does not hold.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-channel-by-predicate">split-channel-by-predicate</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Context-sensitive variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-channel-by-contextual-predicate">split-channel-by-contextual-predicate</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Intended for splitting the left hand and right hand of a piano piece.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-channel-by-contextual-predicate"></a> split-channel-by-contextual-predicate</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-channel-by-contextual-predicate channel predicate channel-true channel-false . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">absTime </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Split the NoteOn events in the given channel to two channels. In contrast to the function split-channel-predicate, the contextual NoteOn events are passed to the predicate in addition to the actual NoteOn midi event. The NoteOn events in channel that satisfy the predicate will be located in channel-true, and those that do not will be located in channel-false. Midi events in other channels, and non-channel events are not affected by this function. channel-true or channel-false are allowed to be the samme as channel. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">channel</td> <td class="manual-plain-parameter-description" colspan="2">The channel in which to split the NoteO messages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">predicate</td> <td colspan="3" class="manual-plain-parameter-description">A prediate of two parameters: (1) A NoteOn midi message, and (2) an additional NoteOn context list.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-true</td> <td colspan="3" class="manual-plain-parameter-description">The target channel of those NoteOn messages in channel for which the predicate holds.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-false</td> <td colspan="3" class="manual-plain-parameter-description">The target channel of those NoteOn messages in channel for which the predicate does not hold.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">behind-context </td> <td class="manual-plain-attribute-description" colspan="2">The number of time ticks of the context behind the current NoteOn message. A non-negative integer. Defaults to 240.</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">ahead-context </td> <td colspan="3" class="manual-plain-attribute-description">The number of time ticks of the context ahead of the current NoteOn message. A non-negative integer. Defaults to 240.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-channel-by-contextual-predicate">split-channel-by-contextual-predicate</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Context-free variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-channel-by-predicate">split-channel-by-predicate</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Intended for splitting the left hand and right hand of a piano piece.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="bar-transformations"></a> <a name="SECTION15"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION14"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION16"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">15</span> <span class="manual-section-title">Midi transformations on given bars.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="substitute-section-by-bar"></a> substitute-section-by-bar</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(substitute-section-by-bar channels section-list . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Substitute sections of the midi message-list with sections from section-list. The midi message-list must be in absTime mode and the replacements must be in deltaTime mode. (This is not checked). The affected sections in the midi message-list are identified by bar. Only messages in the given channels are substituted. The inserted sections are replicated to fill the requested number of bars (but they are never divided). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channels</td> <td class="manual-plain-parameter-description" colspan="2">A list of channels (a list of integers)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">section-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of sections to be inserted.
   Each section is itself a list, which has the form (bar-number number-of-bars replacement-list).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#substitute-section-by-bar">substitute-section-by-bar</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar abstime function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#substitute-section-by-time">substitute-section-by-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="thin-out-section-by-bar"></a> thin-out-section-by-bar</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(thin-out-section-by-bar channel section-list . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Thin out sections of the midi message-list by means of abs-time predicates. The midi message-list must be in absTime mode. The affected sections in the midi message-list are identified by bar. Only messages in the given channels are thinned out. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channels</td> <td class="manual-plain-parameter-description" colspan="2">A list of channels (a list of integers)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">section-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of sections to be thinned out.
            Each section is itself a list, which has the form (bar-number number-of-bars abs-time-keep-predicate).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#thin-out-section-by-bar">thin-out-section-by-bar</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/thin-out/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Predicate generator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#keep-beat">keep-beat</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Simpler variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#thin-out-messages-abs-time">thin-out-messages-abs-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="scale-velocity-of-sections-by-bar"></a> scale-velocity-of-sections-by-bar</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(scale-velocity-of-sections-by-bar channels section-list . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Scale the velocity of NoteOn messages, in selected channels, in given bars. The midi message-list must be in absTime mode (not checked). The affected sections in the midi message-list are identified by bar. Only messages in the given channels are affected </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channels</td> <td class="manual-plain-parameter-description" colspan="2">A list of channels (a list of integers)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">section-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of sections in which to scale the velocity.
            Each section is itself a list, which has the form (bar-number number-of-bars scaling-function).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">min-velocity </td> <td class="manual-plain-attribute-description" colspan="2">The smallest possible velocity. Defaults to 0. Serves as a lower limit cut off value.</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">max-velocity </td> <td colspan="3" class="manual-plain-attribute-description">The largest possible velocity. Defaults to 127. Serves as an upper limit cut off value.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#scale-velocity-of-sections-by-bar">scale-velocity-of-sections-by-bar</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/velocity-scaling/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar time function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-velocity-of-sections-by-time">scale-velocity-of-sections-by-time</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="envelope-sections-by-bar"></a> envelope-sections-by-bar</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(envelope-section-by-bar section-list . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Envelope sections of the midi message-list with pieces from section-list. The midi message-list must be in absTime mode and pieces from the section-list must be in deltaTime mode. (This is not checked). The affected sections in the midi message-list are identified by bar. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">section-list</td> <td class="manual-plain-parameter-description" colspan="2">A list of sections to be inserted. 
   Each section is itself a list, which has the form (bar-number number-of-bars pre-envelope-list post-envelope-list).
   The deltaTime messages in pre-envelope-list is inserted at the beginning of the section.
   The deltaTime messages in post-envelope-list is inserted at the beginning of the section.
.parameter message-list A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#envelope-sections-by-bar">envelope-sections-by-bar</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION16"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION15"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION17"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">16</span> <span class="manual-section-title">Midi transformations on sections.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions in this section are similar to the functions in the previous sections. The main difference is that the functions in this section work on sections, identified  by absolute time ticks, not bar numbers. The function time-of-marker allows for identification  of sections by markers.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="substitute-section-by-time"></a> substitute-section-by-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(substitute-section-by-time channels section-list . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Substitute sections of the midi message-list with sections from section-list. The midi message-list must be in absTime mode and the replacements must be in deltaTime mode. (This is not checked). The affected sections in the midi message-list are identified by time. Only messages in the given channels are substituted. The inserted sections are stretched to fill the requested number of bars. In addition it stretches the replacement-list to fit the given time interval [start-time - end-time]. It does not replicate the replacement list. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channels</td> <td class="manual-plain-parameter-description" colspan="2">A list of channels (a list of integers).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">section-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of sections to be inserted.
   Each section is itself a list, which has the form (time-start time-end replacement-list).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#substitute-section-by-time">substitute-section-by-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar bar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#substitute-section-by-bar">substitute-section-by-bar</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Compared with substitute-section-by-bar this function identifies regions with absolute times, not bar number and bar length.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="scale-velocity-of-sections-by-time"></a> scale-velocity-of-sections-by-time</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(scale-velocity-of-sections-by-time channels section-list . message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Scale the velocity of NoteOn messages, in selected channels, in given regions of time. The midi message-list must be in absTime mode (not checked). The affected sections in the midi message-list are identified by time intervals. Only messages in the given channels are affected. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">channels</td> <td class="manual-plain-parameter-description" colspan="2">A list of channels (a list of integers)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">section-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of sections in which to scale the velocity.
            Each section is itself a list, which has the form (start-time end-time scaling-function).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Attributes <br /> <span class="manual-kind-explanation">Required:  <font color="#ff0000"><b>*</b></font></span></td> <td class="manual-plain-attribute-name">min-velocity </td> <td class="manual-plain-attribute-description" colspan="2">The smallest possible velocity. Defaults to 0. Serves as a lower limit cut off value.</td></tr> <tr class="manual-row"><td class="manual-plain-attribute-name">max-velocity </td> <td colspan="3" class="manual-plain-attribute-description">The largest possible velocity. Defaults to 127. Serves as an upper limit cut off value.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#scale-velocity-of-sections-by-time">scale-velocity-of-sections-by-time</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/velocity-scaling/index.html">Midi LAML examples</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar bar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#scale-velocity-of-sections-by-bar">scale-velocity-of-sections-by-bar</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="time-of-marker"></a> time-of-marker</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(time-of-marker marker-name [message-list])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Find the absTime of marker with name marker-name, such as "M-1", in message-list. message-list defaults to the value of the global variable contextual-message-list assigned by substitute-section-by-time. The problem is, however, that contextual-message-list is not assigned before it typically is used. This problem has not been settled yet. Assume, as a precondition, that message-list is in absTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">marker-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of a meta marker (a string). Example: "M-1".</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">message-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of midi messages. Defaults to the value of the global variable contextual-message-list.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The absTime of the located meta midi message, of #f if the marker cannot be located in the message list. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#time-of-marker">time-of-marker</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="guitar-beats"></a> <a name="SECTION17"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION16"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION18"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">17</span> <span class="manual-section-title">Generation of note phrases.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions in this section generate - or help generate - list of notes. The most sophisticated is the function beat, which - typically, but not necessarily - generates guitar beats. The instrument definition is outside the context of the beat function. The generated beats are affected by a large number of parameters. The function duration-to-next is a function which makes it possible to express the duration contextually. LAML technically, duration-to-next, is an attribute-returning delayed procedural content item function.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="regular-beats"></a> regular-beats</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(regular-beats n ch note-value distance)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of n deltaTimed notes, of note value note-value, all in channel ch, with a mutual distance of distance. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">n</td> <td class="manual-plain-parameter-description" colspan="2">The number of NoteOn messages to be generated.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ch</td> <td colspan="3" class="manual-plain-parameter-description">The channel of the NoteOn messages. An integer between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">note-value</td> <td colspan="3" class="manual-plain-parameter-description">the value of the note attribute. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">duration</td> <td colspan="3" class="manual-plain-parameter-description">The deltaTime of each NoteOn message.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#regular-beats">regular-beats</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="beat"></a> beat</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(beat direction stretch base-velocity total-length velocity-scaling-fn delta-time-scaling-fn [transposition ch base-duration time-note-list])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a guitar beat chord in channel ch with a number notes, with an enforced total length (duration) of total-length. Direction is one of up or down (symbols or strings). The notes and their deltaTimes is per default fixed to a C-Major chord of six notes, but it can be customized to an arbitrary sequence via the parameter time-note-list. Each NoteOn sounds until it is activated later on in the contextual sequence, or with a duration of base-duration if it is last in the contextual sequence. Transpose with the value of transpose. Stretch with a factor of stretch (normally between 0 and 1). The velocity of each NoteOn event is, in the starting point, base-velocity (scaling is pending). The deltaTime of all but the first NoteOn event is base-delta-time (scaling is pending). The deltaTime of the first NoteOn is 0. Scale velocities with velocity-scaling-fn. Scale delta-times with delta-time-scaling-fn. noteValue may also the symbol -, in which case the note is skipped (in the sense that the note is substituted by a mill-null-event). time-note-list defaults to a C-major chord sequence of six notes. The first deltaTime is forced to be 0, independent of its given value. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="10">Parameters</td> <td class="manual-plain-parameter-name">direction</td> <td class="manual-plain-parameter-description" colspan="2">Either up or down (symbol or strings). If down, time-note-list is reversed.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">stretch</td> <td colspan="3" class="manual-plain-parameter-description">Stretch-factor (typically, but not necessarity, a real number between 0 and 1).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">base-velocity</td> <td colspan="3" class="manual-plain-parameter-description">The initial velocity before scaling with velocity-scaling-fn. An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">total-length</td> <td colspan="3" class="manual-plain-parameter-description">The enforced total-length of the beat. An non-negative integer.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">velocity-scaling-fn</td> <td colspan="3" class="manual-plain-parameter-description">A scaling function which is used to scale the base-velocity throughout the six notes.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">delta-time-scaling-fn</td> <td colspan="3" class="manual-plain-parameter-description">A scaling function which is used to scale the base-delta-time throughout the six notes.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">transposition</td> <td colspan="3" class="manual-plain-parameter-description">A transposition of the notes in the beat. A integer (positive or negative). Defaults to 0.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ch</td> <td colspan="3" class="manual-plain-parameter-description">The channel in which to which the NoteOn in the beat belongs. Defaults to channel 1. An integer between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">base-duration</td> <td colspan="3" class="manual-plain-parameter-description">The duration of all NoteOn which are not followed by a similar NoteOn in the same channel and with the same note value attribute. Defaults to 960.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">time-note-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of deltaTime noteValue pairs which defines the basis beat of the chord.
                          Each entry is of the form (deltaTime noteValue base-velocity) where deltaTime is non-negative integer and
                          noteValue is a note number, or a symbol or string which can be transformed to a note number by the function note-name-to-note-number.
                          base-velocity is optional, and if present it overrides the base-velocity (the third parameter of the function).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#beat">beat</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Examples</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../examples/beat/index.html">Midi LAML examples</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="duration-to-next"></a> duration-to-next</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(duration-to-next default-duration)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a functions, which (when called) calculates a duration attribute value pair (a list of two elements) of the deltaTime length  from the hosting NoteOn to the next NoteOn with same channel and the same note value. Serves as a delayed procedural content item of a NoteOn MIDI event. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">default-duration</td> <td class="manual-plain-parameter-description" colspan="2">The default duration, used in case the duration between neighbor NoteOn events cannot be found.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#duration-to-next">duration-to-next</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="generate-mega-voice-function"></a> generate-mega-voice-function</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(generate-mega-voice-function mega-voice-map)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a mega-voice-function from a given mega voice map. A mega voice function maps a note-name (with special conventions), a mega voice section name, and a normal velocity  to the note value and the mega-voice-specific velocity. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#generate-mega-voice-function">generate-mega-voice-function</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="steel-guitar-megavoice-map"></a> steel-guitar-megavoice-map</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">steel-guitar-megavoice-map</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The mega voice map of a steel guitar (tyros 1). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#steel-guitar-megavoice-map">steel-guitar-megavoice-map</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="style-splitting"></a> <a name="SECTION18"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION17"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION19"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">18</span> <span class="manual-section-title">Style Splitting.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions in this section split a style file in its midi path. In this context, a style file is a Yamaha Keyboard style file which control the automatic accompaniment. The first functions are older versions. The refined functions are more advanced. The refined functions are able to extract meta information about the midi contents of the pieces. Some levels of bulk processing is provided.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-and-process-style"></a> split-and-process-style</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-and-process-style style-file-path output-dir-path mode channel-selection)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Split a given style file in midi pieces, and generate (up to) 15 different  midi files of the parts. Place the midi pieces in a subdirectory of output-dir-path. Only output channels in channel-selection (a list of integers). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">style-file-path</td> <td class="manual-plain-parameter-description" colspan="2">The full file path to a style file.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The full file path to a an existiing output directory.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">mode</td> <td colspan="3" class="manual-plain-parameter-description">Midi processing mode. A symbol. Must be deltaTime.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-selection</td> <td colspan="3" class="manual-plain-parameter-description">A list of channel numbers, in the interval 1..16. A list of integers.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-and-process-style">split-and-process-style</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Bulk version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-and-process-all-styles">split-and-process-all-styles</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Refined version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-and-process-style-one-channel-refined">split-and-process-style-one-channel-refined</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Older version. Use the newer and refined variant. Does probably not work correctly any more.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-and-process-all-styles"></a> split-and-process-all-styles</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-and-process-all-styles input-dir-path output-dir-path mode channel-selection)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A bulk processing variant of split-and-process-style. Spilt each style file in input-dir-path in midi pieces, and generate (up to) 15 different in output-dir-path.  Apply mode (deltaTime or absTime) and select channels in channel-selection (a list of integers). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">input-dir-path</td> <td class="manual-plain-parameter-description" colspan="2">The absolute and complete path to an existing directory that contains style files.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The full file path to a an existiing output directory.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">mode</td> <td colspan="3" class="manual-plain-parameter-description">Midi processing mode. A symbol. Must be deltaTime.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel-selection</td> <td colspan="3" class="manual-plain-parameter-description">A list of channel numbers, in the interval 1..16. A list of integers.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-and-process-all-styles">split-and-process-all-styles</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Bulk version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-and-process-all-styles">split-and-process-all-styles</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Refined version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-and-process-all-styles-refined">split-and-process-all-styles-refined</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Older version. Use the newer and refined variant</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-and-process-style-one-channel-refined"></a> split-and-process-style-one-channel-refined</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-and-process-style-one-channel-refined style-file-path output-dir-path mode channel)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A much refined version of split-and-process-style. Split a given style file in midi pieces, and generate (up to) 15 different midi files of the parts. Place the midi pieces in subdirectories of output-dir-path. Apply mode (deltaTime or absTime) - a symbol - when parsing the style file. Only output data in the given channel. Do not store meta information. (If you want meta information stored, use split-and-process-style-one-channel-given-ast-refined instead of this function). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">style-file-path</td> <td class="manual-plain-parameter-description" colspan="2">The absolute and complete path to a style file.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to a directory. All but last directory path must be existing.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">mode</td> <td colspan="3" class="manual-plain-parameter-description">Either absTime or deltaTime (a symbol). MUST be deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">channel</td> <td colspan="3" class="manual-plain-parameter-description">A single channel - an integer number between 1 and 16.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-and-process-style-one-channel-refined">split-and-process-style-one-channel-refined</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Bulk version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-and-process-all-styles">split-and-process-all-styles</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-and-process-style-refined"></a> split-and-process-style-refined</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-and-process-style-refined meta-file-path style-file-path output-dir-path mode)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Split all channels in a style file into midi pieces.  Save meta information about the midi pieces in meta-file-path. If meta-file-path is #f, do not store meta information. Mode must be deltaTime. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">meta-file-path</td> <td class="manual-plain-parameter-description" colspan="2">The absolute and complete path to a meta file, or #f. An empty meta file is created automatically if it does not exist.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">style-file-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute and complete path to a style file.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to a directory. All but last directory path must be existing.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">mode</td> <td colspan="3" class="manual-plain-parameter-description">Either absTime or deltaTime (a symbol). MUST be deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-and-process-style-refined">split-and-process-style-refined</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Directory bulk version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-and-process-all-styles-refined">split-and-process-all-styles-refined</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-and-process-all-styles-refined"></a> split-and-process-all-styles-refined</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-and-process-all-styles-refined meta-file-path input-dir-path output-dir-path mode)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Split each style file in input-dir-path in midi pieces, and organize the midi pieces in output-dir-path. Only the styles in input-dir-path - and not subdirectories - are processed. Create the meta information in the file addressed by meta-file-path. Create the last directory in output-dir-path if necessary. A bulk processing variant of split-and-process-style-refined. Apply mode (deltaTime or absTime) and select channels in channel-selection (a list of integers). Mode must be deltaTime. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">meta-file-path</td> <td class="manual-plain-parameter-description" colspan="2">The absolute and complete path to a meta file, or #f. An empty meta file is created automatically if it does not exist.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">input-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute and complete path to an existing directory that contains style files.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to a directory. All but the last directory path must be existing.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">mode</td> <td colspan="3" class="manual-plain-parameter-description">Either absTime or deltaTime (a symbol). MUST be deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-and-process-all-styles-refined">split-and-process-all-styles-refined</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Directory bulk version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-and-process-all-style-directory-refined">split-and-process-all-style-directory-refined</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-and-process-all-style-directory-refined"></a> split-and-process-all-style-directory-refined</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-and-process-all-style-directory-refined meta-file-path input-dir-path output-dir-path mode)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Split each style file in each directory of input-dir-path in midi pieces, and organize the midi pieces in output-dir-path. At the top level, the directory structure is replicated. This is just another bluk version on top of split-and-process-all-styles-refined. No recusive processing is involved. Only a directory of directories of style files. Create the meta information in the file addressed by meta-file-path. Create the last directory in output-dir-path if necessary. Apply mode (deltaTime or absTime) and select channels in channel-selection (a list of integers). Mode must be deltaTime. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">meta-file-path</td> <td class="manual-plain-parameter-description" colspan="2">The absolute and complete path to a meta file, or #f. An empty meta file is created automatically if it does not exist.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">input-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute and complete path to an existing directory that contains directories with style files.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-dir-path</td> <td colspan="3" class="manual-plain-parameter-description">The absolute path to a directory. The leave directory of output-dir-path is created if necessary. The parent part must exists.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">mode</td> <td colspan="3" class="manual-plain-parameter-description">Either absTime or deltaTime (a symbol). MUST be deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-and-process-all-style-directory-refined">split-and-process-all-style-directory-refined</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION19"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION18"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION20"><img src="../../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">19</span> <span class="manual-section-title">Arpeggio splitting.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-arpeggio-recording"></a> split-arpeggio-recording</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-arpeggio-recording source-file-path start-number target-dir [expected-length])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Split a midi file in which consecutive arpeggio patterns have been recorded. The midi file is assumed to be a format 0 midi file (as recorded as a song on a motif XS). I.e., the recording happens to be a MIDI format 0 file of PPQN 480. It is assumed that each new arpeggio starts with a ControlChange number 0 message. Deliver the patterns as individual midi files in target-dir (an existing directory). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">source-file-path</td> <td class="manual-plain-parameter-description" colspan="2">The full path to the midi file with the recording</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">start-number</td> <td colspan="3" class="manual-plain-parameter-description">The initial arp number of the recording</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">target-dir-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of two full paths to the target directory and trimmed target dir, in which to store the resulting midi files.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">expected-length</td> <td colspan="3" class="manual-plain-parameter-description">The number of expected midi files. If provided, excution stops if the expectation is not correct.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-arpeggio-recording">split-arpeggio-recording</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-arpeggio-recording-via-pc-recording">split-arpeggio-recording-via-pc-recording</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="split-arpeggio-recording-via-pc-recording"></a> split-arpeggio-recording-via-pc-recording</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(split-arpeggio-recording-via-pc-recording source-file-path start-number target-dir [expected-length])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A variant of split-arpeggio-recording which takes a PC recording (as opposed to a Motif XS recording) as starting point. The PC recording happens to be a MIDI format 1 file of PPQN 960. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">source-file-path</td> <td class="manual-plain-parameter-description" colspan="2">The full path to the midi file with the recording</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">start-number</td> <td colspan="3" class="manual-plain-parameter-description">The initial arp number of the recording</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">target-dir-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of two full paths to the target directory and trimmed target dir, in which to store the resulting midi files.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">expected-length</td> <td colspan="3" class="manual-plain-parameter-description">The number of expected midi files. If provided, excution stops if the expectation is not correct.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#split-arpeggio-recording-via-pc-recording">split-arpeggio-recording-via-pc-recording</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Variant</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#split-arpeggio-recording">split-arpeggio-recording</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="aux-functions"></a> <a name="SECTION20"></a> <span><a href="#MANUAL-TOP"><img src="../../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION19"><img src="../../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <img src="../../../../images/small-next-blind.gif" title="" alt="" border="0" /></span> <br /> <span class="manual-section-number">20</span> <span class="manual-section-title">Auxiliary functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">Miscellaneous function that are not naturally contained in the categories from above.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pitch-bend-scale"></a> pitch-bend-scale</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pitch-bend-scale factor)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function that returns a numeric pitch-bend scaling function that takes into consideration that the mid-point pitch-bend value is 8192 (and not 0 as in the simple case of scaling). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A function suitable as transformation function in transform-attribute on the value attribute in PitchBendChange messages.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#pitch-bend-scale">pitch-bend-scale</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Possible use context</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#transform-attribute">transform-attribute</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="total-length-of-message-list"></a> total-length-of-message-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(total-length-of-message-list message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Calculate the total length of message-list. Works in both absTime and deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#total-length-of-message-list">total-length-of-message-list</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="enforce-minimum-message-length"></a> enforce-minimum-message-length</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(enforce-minimum-message-length min-length message-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Mode</td> <td colspan="3" class="manual-plain-custom">deltaTime</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Enforce that message-list will have a mini length of min-length. Works only in deltaTime mode. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#enforce-minimum-message-length">enforce-minimum-message-length</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="icon"></a> icon</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(icon name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return an icon name, which serve as the &#39;middle name&#39; of a style file. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">name</td> <td class="manual-plain-parameter-description" colspan="2">A symbolic name of an icon. The currently supported names are: "penguin", "butterfly", "candle", "banana", "orange", "lighting".</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#icon">icon</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="note-complement"></a> note-complement</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(note-complement note-str-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Returns the complement of note-str-list, relative to the possible note names. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">note-str-list</td> <td class="manual-plain-parameter-description" colspan="2">A comma-separated list of notes names belonging to C CS D Eb E F FS G GS A Bb and B.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The comma-separated list of notes not in note-str-list.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#note-complement">note-complement</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="chord-complement"></a> chord-complement</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(chord-complement chord-str-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Returns the complement of chord-str-list, relative to the possible note names. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">chord-str-list</td> <td class="manual-plain-parameter-description" colspan="2">A comma-separated list of chord names belonging to maj maj6 maj7 maj7s11 maj9 maj7-9 maj6-9 aug min min6 min7 min7b5 min-9 min7-9 min7-11 min-maj7 min-maj7-9 dim dim7 7th 7sus4 7b5 7-9 7s11 7-13 7-b9 7-b13 7-s9 maj7aug 7aug 1-plus-8 1-plus-5 sus4 1-plus-2-plus-5 and cancel.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The comma-separated list of chords not in chord-str-list.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#chord-complement">chord-complement</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="drum-category-of-note-value"></a> drum-category-of-note-value</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(drum-category-of-note-value note-value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the drum category of note-value. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">note-value</td> <td class="manual-plain-parameter-description" colspan="2">An integer between 0 and 127.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">One of the symbols undefined, latin-percussion, others, snare-drum, latin-high-pitch, bass-drum, hi-hat, tom, crash-cymbal, ride-cymbal, cymbal, latin-high-pitch.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="midi-laml-processing-lib-ep/midi-laml-processing-lib-1.html#drum-category-of-note-value">drum-category-of-note-value</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr></table> <div class="manual-end-remark">Generated: Monday, November 14, 2011, 09:15:28 <br /> Generated by LAML <a href="http://www.cs.aau.dk/~normark/schemedoc/index.html" style="color:inherit;">SchemeDoc</a> using LAML Version 38.0 (November 14, 2011, full) <br /> </div> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></body></html>