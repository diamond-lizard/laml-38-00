<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>Manual of the LAML questionnaire facility</title> <link href="../../../css-stylesheets/manual/manual-stylesheet.css" rel="stylesheet" type="text/css" /> <link rel="SHORTCUT ICON" href="../../../images/16-16-icon.ico" /></head> <body class="manual-body"><a name="MANUAL-TOP"></a> <table border="0px" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td width="33%" align="left" valign="top"><font size="2"><span class="manual-top-banner-when-generated">Generated: Monday, November 14, 2011, 09:19:32</span></font></td> <td width="34%" align="center" valign="top"><font size="2"><span>Copyright  &copy; 2011 , Kurt Nørmark</span></font></td> <td width="33%" align="right" valign="top"><font size="2"><a href="../../../index.html" title="The local LAML software home page" target="_top"><img src="../../../images/laml-home.gif" alt="The local LAML software home page" border="0" /></a></font></td></tr></tbody></table> <h1 class="manual-title">Manual of the LAML questionnaire facility</h1> <p></p> <h3><span class="manual-author-element"><span>Kurt Nørmark   &copy;</span> normark@cs.aau.dk</span> <span class="manual-affiliation-element">Department of Computer Science, Aalborg University, Denmark.</span></h3> <p></p>   <div class="manual-source-file-description">LAML Source file: styles/questionnaire/questionnaire.scm</div> <p></p> <a name="MANUAL-ABSTRACT"></a> <div class="manual-abstract"> This is a LAML questionnaire style. It is based on the html4.0-loose libraries. The main function is questionnaire. Besides this function and its helping functions, a collection of useful quetionnaire functionality is collected in this style; Some of these are used in the accompanying cgi programs. A submitted questionnaire can be self-contained if you want; It means that the questions and possible answers are submitted too via hidden lines. The cgi programs rely on self contained submissions. If a questions is identified with &#39;ID, the field &#39;IDquestion&#39; denotes the formulation of the question. In case of multi-choice-question, single-choice-question, and rating-question the questions themselves are submitted via hidden input lines with the answering possibilities submitted as &#39;IDanswers&#39; in a particular encoding.<p> The cgi programs in cgi-support (a subdirectory of the containing directory - not part of the LAML distribution) holds a number of accompanying cgi programs which can accept and display submissions. If you are interested in this part of the work, please contact normark@cs.auc.dk.<p> Important: Avoid the character &#39;&#39; in both questions, answers, and ids.<p> Please consult the <a href="../../../examples/questionnaire/index.html">example questionnaire</a> for further information and insight. </div> <p></p> <a name="MANUAL-TOC"></a> <div class="manual-table-of-contents-header">Table of Contents:</div> <div style="margin-left:12px;"><div><table border="0"><tbody><tr><td width="280" valign="top"><a href="#SECTION1"><font size="2">1.  Front matters.</font></a></td> <td width="280" valign="top"><a href="#SECTION2"><font size="2">2.  Questionnaire forms.</font></a></td> <td width="280" valign="top"><a href="#SECTION3"><font size="2">3.  CGI relevant stuff.</font></a></td></tr></tbody></table></div></div> <p></p> <a name="MANUAL-INDEX"></a> <div class="manual-alphabetic-index-header">Alphabetic index:</div> <div style="margin-left:12px;"><table border="3" class="manual-alphabetic-index"><tr><td class="manual-header-title"><a href="#answer-box">answer-box</a></td> <td class="manual-header-form">(answer-box txt)</td> <td class="manual-header-description">show txt in a colored answer box </td></tr> <tr><td class="manual-header-title"><a href="#feedback-message">feedback-message</a></td> <td class="manual-header-form">(feedback-message message)</td> <td class="manual-header-description">Define the feedback message, which appears when the questionnaire form is submitted.</td></tr> <tr><td class="manual-header-title"><a href="#format-answer">format-answer</a></td> <td class="manual-header-form">(format-answer answer-record id type)</td> <td class="manual-header-description">Return a formatted answer with id and type.</td></tr> <tr><td class="manual-header-title"><a href="#free-style-question">free-style-question</a></td> <td class="manual-header-form">(free-style-question id question)</td> <td class="manual-header-description">Ask a question which requires a multi-line answer.</td></tr> <tr><td class="manual-header-title"><a href="#free-style-question-height">free-style-question-height</a></td> <td class="manual-header-form">free-style-question-height</td> <td class="manual-header-description">The height of an free-style question field (in terms of number of characters) </td></tr> <tr><td class="manual-header-title"><a href="#free-style-question-width">free-style-question-width</a></td> <td class="manual-header-form">free-style-question-width</td> <td class="manual-header-description">The width of an free-style question field (in terms of number of characters) </td></tr> <tr><td class="manual-header-title"><a href="#hidden-ids">hidden-ids</a></td> <td class="manual-header-form">hidden-ids</td> <td class="manual-header-description">Hidden answers.</td></tr> <tr><td class="manual-header-title"><a href="#identification-question">identification-question</a></td> <td class="manual-header-form">(identification-question id question)</td> <td class="manual-header-description">Ask a question which requires a one line answer.</td></tr> <tr><td class="manual-header-title"><a href="#identification-question-width">identification-question-width</a></td> <td class="manual-header-form">identification-question-width</td> <td class="manual-header-description">The width of an identification question field (in terms of number of characters) </td></tr> <tr><td class="manual-header-title"><a href="#multi-choice-question">multi-choice-question</a></td> <td class="manual-header-form">(multi-choice-question id question possibilities)</td> <td class="manual-header-description">Ask a multi-choice question.</td></tr> <tr><td class="manual-header-title"><a href="#question-emphasis-function">question-emphasis-function</a></td> <td class="manual-header-form">(question-emphasis-function q)</td> <td class="manual-header-description">Question emphasis function.</td></tr> <tr><td class="manual-header-title"><a href="#questionnaire">questionnaire</a></td> <td class="manual-header-form">(questionnaire title receiving-program-url questionnaire-id  . question-list)</td> <td class="manual-header-description">Write a questionnaire to a file.</td></tr> <tr><td class="manual-header-title"><a href="#questionnaire-color-scheme">questionnaire-color-scheme</a></td> <td class="manual-header-form">questionnaire-color-scheme</td> <td class="manual-header-description">The questionnaire color scheme.</td></tr> <tr><td class="manual-header-title"><a href="#questionnaire-font-size">questionnaire-font-size</a></td> <td class="manual-header-form">questionnaire-font-size</td> <td class="manual-header-description">The font size of a questionnaire </td></tr> <tr><td class="manual-header-title"><a href="#questionnaire-self-contained">questionnaire-self-contained</a></td> <td class="manual-header-form">questionnaire-self-contained</td> <td class="manual-header-description">Is the submitted questionnaire self contained? </td></tr> <tr><td class="manual-header-title"><a href="#rating-question">rating-question</a></td> <td class="manual-header-form">(rating-question id question rating-list)</td> <td class="manual-header-description">Ask a rating question.</td></tr> <tr><td class="manual-header-title"><a href="#show-an-answer">show-an-answer</a></td> <td class="manual-header-form">(show-an-answer answer-record)</td> <td class="manual-header-description">Present the answer in answer-record </td></tr> <tr><td class="manual-header-title"><a href="#single-choice-question">single-choice-question</a></td> <td class="manual-header-form">(single-choice-question id question possible-answers)</td> <td class="manual-header-description">As a question which can be answered by choosing one answer among a selection of possible answers.</td></tr> <tr><td class="manual-header-title"><a href="#syn-con">syn-con</a></td> <td class="manual-header-form">(syn-con  . constituents)</td> <td class="manual-header-description">Return a symbol assembled from constituents </td></tr></table></div> <p></p> <table class="manual-table"><tr><td width="3000px" colspan="4"></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION1"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <img src="../../../images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="#SECTION2"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">1</span> <span class="manual-section-title">Front matters.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions and variables in this section are front matters to the real questionnaire.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="hidden-ids"></a> hidden-ids</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">hidden-ids</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Hidden answers. In some situations we might want (in an adhoc fashion) to hide certain answers. The answers to the questions ids in hidden-ids are not shown. Intial value is the empty list. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="questionnaire-self-contained"></a> questionnaire-self-contained</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">questionnaire-self-contained</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the submitted questionnaire self contained? </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="questionnaire-color-scheme"></a> questionnaire-color-scheme</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">questionnaire-color-scheme</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The questionnaire color scheme.  A list of four colors: background, foreground, link, visited links colors. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="questionnaire-font-size"></a> questionnaire-font-size</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">questionnaire-font-size</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The font size of a questionnaire </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="identification-question-width"></a> identification-question-width</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">identification-question-width</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The width of an identification question field (in terms of number of characters) </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="free-style-question-width"></a> free-style-question-width</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">free-style-question-width</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The width of an free-style question field (in terms of number of characters) </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="free-style-question-height"></a> free-style-question-height</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">free-style-question-height</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The height of an free-style question field (in terms of number of characters) </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="question-emphasis-function"></a> question-emphasis-function</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(question-emphasis-function q)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Question emphasis function. This function is applied on any question text. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION2"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION1"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION3"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">2</span> <span class="manual-section-title">Questionnaire forms.</span></td></tr> <tr><td colspan="4" class="manual-section-description">In this section you will find the top-level questionnaire form together with possible subforms.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="questionnaire"></a> questionnaire</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(questionnaire title receiving-program-url questionnaire-id  . question-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Write a questionnaire to a file. The title is the title of the questionnaire. receiving-program-url is the URL of the CGI program which processes the answers. questionnaire-id is a symbol which identifies this particular questionnaire. The question-list is a number of forms: identification-question, free-style-question, multi-choice-question, rating-question. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="identification-question"></a> identification-question</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(identification-question id question)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Ask a question which requires a one line answer. The answer to this question is meant to identify a particular answer relative to other answers. Thus, typically ask for the name of the submitter in an identification question. Id is the identification of this question (a symbol). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Alternative form</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-internal-reference" href="#free-style-question">free-style-question</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="free-style-question"></a> free-style-question</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(free-style-question id question)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Ask a question which requires a multi-line answer. The id is the identification of this question (a symbol). </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="multi-choice-question"></a> multi-choice-question</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(multi-choice-question id question possibilities)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Ask a multi-choice question. Possibilities is a list of possible answers. One or more answers can be selected. The id is the identification of this question (a symbol). </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="rating-question"></a> rating-question</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(rating-question id question rating-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Ask a rating question. The question can be answered by selecting exactly one of answers presenting in the rating-list. Gives entry ("id" . "n"), where n is the entry selected. The first is number 1. The id is the identification of this question (a symbol). Rating-list is a list of strings. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="single-choice-question"></a> single-choice-question</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(single-choice-question id question possible-answers)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">As a question which can be answered by choosing one answer among a selection of possible answers. Same form as rating question. However, the ordering of the answers is not important for single-choice-question. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="feedback-message"></a> feedback-message</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(feedback-message message)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Define the feedback message, which appears when the questionnaire form is submitted. Do NOT use the characters &#39;{&#39;, &#39;}&#39;, and &#39;£&#39; in the message. These characters are used for encoding purposes of embedded HTML anchor fragments - ad hoc stuff. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION3"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION2"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <img src="../../../images/small-next-blind.gif" title="" alt="" border="0" /></span> <br /> <span class="manual-section-number">3</span> <span class="manual-section-title">CGI relevant stuff.</span></td></tr> <tr><td colspan="4" class="manual-section-description">In sub-directory cgi-support of the directory holding the questionnaire.scm file, there is a number of CGI Scheme programs, which accepts answers and display the results of the questioning It is up to the administrator of the questionnaire facility (the LAML installer) to arrange that actual cgi programs are set up in an appropriate cgi-bin directory. These actual CGI programs can just load the Scheme programs in cgi-support.<p> The CGI stuff is not part of the LAML distribution.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="answer-box"></a> answer-box</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(answer-box txt)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Show txt in a colored answer box </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="syn-con"></a> syn-con</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(syn-con  . constituents)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a symbol assembled from constituents </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="format-answer"></a> format-answer</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(format-answer answer-record id type)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a formatted answer with id and type. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="show-an-answer"></a> show-an-answer</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(show-an-answer answer-record)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Present the answer in answer-record </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr></table> <div class="manual-end-remark">Generated: Monday, November 14, 2011, 09:19:32 <br /> Generated by LAML <a href="http://www.cs.aau.dk/~normark/schemedoc/index.html" style="color:inherit;">SchemeDoc</a> using LAML Version 38.0 (November 14, 2011, full) <br /> </div> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></body></html>