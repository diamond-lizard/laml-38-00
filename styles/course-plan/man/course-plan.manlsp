(((kind "manual-section") (section-title "Overview and organization.") (section-body "The course plan document style relies on a complete description of a course plan in terms of lecture lists,\ntime lists, subject lists, and a number of other parameters. The course description is represented in a single\ncentral Lisp file, the <em>course description file</em>.<p>\nBesides the course description file there is one central LAML file which generates the introduction, the overviews, and\nthe HTML frame pages. The is caled the <em>LAML course file.</em> Besides these two files there exists a file pr. lecture,\ntypically (but not necessarily) organized in a directory of their own. Finally, there may be other course files with additional\ntext, which are produced with the course file look using the functions course-page write-course-html-file.\n\nThe course plan document styles features a very convenient handling of time. If the course runs perodically and\nregularly the determination of the individual lecture times is almost made automatically, see time-list below.\nThe temporal power of the system is used to generate overviews and calendars (by means of the LAML calandar tool).\nWe use a separate and simple time-list, external from the other lists, to provide for very easy rescheduling of lectures.<p>\n\nWe recommend the following directory and file organization when using the course plan document style:\n<pre>\n  course-dir\n   html (*)\n     images  (*)\n   internal (*)\n   lecture-pages\n   course-description.scm\n   course.laml\n</pre>\nAll but course.laml and course-description.scm are directories. Only those directories marked by (*) need to have the mentioned names.\n\nWe will now describe the role of each of the directories and files:\n<ul>\n  <li> course-dir: The home directory of the course. May contain many other items. Named by the variable course-dir.\n  <li> html: The directory in which all generated HTML files are located. Create this directory yourself.\n  <li> html/images: The directory where all gif files will be placed. The necessary gif files will be copied to this directory automatically.\n       However, you must create this directory yourself.\n  <li> internal: A directory in which some internal files are written.\n  <li> lecture-pages: The directory in which to place the individual LAML lecture descriptions.\n  <li> course-description.scm: The course description file which must be loaded just after the course-plan style file. You are yourself responsible\n       for loading this file.\n  <li> course.laml: The LAML file which produces all the overall plans and \"infrastructure\" pages, including the course home page itself.\n       This file should also produce the course intoduction file, which must be named course-introduction.\n</ul>\nThe html, html/images, and the internal directories are created automatically by the course-plan system.\nIn a later section we will show examples and templates of the directories and files.")) ((kind "manual-section") (section-title "The course description.") (section-body "\nThe definitions in this section must be redefined in the course-description file\nwhich should be located in course-dir, which is defined below. The course description file\nmust be loaded just after the style loading clause. The central description structures (lists)\nare time-list, lecture-description-list, and subject-list.\n\n")) ((kind "manual-page") (description "A list of subject records.\nA subject record is a list of (subject-id title subject).\nThe default is the empty list. Is allowed to be longer or shorter than lecture-description-list.\nEntries are looked up via the subject-id.\n") (title "subject-list") (form subject-list)) ((kind "manual-page") (description "A list of lecture records. \nA lecture record is the central description of a single lecture in the course, in terms of\na lecture-id, a subject-id (referring to a record in suject-list), exercise time info, plenum time info, and room info.\nThe list must be of the same length as time-list.\nLecture record description:\n  Lecture-id: A symbol identifying a lecture. -\n  Subject-id: A symbol identifying a subject in subject list. -\n  Exercise-info: A list of (start-displacement length). Displacement relative to lecture start in time-list. Length in seconds. -\n  Plenum-info: A list of (start-displacement length). Displacement relative to lecture start in time-list. Length in seconds. -\n  Room: A room id string.\n") (title "lecture-description-list") (form lecture-description-list)) ((kind "manual-page") (description "A list of times for the individual lectures in the course.\nEach time is an integer (the number of seconds since jan. 1, 1970).\nUse the function time-encode from the LAML time library to return such a number.\nMust be of the same length as lecture-list.\n") (title "time-list") (form time-list)) ((kind "manual-page") (description "The title of the course (a string).\nMust be defined in the course description file.\n") (title "course-title") (form course-title)) ((kind "manual-page") (description "A brief, abbreviated course title (a string).\nMust be defined in the course description file.\n") (title "brief-course-title") (form brief-course-title)) ((kind "manual-page") (description "Course semester (a string).\nMust be defined in the course description file.\n") (title "course-semester") (form course-semester)) ((kind "manual-page") (description "Brief course semester (a string).\nMust be defined in the course description file.\n") (title "brief-course-semester") (form brief-course-semester)) ((kind "manual-page") (description "The name of the teacher(s). Defaults to \"The teacher\"\n") (title "teacher-name") (form teacher-name)) ((kind "manual-page") (description "The absolute path of the course directory.\nEnds in a slash.\nMust be defined in the course description file.\n") (title "course-dir") (form course-dir)) ((kind "manual-page") (description "The prefix of the course URL, pointing at the course directory.\nEnds in a slash.\nMust be defined in the course description file.\n") (title "course-url-prefix") (form course-url-prefix)) ((kind "manual-page") (description "A HTML string returning function with standard links from course-plan pages. \nAs default, no standard links are defined.\n") (title "standard-links") (form (standard-links))) ((kind "manual-page") (description "A function which returns a list of links which go into the overview frame (the leftmost frame of the frameset) of the course home page.\nEach element of the list must be a list of the format (\"url\" \"anchor-name\" \"target\"). The target may be \"main\" (for the main, rightmost\nwindow of the frameset) or \"_top\".\nThus this function must return a list of lists.\nThe links given here are added to some automatically generated links to overviews, calendar, and introduction.\nIf you want additional general links, redefine the function in the course description file.\nAs the default, this function returns the empty list.\n") (title "general-overview-links") (form (general-overview-links))) ((kind "manual-page") (description "A function which returns trace information. Must return the emtpy string of an HTML comment.\nThe LAML function html:page uses and expects this function.\nYou can use the LAML function html-comment when implementing the function. The default implementation returns the empty string.\n") (title "tracing-comment") (form (tracing-comment))) ((kind "manual-page") (description "A function which returns meta information, inserted by html:page.\nThe LAML function html:page uses and expects this function.\nMust return a list of property lists of meta information.\nThe default implementation returns the empty list (no meta information).\n") (title "meta-tag-clauses") (form (meta-tag-clauses))) ((kind "manual-page") (description "Return a list with course meta information to be put on any course page.\nSimilar to the function meta-tag-clauses.\nThe result of this function is passed more directly to the html:page function via the course-plan document style.\nAs default no meta descriptions are provided.\n") (title "meta-course-contribution") (form (meta-course-contribution))) ((kind "manual-page") (description "The last lecture-number which we want presented now.\nUsing this variable we can progressively reveal more and more lectures in the course.\nMust be defined in the course description file.\n") (title "last-lecture-number") (form last-lecture-number)) ((kind "manual-page") (description "The pixel width of the overview frame (leftmost frame of course home page).\nDefault 320.\n") (title "overview-pixel-width") (form overview-pixel-width)) ((kind "manual-page") (description "The total pixel width of a calendar. OK for one semester, but problematic for other course spans.\n") (title "preferred-calendar-pixel-width") (form preferred-calendar-pixel-width)) ((kind "manual-page") (description "The time (second-count) of the first lecture in the course.\nMust be defined in the course description file.\n") (title "course-start") (form course-start)) ((kind "manual-page") (description "Given the records of this lecture and the next-lecture, return an interval of the exercise time.\nReturn #f if there are no exercises.\nDepends on the model: forskudte øvelser til næste øvelsesgang.\nThis function may return #f in case there is no lectures.\nnext-lecture-rec may be #f in which case this function also returns #f.\nMust be redefined in the course-description-file.\n") (title "actual-exercise-interval") (form (actual-exercise-interval this-lecture-rec next-lecture-rec))) ((kind "manual-section") (section-title "Top level course plan functions.") (section-body "\nThe top level functions used in individual lecture pages (pages describing a single lecture plan in the course)\nare init-course-plan and lecture-plan. Besides these, the exercise functions described later are typically found\nin a lecture plan file.\n\n")) ((kind "manual-page") (description "The init-course-plan function must be called after all loading is completed, and before any pages are generated.\n") (title "init-course-plan") (form (init-course-plan))) ((kind "manual-page") (description "Write the plan of a given lecture to a html file.\nThe id parameter is mandator. The keyword parameters are each of the form\n(key value), where key is one of literature, guide, exercises, references, and misc.\nThe function writes the plan to an HTML file in the course html directory. The name of the\nfiles will be identical to the name of the LAML file, in which the source (with the lecture-plan form) is located.\nThis function the central function for generation of individual lecture plans for lectures in the cource.\n") (title "lecture-plan") (form (lecture-plan id . keyword-parameters))) ((kind "manual-section") (section-title "Colors.") (section-body "The graphical idea of the course home page is to show the left frame in a dark color\nwith white text, and the right large main frame in a light color with black text.\nThe course plan document style supports color styles in terms of related colors and (currently) a single gif image file.\nYou can make a new color scheme, and you can apply an existing color scheme.\n\n")) ((kind "manual-page") (description "The color used to mark course entries in the calendar.\n") (title "course-calendar-color") (form course-calendar-color)) ((kind "manual-page") (description "Return a color scheme in terms of a dark color (background of left frame), dark text color,\nlight color (background of large right frame) and a gif triangle file name (usually in the dark color).\n") (title "make-color-scheme") (form (make-color-scheme dark dark-text light triangle-image))) ((kind "manual-page") (description "Apply a given color scheme\n") (title "apply-course-plan-color-scheme") (form (apply-course-plan-color-scheme color-scheme))) ((kind "manual-page") (description "A sample color scheme: Purple and yellow\n") (title "course-plan-color-scheme-1") (form course-plan-color-scheme-1)) ((kind "manual-page") (description "Another sample color scheme: Read and yellow.\n") (title "course-plan-color-scheme-2") (form course-plan-color-scheme-2)) ((kind "manual-page") (description "Another sample color scheme: Black and white.\n") (title "course-plan-color-scheme-3") (form course-plan-color-scheme-3)) ((kind "manual-page") (description "Another sample color scheme:  Blue and grey.\n") (title "course-plan-color-scheme-4") (form course-plan-color-scheme-4)) ((kind "manual-page") (description "Another sample color scheme:  Blue and grey.\n") (title "course-plan-color-scheme-5") (form course-plan-color-scheme-5)) ((kind "manual-page") (description "Return a string which tells about the generating computer system.\nDefault: the empty string.\n") (title "generating-system") (form (generating-system))) ((kind "manual-section") (section-title "Course overviews.") (section-body "This sections contains a single function which generates convenient overviews of a course, including\nthe 'home page' of the course. A call of this function is typically made by the LAML file which produces\nthe course introduction, which must have the name \"course-introduction\".\n\n")) ((kind "manual-page") (description "Export this course's calendar entries to to-file.\nOnly this course's entries are exported. The export format is the 'native' calendar format,\nas defined by the interactive, server-based LAML calendar tool. URL's to lectures are made absolute via the exporting.\nIf to-file exists, overwrite it.\n") (title "export-course-calendar-entries") (form (export-course-calendar-entries to-file))) ((kind "manual-page") (description "Make course overview pages, including the course home page, and the course calendar.\nhome-page-name is the name of the home page file, without extension and without path information.\ncal-year, cal-month, and cal-number-of-months determine the calendar range.\ncal-title is used to define the title of the calendar.\nexternal-calendar-entries is used to pass additional calendar entries to the course calendar (a list of entries).\nThe entries must be in the 'calendar-events' format, as documented in the LAML calendar tool.\n") (title "make-course-overview-pages") (form (make-course-overview-pages home-page-name cal-year cal-month cal-number-of-months cal-title external-calendar-entries))) ((kind "manual-section") (section-title "Course plan exercise functions.") (section-body "The course-exercise function may, for instance, be called after the lecture-plan function in order to\ndefine an excercise for the lecture. Each exercise is written on a separate HTML file. The URL function \ncourse-exercise-ref can be used to refer to the exercises from the lecture-plan.\n\n")) ((kind "manual-page") (description "Define an exercise with a certain id (symbol), a number, and a body.\nThe exercise belongs to lecture-id, which is optional in cases the course-exercise follows a lecture-plan clause.\nid is a symbol identifying the execise. \nnumber is the execise number or letter.\n") (title "course-exercise") (form (course-exercise id number body . lecture-id))) ((kind "manual-page") (description "Return an URL to an exercise.\nThe URL is relative, and only works from HTML files in the course html directory.\nid is a symbol identifying the execise. \nnumber is the execise number, a letter or an integer.\nlecture-id identifies the lecture, to which the exercise belongs.\nThe function return a link to the exercise, and it is\nonly applicable from a lecture plan page. See the function exercise-url for an absolute url.\n") (title "course-exercise-ref") (form (course-exercise-ref id number lecture-id))) ((kind "manual-section") (section-title "URL functions.") (section-body "These functions define a few useful URL functions. The user is encouraged to write more such\nfunctions in the course description file.\n\n")) ((kind "manual-page") (description "Return a relative URL to a particular lecture page (as generated by the lecture-plan function).\n") (title "us-relative-url") (form (us-relative-url id))) ((kind "manual-page") (description "Return an absolute URL to a particular exercise.\n") (title "exercise-url") (form (exercise-url lecture-id exercise-id))) ((kind "manual-page") (description "Return an absolute URL to lecture number n in this course.\n") (title "lecture-number-url") (form (lecture-number-url n))) ((kind "manual-section") (section-title "Internal functions of interest.") (section-body "Here we wil document a few internal functions which may turn out to be useful in some contexts.\n\n")) ((kind "manual-page") (description "Return a course page (with standard graphical elements, header, body and some footer stuff (standard-links)).\nThis functions returns an HTML string.\nUse this function together with write-course-html-file if you want to make additional course plan files.\n") (title "course-page") (form (course-page title body))) ((kind "manual-page") (description "Write the contents in the course's html file.\nThe contents is typcically an activation of course-page.\nFile is without extension and without any path information.\nThis function adds an html extension.\nUse this function together course-page if you want to make additional course plan files.\n") (title "write-course-html-file") (form (write-course-html-file contents file))) ((kind "manual-section") (section-title "Utility functions.") (section-body "Here are some functions which are useful when producing course home pages.\n\n")) ((kind "manual-page") (description "Return a list of times, length n, starting with start, and with the period period.\nThis function can be used to produce the time-list in case of a regular course rythm.\n") (title "periodic") (form (periodic start n period))) ((kind "manual-section") (section-title "An example of a course home page") (section-body ("One of the best ways to learn about the course plan document style is to study an example.\r\n                As part of the LAML example collection we also provide a " (ast "a" ("course plan example") (href "../../../examples/course-plan/index.html") double xhtml10-transitional) ", where you\r\n                can see the Scheme and LAML sources together with the generated HTML pages."))) ((kind "manual-section") (section-title "Template stuff") (section-body ("If you are going to create a course home page via use of the LAML course plan document style\r\n                the template described in this section is a possible starting point. We have made a " (ast "a" ("directory structure") (href "template/") double xhtml10-transitional) " with templates of all the central elements. The capitalized names should be filled in \r\n                by you.\r\n                It is possible generate the 'template course' once the course-dir in course-description.scm has been defined.\r\n                The " (ast "a" ("resulting course home page") (href "template/html/COURSE-HOME.html") double xhtml10-transitional) " does not look nice, but it may be instructive to take a look at it anyway.\r\n                The resulting HTML files can be navigated to above, but they are not part of the zip file.\r\n                We have also made a " (ast "a" ("zipped version of the template directory") (href "template.zip") double xhtml10-transitional) " for your convenience. \r\n                You can unzip it into the parent directory, in which you want your course home page to reside. It creates a course directory called 'template'.\r\n                Afterwards, rename 'template' to something which makes sense."))))