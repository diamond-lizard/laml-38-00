<html><head><link href="../../css-stylesheets/elucidator/program.css" rel="stylesheet" title="program" type="text/css" /> <title>Source file</title></head><body bgcolor="#ffffff" text="#000000" link="#000000" vlink="#000000"><font size="2"><pre><span class="comment">; This file is made during the LAML configuration process - DO NOT EDIT!</span><br />
<div class="schemedoc-abstract-comment">;;;; .title Reference Manual of the LAML library
;;;; The file &lt;kbd&gt;laml.scm&lt;/kbd&gt; is the very first laml file to load.
;;;; It contains a number of variable and functions which must be defined whenever LAML is used.
;;;; Some of the variables - the configuration variables - are defined via the LAML configuration process.
;;;; It also contains some very fundamental LAML stuff, including a number of top level commands that activate LAML tools.
;;;; Physically, laml.scm is composed of a tiny, configuration dependent file followed by the file laml-fundamental.scm.
;;;; These two files are documented together.&lt;p&gt;
;;;;
;;;;
;;;; &lt;kbd&gt;laml.scm&lt;/kbd&gt; loads 
;;;; the scheme/OS/platform specific compatibility file
;;;; and the &lt;a href="../lib/man/general.html"&gt;general library&lt;/a&gt; from the &lt;kbd&gt;lib&lt;/kbd&gt; directory.
;;;;
;;;;
;;;; It is assumed that the value of the variable &lt;kbd&gt;laml-dir&lt;/kbd&gt; is the full path of the LAML directory;
;;;; &lt;kbd&gt;laml-dir&lt;/kbd&gt; must be defined when &lt;kbd&gt;laml.scm&lt;/kbd&gt; is loaded, and the path must end in a "/".
;;;; The laml command prompt command and the LAML Emacs activation commands will take care of the definition of &lt;kbd&gt;laml-dir&lt;/kbd&gt; for you.</div>

<span class="comment">; Physically, this file constitute the configuration dependent part.
; The configuration independent part are located in laml-fundamental.scm</span><br />
<span class="comment">; The LAML library and programs are written by Kurt Normark, Aalborg University, Denmark.
; Copyright (C) 1999-2006  Kurt Normark, normark@s.aau.dk.
;
; This program is free software; you can redistribute it and/or modify
; it under the terms of the GNU General Public License as published by
; the Free Software Foundation; either version 2 of the License, or
; (at your option) any later version.
;
; This program is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU General Public License for more details.
;
; You should have received a copy of the GNU General Public License
; along with this program; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span><br />

<div class="schemedoc-section-comment">;;; The configuration section.
;;; The configuration section is meant to be addapted in each new LAML installation.
;;; This section contains a few fundamental variables. The variables are defined via
;;; the configuration file in the laml-config directory. 
;;; .section-id config-section</div>
<span class="comment">; ---------------------------------------------------------------------------------------------------
; CONFIGURATION SECTION</span><br />
<a name="scheme-system"></a><a name="scheme-system"></a><span><a href="../laml.html#scheme-system"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">scheme-system</span> 'mzscheme-200)

<a name="laml-platform"></a><a name="laml-platform"></a><span><a href="../laml.html#laml-platform"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-platform</span> 'unix)

<a name="operating-system"></a><a name="operating-system"></a><span><a href="../laml.html#operating-system"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">operating-system</span> 'linux)

<a name="laml-library"></a><a name="laml-library"></a><span><a href="../laml.html#laml-library"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-library</span> "lib")

<a name="laml-version"></a><a name="laml-version"></a><span><a href="../laml.html#laml-version"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-version</span> "Version 38.0 (November 14, 2011, full)")


<a name="laml-activation"></a><span class="comment">; Determines how the laml processing is initiated. A symbol.
; rich: Information is transferred from the context such that the Scheme system knows the 
; file name and the start-up directory.
; poor: No information is transferred from the context.
; We now always use the value rich - in reality this variable does not play a role any longer.</span><br /><a name="laml-activation"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-activation</span> 'rich)


<a name="laml-default-output-file"></a><span class="comment">; The default name of an LAML output file.
; In case laml-activation is 'rich we use the name of the laml file to determine the name of the html output file.
; In poor laml activation situations we use the value of the variable laml-default-output-file.
; A file name without initial path and without extension.
; This variable does not play a role any longer.</span><br /><a name="laml-default-output-file"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-default-output-file</span> "default")

<a name="laml-default-output-directory"></a><span class="comment">; The default directory of LAML output.
; In case laml-activation is 'rich we use the name of the startup directory 
; (as returned by (startup-directory scheme-system) to determine this directory.
; The variable laml-default-output-directory is only used in case of poor laml-activation.
; This variable does not play a role any longer.</span><br /><a name="laml-default-output-directory"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-default-output-directory</span> "")

<a name="computer-system"></a><span class="comment">; The machine on which I use LAML-based software.
; This variable is not used any place in the LAML software, so *you* can forget about.
; I use it in the setup files of the LENO and course-plan systems. The variable allows
; me to find out on which machine I am running. Files, on which I rely, may be placed different
; places on different machines.
; Possible values: cs-unix, home-pc, thinkpad</span><br /><a name="computer-system"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">computer-system</span> 'cs-unix)

<a name="begin-laml"></a><a name="begin-laml"></a><span><a href="../laml.html#begin-laml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(begin-laml)</span>
  <span class="comment">; Load the user's laml init file, if specified in the configuration file, and if the file exists.</span><br />  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX200" title="R5RS Scheme form">equal?</a> "/user/normark/.laml" "false")) (file-exists? "/user/normark/.laml"))
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> "/user/normark/.laml")))

<a name="end-laml-loading"></a><a name="end-laml-loading"></a><span><a href="../laml.html#end-laml-loading"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">end-laml-loading</span> <a class="applied-name" href="laml-1.html#begin-laml" title="laml">begin-laml</a>)

<a name="laml-execution-mode"></a><a name="laml-execution-mode"></a><span><a href="../laml.html#laml-execution-mode"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-execution-mode</span> 'fast)

<span class="comment">; END CONFIGURATIONS.</span><br />
<span class="comment">; ---------------------------------------------------------------------------------------------------------------------------------------------------------</span><br />
<span class="comment">; ADDITIONAL LOADING</span><br />
<span class="comment">; Load the relevant LAML compatibility file.</span><br />(<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">laml-lib-comp-file</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">nm</span>) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "lib/compatibility/" nm)))
      (<span class="local-name-binding">comp-file</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">nm</span>) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "lib/compatibility/" nm)))
      (<span class="local-name-binding">schemesys-platform-os</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (symbol->string <a class="applied-name" href="laml-1.html#laml-platform" title="laml">laml-platform</a>) "_" (symbol->string <a class="applied-name" href="laml-1.html#operating-system" title="laml">operating-system</a>) "_" (symbol->string <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a>) ".scm"))
      (<span class="local-name-binding">schemesys-platform-star</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (symbol->string <a class="applied-name" href="laml-1.html#laml-platform" title="laml">laml-platform</a>) "_" "star" "_" (symbol->string <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a>) ".scm"))
      (<span class="local-name-binding">schemesys-star-star</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "star" "_" "star" "_" (symbol->string <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a>) ".scm"))
     )
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((file-exists? (laml-lib-comp-file schemesys-platform-os))
             (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (comp-file schemesys-platform-os)))
        ((file-exists? (laml-lib-comp-file schemesys-platform-star))
             (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (comp-file schemesys-platform-star)))
        ((file-exists? (laml-lib-comp-file schemesys-star-star))
             (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (comp-file schemesys-star-star)))
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (error (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "Compatibility loading: Cannot find compatibility file in lib/compatibility.")))))

<span class="comment">; Load the general LAML library</span><br />(<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "lib/general.scm"))

<span class="comment">; Load the configuration independent part of the fundamental LAML library. </span><br />(<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "laml-fundamental.scm"))

(<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX200" title="R5RS Scheme form">equal?</a> "/user/normark/.laml" "false")) (file-exists? "/user/normark/.laml"))
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> "/user/normark/.laml"))<span class="comment">; =&gt;man/laml.sdoc</span><br />
<span class="comment">; The configuration independent part of the laml.scm.
; Loaded by laml.scm, and assumed to form the rear part of laml.scm.</span><br />

<span class="comment">; Yet another configuration feature</span><br />
<a name="laml-temp-file-path"></a><a name="laml-temp-file-path"></a><span><a href="../laml.html#laml-temp-file-path"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-temp-file-path)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "temp/"))





<span class="comment">; TIMING.
; In MzScheme we meassure the time used by LAML to process a document.
; The end-laml procedure reports on the elapsed time.
; We Start the timing here. </span><br />
<a name="start-laml-time"></a><span class="comment">; start-laml-time is curretly only valid in mzscheme and guile. Units: System dependent.</span><br /><a name="start-laml-time"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">start-laml-time</span> 
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX118" title="R5RS Scheme form">or</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a> 'mzscheme) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a> 'mzscheme-200))
             (current-process-milliseconds))
         ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a> 'guile) (get-internal-run-time)) 
         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> 0)))

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br />

<span class="comment">; Other variables.
; This part of the laml.scm file contains some other variables. Most LAML users can ignore these.
; Taken out of the manual interface May 14, 2003.</span><br />

<a name="software-directory"></a><span class="comment">; An alias of laml-dir.
; For backward compatibility.
; Some LAML applications change this variable to a more local directory.</span><br /><a name="software-directory"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">software-directory</span> laml-dir)

<a name="scheme-library"></a><span class="comment">; An alias of laml-library. 
; For backward compatibility</span><br /><a name="scheme-library"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">scheme-library</span> <a class="applied-name" href="laml-1.html#laml-library" title="laml">laml-library</a>)

<a name="the-library"></a><span class="comment">; Full path to the scheme library.
; Normally the value of this variable is derived from laml-dir and laml-library. 
; Ends in a slash.</span><br /><a name="the-library"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">the-library</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir <a class="applied-name" href="laml-1.html#laml-library" title="laml">laml-library</a> "/"))

<a name="laml-load-variation"></a><span class="comment">; A global variable which signals some kind of variations in the loading of a LAML style or library.
; If no load variation is present, the value of the variable will be #f. The interpretation of a non-false value
; is entirely up to a style or a library.
; The value of this variable is assigned by the style and laml-style form based on the last optional parameter of style or laml-style</span><br /><a name="laml-load-variation"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-load-variation</span> #f)


<a name="xml-in-laml-languages-in-use"></a><span class="comment">; An association list of languages and language maps.
; The variable is related to the xml-in-laml library.</span><br /><a name="xml-in-laml-languages-in-use"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">xml-in-laml-languages-in-use</span> '())

<a name="xml-in-laml-navigator-structures"></a><span class="comment">; An association list of languages and XML navigator structures.
; Used for fast navigation in ASTs, guided by static information from the
; underlying DTD.</span><br /><a name="xml-in-laml-navigator-structures"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">xml-in-laml-navigator-structures</span> '())

<a name="xml-in-laml-validator-structures"></a><span class="comment">; An association list of languages and XML validation structures.
; Used for access to XML validation procedures given an element name.</span><br /><a name="xml-in-laml-validator-structures"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">xml-in-laml-validator-structures</span> '())

<a name="xml-in-laml-content-model-structures"></a><span class="comment">; An association list of languages and XML content model structures.
; Used for access to the XML content models at document generation or transformation time.</span><br /><a name="xml-in-laml-content-model-structures"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">xml-in-laml-content-model-structures</span> '())

<a name="xml-in-laml-action-procedure-structures"></a><span class="comment">; As association list of languages and action procedure structures.
; A single action procedure structure of an XML language maps XML elements to action procedures of the language. </span><br /><a name="xml-in-laml-action-procedure-structures"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">xml-in-laml-action-procedure-structures</span> '())

<span class="comment">; ---------------------------------------------------------------------------------------------------
; Variables related to link checking.
; Belongs naturally in lib/xml-in-laml/xml-in-laml.scm, but located here
; in case xml-in-laml.scm becomes reloaded before end-laml is called.</span><br />
<a name="relative-url-list-for-later-checking"></a><span class="comment">; A list of relative url entries for later checing. Each entry is of the form (rel-url surrounding-absolute-file).</span><br /><a name="relative-url-list-for-later-checking"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">relative-url-list-for-later-checking</span> '())

<a name="absolute-url-list-for-later-checking"></a><span class="comment">; A list of absolute url entries for later checing. Each entry is a string (the absolute url).</span><br /><a name="absolute-url-list-for-later-checking"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">absolute-url-list-for-later-checking</span> '())

<a name="relative-url-problem-count"></a><span class="comment">; Internal global variable used for counting relative url linking problems</span><br /><a name="relative-url-problem-count"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">relative-url-problem-count</span> 0)

<a name="absolute-url-problem-count"></a><span class="comment">; Internal global variable used for counting absolute url linking problems</span><br /><a name="absolute-url-problem-count"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">absolute-url-problem-count</span> 0)

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br />

<div class="schemedoc-section-comment">;;; LAML version information.
;;; The functions in this section return information about the version of LAML that you have installed.
;;; The functions basically return the same information as the string laml-version.
;;; We provide these function to make the LAML version information available on a more convenient form than in
;;; in the string laml-version. The version information is taken from the file distribution-version.lsp in the 
;;; root of the LAML distribution. Always use the functions in this section to access the version information.
;;; (Do not read and interpret the information in distribution-version.lsp directly).
;;; .section-id laml-version-functions</div>
<a name="laml-version-numbers"></a><a name="laml-version-numbers"></a><span><a href="../laml.html#laml-version-numbers"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-version-numbers)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">laml-version-info</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "distribution-version.lsp"))))
   (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX321" title="R5RS Scheme form">car</a> laml-version-info) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX325" title="R5RS Scheme form">cadr</a> laml-version-info))))

<a name="laml-version-time"></a><a name="laml-version-time"></a><span><a href="../laml.html#laml-version-time"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-version-time)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">laml-version-info</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "distribution-version.lsp"))))
   (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX321" title="R5RS Scheme form">car</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX325" title="R5RS Scheme form">cddr</a> laml-version-info))))

<a name="laml-version-kind"></a><a name="laml-version-kind"></a><span><a href="../laml.html#laml-version-kind"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-version-kind)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">laml-version-info</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "distribution-version.lsp"))))
   (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX321" title="R5RS Scheme form">car</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX322" title="R5RS Scheme form">cdr</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX322" title="R5RS Scheme form">cdr</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX322" title="R5RS Scheme form">cdr</a> laml-version-info)))))))




<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br />
<div class="schemedoc-section-comment">;;; Library, style, tool, and local dir loading.
;;; The functions in this section loads LAML libraries and LAML styles.
;;; .section-id loading-section</div>
<a name="lib-load"></a><a name="lib-load"></a><span><a href="../laml.html#lib-load"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(lib-load suffix-path)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> <a class="applied-name" href="laml-1.html#the-library" title="laml">the-library</a> suffix-path)))

<a name="laml-tool-load"></a><a name="laml-tool-load"></a><span><a href="../laml.html#laml-tool-load"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-tool-load suffix-path)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/" suffix-path)))

<a name="local-load"></a><a name="local-load"></a><span><a href="../laml.html#local-load"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(local-load suffix-path)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>) suffix-path)))

<a name="style"></a><span class="comment">; Load a LAML style.
; .form (style style-spec [style-base load-variation])
; .parameter style-spec The name of the style to load. A style-spec is without extension. However, the style file must have the scm extension.
; .parameter style-base: The directory which contains the style. If style-base is given it must be a directory (a slash terminated string) from which to load your style. If style-base is omitted, the style is loaded from styles subdirectory of the LAML directory.
; .parameter load-variation: A load-variation assigned to the global LAML variable laml-load-variation.
; .example  (style "simple" #f 'xyz-variation)
; .example  (style "manual" "manual/")
; .internal-references "also relevant" "laml-style"</span><br /><a name="style"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(style style-spec . optional-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">original-load-variation</span> <a class="applied-name" href="laml-1.html#laml-load-variation" title="laml">laml-load-variation</a>))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">style-base</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameters))
        (<span class="local-name-binding">load-variation</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameters))
       )
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> <a class="applied-name" href="laml-1.html#laml-load-variation" title="laml">laml-load-variation</a> load-variation)
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> style-base
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> style-base style-spec ".scm"))
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> <a class="applied-name" href="laml-1.html#software-directory" title="laml">software-directory</a> "styles/" style-spec ".scm")))
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> <a class="applied-name" href="laml-1.html#laml-load-variation" title="laml">laml-load-variation</a> original-load-variation))))

<a name="laml-style"></a><a name="laml-style"></a><span><a href="../laml.html#laml-style"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-style</span> <a class="applied-name" href="laml-1.html#style" title="laml">style</a>)

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br />
<div class="schemedoc-section-comment">;;; LAML contextual information.
;;; The functions in this section deal with the necessary context information,
;;; which must be passed to Scheme when we use LAML.
;;; .section-id context-section</div>
<a name="source-filename-without-extension"></a><a name="source-filename-without-extension"></a><span><a href="../laml.html#source-filename-without-extension"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(source-filename-without-extension . unused-parameter)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">cmd-line</span> (<a class="applied-name" href="laml-1.html#laml-canonical-command-line" title="laml">laml-canonical-command-line</a>)))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> cmd-line (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX325" title="R5RS Scheme form">cadr</a> cmd-line) #f)))

<a name="startup-directory"></a><a name="startup-directory"></a><span><a href="../laml.html#startup-directory"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(startup-directory . unused-parameter)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">cmd-line</span> (<a class="applied-name" href="laml-1.html#laml-canonical-command-line" title="laml">laml-canonical-command-line</a>)))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> cmd-line (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX325" title="R5RS Scheme form">caddr</a> cmd-line) #f)))

<a name="laml-program-parameters"></a><a name="laml-program-parameters"></a><span><a href="../laml.html#laml-program-parameters"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-program-parameters)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">cmd-line</span> (<a class="applied-name" href="laml-1.html#laml-canonical-command-line" title="laml">laml-canonical-command-line</a>)))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> cmd-line (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX239" title="R5RS Scheme form">&gt;=</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX333" title="R5RS Scheme form">length</a> cmd-line) 3))
        (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX325" title="R5RS Scheme form">cadddr</a> cmd-line)
        '())))
  

<a name="laml-canonical-command-line"></a><a name="laml-canonical-command-line"></a><span><a href="../laml.html#laml-canonical-command-line"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-canonical-command-line)</span>
  (error "laml-canonical-command-line is not defined in scheme-system dependent compatibility file"))

<a name="fake-startup-parameters"></a><a name="fake-startup-parameters"></a><span><a href="../laml.html#fake-startup-parameters"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(fake-startup-parameters source-file startup-dir . program-parameters)</span>
  (error "fake-startup-parameters is not defined in scheme-system dependent compatibility file"))

<a name="fake-startup-parameters-prog-par-list"></a><a name="fake-startup-parameters-prog-par-list"></a><span><a href="../laml.html#fake-startup-parameters-prog-par-list"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(fake-startup-parameters-prog-par-list source-file startup-dir program-parameter-list)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX411" title="R5RS Scheme form">apply</a> <a class="applied-name" href="laml-1.html#fake-startup-parameters" title="laml">fake-startup-parameters</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX334" title="R5RS Scheme form">append</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> source-file startup-dir) program-parameter-list)))


<a name="set-laml-startup-directory"></a><a name="set-laml-startup-directory"></a><span><a href="../laml.html#set-laml-startup-directory"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(set-laml-startup-directory dir)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">start-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>)))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">abs-dir</span>
          (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX200" title="R5RS Scheme form">equal?</a> ".." dir) start-dir (<a class="schemedoc-name" href="../../lib/man/general.html#parent-directory" title="Manual: general">parent-directory</a> start-dir)) (<a class="schemedoc-name" href="../../lib/man/general.html#parent-directory" title="Manual: general">parent-directory</a> start-dir))
                ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="schemedoc-name" href="../../lib/man/general.html#absolute-file-path?" title="Manual: general">absolute-file-path?</a> dir)) start-dir) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> start-dir (<a class="schemedoc-name" href="../../lib/man/general.html#ensure-final-character" title="Manual: general">ensure-final-character</a> dir #\/)))
                ((<a class="schemedoc-name" href="../../lib/man/general.html#absolute-file-path?" title="Manual: general">absolute-file-path?</a> dir) (<a class="schemedoc-name" href="../../lib/man/general.html#ensure-final-character" title="Manual: general">ensure-final-character</a> dir #\/))
                (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#display-error" title="Manual: general">display-error</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "Use an absolute file path!!!"))))))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (directory-exists? abs-dir)
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX125" title="R5RS Scheme form">begin</a> 
          (<a class="applied-name" href="laml-1.html#fake-startup-parameters-prog-par-list" title="laml">fake-startup-parameters-prog-par-list</a>
             (<a class="applied-name" href="laml-1.html#source-filename-without-extension" title="laml">source-filename-without-extension</a>) abs-dir (<a class="applied-name" href="laml-1.html#laml-program-parameters" title="laml">laml-program-parameters</a>))
          (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "Using LAML in directory: " abs-dir)))
        (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "Non-existing directory: " abs-dir)))))

<a name="in-startup-directory"></a><a name="in-startup-directory"></a><span><a href="../laml.html#in-startup-directory"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(in-startup-directory . suffixes)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">suffix</span> (<a class="schemedoc-name" href="../../lib/man/general.html#accumulate-right" title="Manual: general">accumulate-right</a> <a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "" suffixes)))
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>) suffix)))

<a name="laml-source-file-path"></a><a name="laml-source-file-path"></a><span><a href="../laml.html#laml-source-file-path"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-source-file-path . optional-parameter-list)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f)))
    (<a class="applied-name" href="laml-1.html#in-startup-directory" title="laml">in-startup-directory</a> 
      (<a class="applied-name" href="laml-1.html#source-filename-without-extension" title="laml">source-filename-without-extension</a>) 
      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> ext (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "." ext) ""))))
  

<a name="laml-cd"></a><a name="laml-cd"></a><span><a href="../laml.html#laml-cd"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-cd dir)</span>
  (<a class="applied-name" href="laml-1.html#set-laml-startup-directory" title="laml">set-laml-startup-directory</a> dir))

<a name="laml-pwd"></a><a name="laml-pwd"></a><span><a href="../laml.html#laml-pwd"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-pwd)</span>
  (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))

<a name="laml-ls"></a><a name="laml-ls"></a><span><a href="../laml.html#laml-ls"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-ls)</span>
  (directory-list (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>)))
  

<a name="set-laml-source-file"></a><a name="set-laml-source-file"></a><span><a href="../laml.html#set-laml-source-file"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(set-laml-source-file file)</span>
  (<a class="applied-name" href="laml-1.html#fake-startup-parameters-prog-par-list" title="laml">fake-startup-parameters-prog-par-list</a>
    file (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>) (<a class="applied-name" href="laml-1.html#laml-program-parameters" title="laml">laml-program-parameters</a>)))

<a name="set-laml-program-parameters"></a><a name="set-laml-program-parameters"></a><span><a href="../laml.html#set-laml-program-parameters"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(set-laml-program-parameters program-parameters)</span>
  (<a class="applied-name" href="laml-1.html#fake-startup-parameters-prog-par-list" title="laml">fake-startup-parameters-prog-par-list</a>
    (<a class="applied-name" href="laml-1.html#source-filename-without-extension" title="laml">source-filename-without-extension</a>) (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>) program-parameters))

<a name="full-source-path-with-extension"></a><a name="full-source-path-with-extension"></a><span><a href="../laml.html#full-source-path-with-extension"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(full-source-path-with-extension ext)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> 
    (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>)
    (<a class="applied-name" href="laml-1.html#source-filename-without-extension" title="laml">source-filename-without-extension</a>)
    "." ext))

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br />
<div class="schemedoc-section-comment">;;; Programmatic loading of laml files. 
;;; Loading a LAML file invovles the setting of two pieces of context: The name of
;;; of the source file and the startup directory. The function laml-load sets these
;;; information and loads a file.
;;; .section-id prog-loading-section</div>
<a name="laml"></a><a name="laml"></a><span><a href="../laml.html#laml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml file-name . program-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">init-path</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-initial-path" title="Manual: general">file-name-initial-path</a> file-name))
        (<span class="local-name-binding">extension</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> file-name))
        (<span class="local-name-binding">proper-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> file-name))
        (<span class="local-name-binding">init-path-1</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/man/general.html#empty-string?" title="Manual: general">empty-string?</a> init-path) (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>) init-path))
        (<span class="local-name-binding">extension-1</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/man/general.html#empty-string?" title="Manual: general">empty-string?</a> extension) "laml" extension))
        (<span class="local-name-binding">proper-name-1</span> proper-name))
 
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/man/general.html#empty-string?" title="Manual: general">empty-string?</a> init-path) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>)))
       (error "Please use full file path or set the laml startup directory via set-laml-startup-directory"))

   (<a class="applied-name" href="laml-1.html#laml-load" title="laml">laml-load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> init-path-1 proper-name-1 "." extension-1) program-parameters)))

<a name="laml-load"></a><a name="laml-load"></a><span><a href="../laml.html#laml-load"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-load full-file-path . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">original-filename-without-extension</span> (<a class="applied-name" href="laml-1.html#source-filename-without-extension" title="laml">source-filename-without-extension</a>))
       (<span class="local-name-binding">original-startup-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
       (<span class="local-name-binding">original-program-parameters</span> (<a class="applied-name" href="laml-1.html#laml-program-parameters" title="laml">laml-program-parameters</a>))
      )
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">filename-without-extension</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> full-file-path))
        (<span class="local-name-binding">startup-dir</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-initial-path" title="Manual: general">file-name-initial-path</a> full-file-path))
        (<span class="local-name-binding">program-parameter-list</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list '()))
       )
    (<a class="applied-name" href="laml-1.html#fake-startup-parameters-prog-par-list" title="laml">fake-startup-parameters-prog-par-list</a>  filename-without-extension startup-dir program-parameter-list)
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> full-file-path)
    <span class="comment">; restore originals</span><br />    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> original-filename-without-extension original-startup-dir)
        (<a class="applied-name" href="laml-1.html#fake-startup-parameters-prog-par-list" title="laml">fake-startup-parameters-prog-par-list</a> original-filename-without-extension original-startup-dir original-program-parameters)))))



<span class="comment">; ---------------------------------------------------------------------------------------------------
; It turns out that the loading stuff in the next section relies on case sensitive reading.
; Therefore the compatibility loading is placed here.</span><br />
<span class="comment">; Loads the scheme-system specific compatibility file and the LAML general library.
; Try most specifics first: 
;     scheme-system  and  platform  and  operating-system
;     scheme-system  and  platform  and  *
;     scheme-system  and  *         and  *</span><br />

(<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">laml-lib-comp-file</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">nm</span>) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "lib/compatibility/" nm)))
      (<span class="local-name-binding">comp-file</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">nm</span>) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "compatibility/" nm)))
      (<span class="local-name-binding">schemesys-platform-os</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (symbol->string <a class="applied-name" href="laml-1.html#laml-platform" title="laml">laml-platform</a>) "_" (symbol->string <a class="applied-name" href="laml-1.html#operating-system" title="laml">operating-system</a>) "_" (symbol->string <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a>) ".scm"))
      (<span class="local-name-binding">schemesys-platform-star</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (symbol->string <a class="applied-name" href="laml-1.html#laml-platform" title="laml">laml-platform</a>) "_" "star" "_" (symbol->string <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a>) ".scm"))
      (<span class="local-name-binding">schemesys-star-star</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "star" "_" "star" "_" (symbol->string <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a>) ".scm"))
     )
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((file-exists? (laml-lib-comp-file schemesys-platform-os))
             (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> (comp-file schemesys-platform-os)))
        ((file-exists? (laml-lib-comp-file schemesys-platform-star))
             (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> (comp-file schemesys-platform-star)))
        ((file-exists? (laml-lib-comp-file schemesys-star-star))
             (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> (comp-file schemesys-star-star)))
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (error (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "Compatibility loading: Cannot find compatibility file in lib/compatibility.")))))
        

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br />

<div class="schemedoc-section-comment">;;; Interactive tool activation.
;;; The procedures in this section activate LAML tools. 
;;; It is recommended that you activate the commands from an interactive LAML (Scheme) prompt.
;;; From Emacs carry out the editor command &lt;kbd&gt; run-laml-interactively &lt;/kbd&gt;.&lt;p&gt;
;;; All the commands below work relative to the LAML working directory, which is changed by the procedure
;;; &lt;kbd&gt; laml-cd &lt;/kbd&gt;. Use the command &lt;kbd&gt; laml-pwd &lt;/kbd&gt; to find out about the LAML working directory.
;;; .section-id interactive-tool-section</div>
<span class="comment">; Make documentation from a scheme source file.
; This procedure is meant to be called from a Scheme interpreter, in which LAML is loaded and available.
; The procedure utilizes the attributes, which are extracted from the introductory comment (the abstract comment) of the Scheme source file. 
; .form (schemedoc scheme-source-file [commenting-style])
; .parameter scheme-input-file The file name of the Scheme source file, including file extension.\
;    It can be an absolute file path.\
;    It can also be a simple file name (or relative file path) which is assumed to be relative to the so-called startup-directory of LAML.
; .parameter commenting-style   One of the symbols multi-semicolon or documentation-mark. The default value is multi-semicolon.
; .reference "Further info" "LAML Tutorial section" "../tutorial/schemedoc/schemedoc.html"
; (define (schemedoc scheme-input-file . optional-parameter-list)
;  (let* ((scheme-source-file (file-name-proper-and-extension scheme-input-file))
;         (commenting-style (as-symbol (optional-parameter 1 optional-parameter-list "multi-semicolon")))
;         (this-dir (if (absolute-file-path? scheme-input-file) (file-name-initial-path scheme-input-file) (startup-directory)))
;       )
;   (display-message "The LAML Schemedoc tool...")
;   (load (string-append software-directory "tools/schemedoc-extractor/schemedoc-extractor.scm"))
;   (set! scheme-documentation-commenting-style commenting-style)
;
;   (let* (
;          (doc-list (reverse (extract-documentation-from-scheme-file (string-append this-dir scheme-source-file))))
;          (destination-dir (string-append this-dir extracted-source-destination-delta))
;          (manual-title extracted-manual-title)
;          (manual-author-info (list extracted-manual-author extracted-manual-affiliation ))
;          (manual-abstract (if (empty-string? extracted-manual-abstract) "-" extracted-manual-abstract))
;          (manual-name-from-file (file-name-proper scheme-source-file))
;          (extracted-laml-resource-info extracted-laml-resource)
;          (extracted-css-prestylesheet-info extracted-css-prestylesheet)
;          (extracted-css-stylesheet-info extracted-css-stylesheet)
;          (extracted-css-stylesheet-copying-info extracted-css-stylesheet-copying)
;          (extracted-source-linking-info extracted-scheme-source-linking)
;         )
;
;     (laml-style "xml-in-laml/schemedoc-2/schemedoc" (string-append laml-dir "styles/") 'conservative-xhtml-loading)
;
;     (set! laml-manual-stuff (as-boolean extracted-laml-resource-info))
;     (set! the-manual-prestylesheet extracted-css-prestylesheet-info)
;     (set! the-manual-stylesheet extracted-css-stylesheet-info)
;     (set! copy-css-stylesheet? (as-boolean extracted-css-stylesheet-copying-info))
;
;     (set! css-stylesheet-schema 'local)
;     (set! the-manual-title manual-title) 
;     (set! the-manual-author manual-author-info)
;     (set! the-manual-abstract (if (not (empty-string? manual-abstract)) manual-abstract extracted-manual-abstract))
;     (set! manual-name manual-name-from-file)
; ;    (set! manual-index-width-list  (list 180 320 350))
;     (set! link-to-ep-source-program? (as-boolean extracted-source-linking-info))
;
;     (set! end-remark "This documentation has been extracted automatically from the Scheme source file.")
;
;     (make-manual doc-list 'manual-from-scheme-file destination-dir (string-append this-dir scheme-source-file))
;
;     (display-message 
;       (string-append "DONE. The manual of " scheme-source-file " is located in "
;                      destination-dir manual-name ".html. "))
; ;    (display-message (string-append "The file "  manual-name ".manlsp" " contains a useful internal format."))
;
;     )))</span><br />
<a name="schemedoc"></a><a name="schemedoc"></a><span><a href="../laml.html#schemedoc"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(schemedoc scheme-input-file . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">scheme-source-file</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> scheme-input-file))
        (<span class="local-name-binding">scheme-source-file-plus</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper-and-extension" title="Manual: general">file-name-proper-and-extension</a> scheme-input-file))
        (<span class="local-name-binding">commenting-style</span> (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list "multi-semicolon")))
        (<span class="local-name-binding">this-dir</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/man/general.html#absolute-file-path?" title="Manual: general">absolute-file-path?</a> scheme-input-file) (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-initial-path" title="Manual: general">file-name-initial-path</a> scheme-input-file) (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>)))
        (<span class="local-name-binding">temp-script-source-name</span> "temp-script.sdoc")
        (<span class="local-name-binding">loading-prefix</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "(load (string-append laml-dir \"laml.scm\")) (laml-style \"xml-in-laml/schemedoc-2/schemedoc\")"))
      )
  (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> "The LAML Schemedoc tool...")

  <span class="comment">; Load SchemeDoc</span><br />  (<a class="applied-name" href="laml-1.html#laml-style" title="laml">laml-style</a> "xml-in-laml/schemedoc-2/schemedoc" (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "styles/") 'conservative-xhtml-loading)

  <span class="comment">; Generate SchemeDoc LAML script</span><br />  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">manual-ast</span> 
          (manual 'internal:run-action-procedure "false"
	   (manual-front-matters
	    'documentation-commenting-style commenting-style
	    'manual-destination-name scheme-source-file
	    )

	   (manual-from-scheme-file 'src scheme-input-file)
	   )))
    (<a class="schemedoc-name" href="../../lib/man/file-read.html#write-text-file" title="Manual: file-read">write-text-file</a>
      (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> loading-prefix (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#xml-render-as-laml" title="Manual: xml-in-laml">xml-render-as-laml</a> manual-ast))
      (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir temp-script-source-name)))

  <span class="comment">; Execute SchemeDoc LAML script</span><br />  (<a class="applied-name" href="laml-1.html#laml" title="laml">laml</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir temp-script-source-name))

  <span class="comment">; Delete SchemeDoc LAML script</span><br />  (delete-file (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir temp-script-source-name))

  (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> 
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "DONE. The SchemeDoc manual of " scheme-source-file-plus " has been generated."))

))

<a name="xml-dtd-manual"></a><a name="xml-dtd-manual"></a><span><a href="../laml.html#xml-dtd-manual"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(xml-dtd-manual dtd-path . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">target-path</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>)))
       (<span class="local-name-binding">mirror-name-prefix</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameter-list ""))
      )
  (<a class="applied-name" href="laml-1.html#laml-style" title="laml">laml-style</a> "manual/manual" (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "styles/") 'conservative-xhtml-loading)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">language-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> dtd-path))
         (<span class="local-name-binding">doc-list</span> 
           (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX412" title="R5RS Scheme form">map</a> (manual-extend 'description (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "An XML element as defined in the " language-name " XML DTD."))
              (manual-from-parsed-dtd (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> dtd-path "." "lsp")) mirror-name-prefix)))
       )
    (set-manual-abstract (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "An automatically generated LAML manual of the " language-name " XML DTD."))
    (set-manual-name language-name)
    (set-manual-title (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "The " language-name " XML DTD"))
    (make-manual (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX335" title="R5RS Scheme form">reverse</a> doc-list) 'manual-from-xml-dtd target-path))))

<a name="xml-dtd-parse"></a><a name="xml-dtd-parse"></a><span><a href="../laml.html#xml-dtd-parse"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(xml-dtd-parse dtd-file-name)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/dtd-parser/dtd-parser-4.scm"))
  (parse-dtd dtd-file-name)
)

<a name="generate-xml-mirror"></a><a name="generate-xml-mirror"></a><span><a href="../laml.html#generate-xml-mirror"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(generate-xml-mirror parsed-dtd-file-name language-name . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">action-element-list</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list '())))
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-in-laml/xml-in-laml.scm"))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> mirror-name (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> language-name))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> action-elements action-element-list)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">dtd-file</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> parsed-dtd-file-name)))
    (generate-mirror (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> parsed-dtd-file-name ".lsp") (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>) dtd-file "." "scm") language-name)
  ))) 


<a name="xml-parse-file"></a><a name="xml-parse-file"></a><span><a href="../laml.html#xml-parse-file"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(xml-parse-file in-file-name xml-language . optional-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
        (<span class="local-name-binding">proper-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> in-file-name))
        (<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> in-file-name))
        (<span class="local-name-binding">out-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameters #f))
        (<span class="local-name-binding">in-path</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/man/general.html#absolute-file-path?" title="Manual: general">absolute-file-path?</a> in-file-name) 
                     in-file-name
                     (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir proper-file-name (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/man/general.html#empty-string?" title="Manual: general">empty-string?</a> ext) "" (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "." ext)))))
        (<span class="local-name-binding">out-path</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> out-file-name (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir out-file-name) #f))
      )

  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/xml-support.scm"))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> white-space-preserving-tags 
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language) (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#languages-in-use" title="Manual: xml-in-laml">languages-in-use</a>))
            (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#xml-preformatted-text-elements-in" title="Manual: xml-in-laml">xml-preformatted-text-elements-in</a> (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language))
            '()))

  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">ast</span> (parse-xml-to-ast in-path xml-language)))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#language-in-use?" title="Manual: xml-in-laml">language-in-use?</a> (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language))
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX125" title="R5RS Scheme form">begin</a>
           (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> "Validating AST")
           (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#validate-ast!" title="Manual: xml-in-laml">validate-ast!</a> ast (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language)))
        (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> "Validation not posssible. (Mirror of" xml-language "is not loaded)."))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> out-path
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX125" title="R5RS Scheme form">begin</a>
          (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (file-exists? out-path) (delete-file out-path))
          (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">op</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX445" title="R5RS Scheme form">open-output-file</a> out-path)))
	    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX459" title="R5RS Scheme form">write</a> ast op)
	    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX447" title="R5RS Scheme form">close-output-port</a> op)
	    (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> "AST written to" out-path)))
        ast))))
      

<a name="xml-parse-string"></a><a name="xml-parse-string"></a><span><a href="../laml.html#xml-parse-string"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(xml-parse-string xml-string xml-language)</span>

  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/xml-support.scm"))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> white-space-preserving-tags (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#xml-preformatted-text-elements-in" title="Manual: xml-in-laml">xml-preformatted-text-elements-in</a> (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language)))

  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">res</span> (parse-xml-string-to-ast xml-string (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language))))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#language-in-use?" title="Manual: xml-in-laml">language-in-use?</a> (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language))
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX125" title="R5RS Scheme form">begin</a>
          (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> "Validating AST")
          (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#validate-ast!" title="Manual: xml-in-laml">validate-ast!</a> res (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> xml-language))
        )
        (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> "Validation not possible (mirror of" xml-language "is not loaded)"))
    res))

<a name="html-parse"></a><a name="html-parse"></a><span><a href="../laml.html#html-parse"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(html-parse in-file-name . optional-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
        (<span class="local-name-binding">proper-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> in-file-name))
        (<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> in-file-name)) 
        (<span class="local-name-binding">out-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameters (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> proper-file-name "." "lsp"))) 
        (<span class="local-name-binding">in-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir proper-file-name (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../lib/man/general.html#empty-string?" title="Manual: general">empty-string?</a> ext) "" (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "." ext))))
        (<span class="local-name-binding">out-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir out-file-name))    
      )
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/html-support.scm"))
  (parse-html-file in-path out-path)))

<a name="xml-pp"></a><a name="xml-pp"></a><span><a href="../laml.html#xml-pp"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(xml-pp in-file-name . optional-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">out-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameters in-file-name))
        (<span class="local-name-binding">single-lining</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameters #t))
        (<span class="local-name-binding">indentation</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 3 optional-parameters 3))
        (<span class="local-name-binding">max-width</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 4 optional-parameters 80))
        (<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
        (<span class="local-name-binding">proper-in-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> in-file-name))
        (<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> in-file-name))
        (<span class="local-name-binding">in-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir in-file-name))
        (<span class="local-name-binding">out-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir out-file-name))
       )
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/xml-support.scm"))

  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> use-single-lining single-lining)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#indentation-delta" title="Manual: xml-in-laml">indentation-delta</a> indentation)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> prefered-maximum-width max-width)

  (<a class="schemedoc-name" href="../../lib/man/file-read.html#write-text-file" title="Manual: file-read">write-text-file</a>
    (pretty-print-xml-parse-tree 
      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX200" title="R5RS Scheme form">equal?</a> ext "lsp") (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> in-file-path) (parse-xml in-file-path)))
    out-file-path)))

<a name="html-pp"></a><a name="html-pp"></a><span><a href="../laml.html#html-pp"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(html-pp in-file-name . optional-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">out-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameters in-file-name))
        (<span class="local-name-binding">single-lining</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameters #t))
        (<span class="local-name-binding">indentation</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 3 optional-parameters 3))
        (<span class="local-name-binding">max-width</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 4 optional-parameters 80))
        (<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
        (<span class="local-name-binding">proper-in-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> in-file-name))
        (<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> in-file-name))
        (<span class="local-name-binding">in-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir in-file-name))
        (<span class="local-name-binding">out-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir out-file-name))
       )
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/html-support.scm"))

  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> use-single-lining single-lining)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#indentation-delta" title="Manual: xml-in-laml">indentation-delta</a> indentation)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> prefered-maximum-width max-width)

  (<a class="schemedoc-name" href="../../lib/man/file-read.html#write-text-file" title="Manual: file-read">write-text-file</a>
    (pretty-print-html-parse-tree 
      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX200" title="R5RS Scheme form">equal?</a> ext "lsp") (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> in-file-path) (parse-html in-file-path)))
    out-file-path)))



<a name="bibtex"></a><a name="bibtex"></a><span><a href="../laml.html#bibtex"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(bibtex file-name)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
       (<span class="local-name-binding">proper-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> file-name))
       (<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> file-name))       
      )
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "collect-skip.scm")
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "file-read.scm")
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/bibtex/bibtex.scm"))
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "time.scm")
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "color.scm")
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "html4.0-loose/basis.scm")
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "html4.0-loose/surface.scm")
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "html4.0-loose/convenience.scm")

  (parse-bibtex-file (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir proper-file-name))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> parse-result (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX335" title="R5RS Scheme form">reverse</a> parse-result))

  (<a class="schemedoc-name" href="../../lib/man/file-read.html#write-text-file" title="Manual: file-read">write-text-file</a>
    (page 
      "Bibtex"
      (present-bibtex-entries parse-result (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#p" title="Manual: xhtml10-transitional-mirror">p</a>)))
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir proper-file-name ".html"))

  (<a class="schemedoc-name" href="../../lib/man/general.html#display-message" title="Manual: general">display-message</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "The HTML output is in the file " (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir proper-file-name ".html")))))

<a name="scheme-pp"></a><a name="scheme-pp"></a><span><a href="../laml.html#scheme-pp"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(scheme-pp in-file-name . optional-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">out-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameters in-file-name))
        (<span class="local-name-binding">single-lining</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameters #t))
        (<span class="local-name-binding">indentation</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 3 optional-parameters 3))
        (<span class="local-name-binding">max-width</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 4 optional-parameters 80))
        (<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
        (<span class="local-name-binding">proper-in-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> in-file-name))
        (<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> in-file-name))
        (<span class="local-name-binding">in-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir in-file-name))
        (<span class="local-name-binding">out-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir out-file-name))
        (<span class="local-name-binding">in-file-path-temp</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#laml-temp-file-path" title="laml">laml-temp-file-path</a>) proper-in-file-name "-" "temp!!!" "." ext))
       )
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "file-read.scm")
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/schemedoc-extractor/schemedoc-extractor.scm"))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> COMMENT-FORM-START (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "(comment!!! "))
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "scheme-pretty-printing.scm") 
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> use-single-lining single-lining)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#indentation-delta" title="Manual: xml-in-laml">indentation-delta</a> indentation)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> prefered-maximum-width max-width)
  (lexical-to-syntactical-comments! in-file-path in-file-path-temp) 
  (pretty-print-lisp-file in-file-path-temp out-file-path)
  (delete-file in-file-path-temp)
 )
)

<a name="scheme-pp-simple"></a><a name="scheme-pp-simple"></a><span><a href="../laml.html#scheme-pp-simple"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(scheme-pp-simple in-file-name . optional-parameters)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">out-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameters in-file-name))
        (<span class="local-name-binding">single-lining</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameters #t))
        (<span class="local-name-binding">indentation</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 3 optional-parameters 3))
        (<span class="local-name-binding">max-width</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 4 optional-parameters 80))
        (<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
        (<span class="local-name-binding">proper-in-file-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> in-file-name))
        (<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> in-file-name))
        (<span class="local-name-binding">in-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir in-file-name))
        (<span class="local-name-binding">out-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir out-file-name))
       )
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "file-read.scm")
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "scheme-pretty-printing.scm") 
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> use-single-lining single-lining)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#indentation-delta" title="Manual: xml-in-laml">indentation-delta</a> indentation)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX106" title="R5RS Scheme form">set!</a> prefered-maximum-width max-width)
  (pretty-print-lisp-file in-file-path out-file-path)
 )
)

<a name="html-to-laml"></a><a name="html-to-laml"></a><span><a href="../laml.html#html-to-laml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(html-to-laml in-file-name out-file-name)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">this-dir</span> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))
        (<span class="local-name-binding">in-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir in-file-name))
        (<span class="local-name-binding">out-file-path</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> this-dir out-file-name))
       )
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/html-support.scm"))
  (<a class="applied-name" href="laml-1.html#lib-load" title="laml">lib-load</a> "scheme-pretty-printing.scm") 
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">html-parse-tree</span> (parse-html in-file-path)))
    (parse-tree-to-laml html-parse-tree out-file-path)
    (pretty-print-lisp-file out-file-path))))


<a name="leno-xml"></a><a name="leno-xml"></a><span><a href="../laml.html#leno-xml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(leno-xml leno-xml-file)</span>
  (<a class="applied-name" href="laml-1.html#set-laml-source-file" title="laml">set-laml-source-file</a> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> leno-xml-file)) 
  (<a class="applied-name" href="laml-1.html#laml-tool-load" title="laml">laml-tool-load</a> "xml-html-support/xml-support.scm")
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX461" title="R5RS Scheme form">display</a> "Parsing XML file") (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX463" title="R5RS Scheme form">newline</a>)
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">parse-tr</span> (parse-xml (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>) leno-xml-file)))
         (<span class="local-name-binding">element-str</span> (parse-tree-to-element-structure parse-tr)))
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX461" title="R5RS Scheme form">display</a> "Parsing OK.  LENO Processing starts.") (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX463" title="R5RS Scheme form">newline</a>)
    (<a class="applied-name" href="laml-1.html#laml-style" title="laml">laml-style</a> "lecture-notes/leno")  
    (leno-xml-process element-str)))



<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br /><div class="schemedoc-section-comment">;;; Language settings.
;;; .section-id language-section</div>
<a name="language-preference"></a><a name="language-preference"></a><span><a href="../laml.html#language-preference"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">language-preference</span> 'english) 

<a name="text-choice"></a><a name="text-choice"></a><span><a href="../laml.html#text-choice"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(text-choice danish english)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX200" title="R5RS Scheme form">equal?</a> <a class="applied-name" href="laml-1.html#language-preference" title="laml">language-preference</a> 'english) english)
        ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX200" title="R5RS Scheme form">equal?</a> <a class="applied-name" href="laml-1.html#language-preference" title="laml">language-preference</a> 'danish) danish)
        (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (error "Text: Problems in chosing language. Only &#39;english and &#39;danish are supported"))))

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br /><div class="schemedoc-section-comment">;;; LAML home URL and directories.
;;; The home directory of LAML is always the value of the variable laml-dir, which is defined a LAML installation time.
;;; In this directories there are useful URL and directory functions related to the LAML home directory.
;;; .section-id home-url-section</div>

<a name="laml-absolute-url-prefix"></a><a name="laml-absolute-url-prefix"></a><span><a href="../laml.html#laml-absolute-url-prefix"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">laml-absolute-url-prefix</span> "http://www.cs.aau.dk/~normark/scheme/distribution/laml/")


<a name="laml-home-url-prefix"></a><a name="laml-home-url-prefix"></a><span><a href="../laml.html#laml-home-url-prefix"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-home-url-prefix . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">extra-level</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list 0))
       (<span class="local-name-binding">start-dir</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameter-list (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX305" title="R5RS Scheme form">boolean?</a> extra-level) <a class="applied-name" href="laml-1.html#laml-absolute-url-prefix" title="laml">laml-absolute-url-prefix</a>)
	((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX374" title="R5RS Scheme form">string?</a> extra-level) extra-level)
	((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX224" title="R5RS Scheme form">number?</a> extra-level) 
	   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> start-dir
	       (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">dir-diff</span> (<a class="schemedoc-name" href="../../lib/man/general.html#directory-level-difference" title="Manual: general">directory-level-difference</a> start-dir laml-dir)))
		 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> dir-diff (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX224" title="R5RS Scheme form">number?</a> dir-diff) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX239" title="R5RS Scheme form">&gt;=</a> dir-diff 0)) 
			(<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="schemedoc-name" href="../../lib/man/general.html#repeat-string" title="Manual: general">repeat-string</a> "../" (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX249" title="R5RS Scheme form">+</a> dir-diff extra-level))))
		       (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> <a class="applied-name" href="laml-1.html#laml-absolute-url-prefix" title="laml">laml-absolute-url-prefix</a>)))
	       <a class="applied-name" href="laml-1.html#laml-absolute-url-prefix" title="laml">laml-absolute-url-prefix</a>))
	(<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "laml-home-url: Problems with the type of extra-level parameter" extra-level)))))


<a name="laml-dir-prefix"></a><a name="laml-dir-prefix"></a><span><a href="../laml.html#laml-dir-prefix"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-dir-prefix . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">dir</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">normalized-dir</span> (<a class="schemedoc-name" href="../../lib/man/general.html#normalize-file-path" title="Manual: general">normalize-file-path</a> dir))
         (<span class="local-name-binding">diff</span> (<a class="schemedoc-name" href="../../lib/man/general.html#directory-level-difference" title="Manual: general">directory-level-difference</a> normalized-dir laml-dir))
        )
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> diff 
        (<a class="schemedoc-name" href="../../lib/man/general.html#repeat-string" title="Manual: general">repeat-string</a> "../" diff)
        laml-dir))))

<a name="laml-local-url-prefix"></a><a name="laml-local-url-prefix"></a><span><a href="../laml.html#laml-local-url-prefix"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-local-url-prefix . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">dir</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list (<a class="applied-name" href="laml-1.html#startup-directory" title="laml">startup-directory</a>))))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">normalized-dir</span> (<a class="schemedoc-name" href="../../lib/man/general.html#normalize-file-path" title="Manual: general">normalize-file-path</a> dir))
         (<span class="local-name-binding">diff</span> (<a class="schemedoc-name" href="../../lib/man/general.html#directory-level-difference" title="Manual: general">directory-level-difference</a> normalized-dir laml-dir))
        )
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> diff 
        (<a class="schemedoc-name" href="../../lib/man/general.html#repeat-string" title="Manual: general">repeat-string</a> "../" diff)
        (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "file://" laml-dir)))))


<a name="is-a-laml-directory?"></a><a name="is-a-laml-directory?"></a><span><a href="../laml.html#is-a-laml-directory?"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(is-a-laml-directory? dir)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">dir-diff</span> (<a class="schemedoc-name" href="../../lib/man/general.html#directory-level-difference" title="Manual: general">directory-level-difference</a> dir laml-dir)))
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX305" title="R5RS Scheme form">boolean?</a> dir-diff) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> dir-diff)) #f)
          ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX224" title="R5RS Scheme form">number?</a> dir-diff) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX236" title="R5RS Scheme form">&lt;</a> dir-diff 0)) #f)
          ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX224" title="R5RS Scheme form">number?</a> dir-diff) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX239" title="R5RS Scheme form">&gt;=</a> dir-diff 0)) #t)
          (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "is-a-laml-directory?: Should not happen:" dir-diff)))))

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br /><div class="schemedoc-section-comment">;;; Document prolog and epilog functions.
;;; This section contains definitions of document prolog and epilog functions.
;;; In addition, there are a number of more basic functions which return information about 
;;; the document. Several of these return empty strings, and they intended to be redefined in other contexts.
;;; .section-id prolog-epilog-section</div>
<a name="standard-prolog"></a><a name="standard-prolog"></a><span><a href="../laml.html#standard-prolog"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(standard-prolog . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">language</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f)))
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a>
   (<a class="applied-name" href="laml-1.html#document-type-declaration" title="laml">document-type-declaration</a>)
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="schemedoc-name" href="../../lib/man/general.html#empty-string?" title="Manual: general">empty-string?</a> (<a class="applied-name" href="laml-1.html#document-type-declaration" title="laml">document-type-declaration</a>))) (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> #\newline) "")
   (<a class="applied-name" href="laml-1.html#copyright-clause" title="laml">copyright-clause</a>)
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="schemedoc-name" href="../../lib/man/general.html#empty-string?" title="Manual: general">empty-string?</a> (<a class="applied-name" href="laml-1.html#copyright-clause" title="laml">copyright-clause</a>))) (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> #\newline) ""))))

<a name="standard-epilog"></a><a name="standard-epilog"></a><span><a href="../laml.html#standard-epilog"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(standard-epilog . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">language</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f)))
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> 
    (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> #\newline)
    (<a class="applied-name" href="laml-1.html#laml-standard-comment" title="laml">laml-standard-comment</a>) (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> #\newline)
    (<a class="applied-name" href="laml-1.html#tracing-comment" title="laml">tracing-comment</a>)))) 


<a name="document-type-declaration"></a><a name="document-type-declaration"></a><span><a href="../laml.html#document-type-declaration"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(document-type-declaration . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">language</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f)))
   ""))


<a name="copyright-clause"></a><a name="copyright-clause"></a><span><a href="../laml.html#copyright-clause"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(copyright-clause)</span>
  "")

<a name="laml-standard-comment"></a><a name="laml-standard-comment"></a><span><a href="../laml.html#laml-standard-comment"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a>  <span class="signature">(laml-standard-comment)</span>
  (<a class="applied-name" href="laml-1.html#html-comment" title="laml">html-comment</a> 
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> 
      "Generated from a LAML source file. " 
      <a class="applied-name" href="laml-1.html#laml-version" title="laml">laml-version</a> ". "
      "LAML is designed and implemented by Kurt N&#248;rmark, normark@cs.aau.dk. "
    )))

<a name="html-comment"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(html-comment comment)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "&lt;!-- " comment "--&gt;"))

<a name="tracing-comment"></a><a name="tracing-comment"></a><span><a href="../laml.html#tracing-comment"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(tracing-comment)</span> "")

    

<span class="comment">; ---------------------------------------------------------------------------------------------------</span><br /><div class="schemedoc-section-comment">;;; Cosmetic welcome, ending and copyright functions. 
;;; .section-id welcome-section</div>

<a name="laml-welcome"></a><a name="laml-welcome"></a><span><a href="../laml.html#laml-welcome"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-welcome)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">vers</span> (<a class="schemedoc-name" href="../../lib/man/file-read.html#read-text-file" title="Manual: file-read">read-text-file</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "distribution-version"))))
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX461" title="R5RS Scheme form">display</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "Welcome to LAML " vers ".")) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX463" title="R5RS Scheme form">newline</a>)
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX461" title="R5RS Scheme form">display</a> "(C) Kurt Normark, Aalborg University, Denmark.") (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX463" title="R5RS Scheme form">newline</a>) ))

<a name="end-laml"></a><a name="end-laml"></a><span><a href="../laml.html#end-laml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(end-laml)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">time-diff</span> 
          (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX118" title="R5RS Scheme form">or</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a> 'mzscheme) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a> 'mzscheme-200))
                    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX251" title="R5RS Scheme form">-</a> (current-process-milliseconds) <a class="applied-name" href="laml-1.html#start-laml-time" title="laml">start-laml-time</a>))
                ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="applied-name" href="laml-1.html#scheme-system" title="laml">scheme-system</a> 'guile)
                    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX290" title="R5RS Scheme form">inexact-&gt;exact</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX268" title="R5RS Scheme form">round</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX250" title="R5RS Scheme form">*</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX254" title="R5RS Scheme form">/</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX251" title="R5RS Scheme form">-</a> (get-internal-run-time) <a class="applied-name" href="laml-1.html#start-laml-time" title="laml">start-laml-time</a>) internal-time-units-per-second) 1000))))
                (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f))))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> time-diff
      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX125" title="R5RS Scheme form">begin</a>
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX461" title="R5RS Scheme form">display</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "LAML processing time: " (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> time-diff) " milliseconds."))
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX463" title="R5RS Scheme form">newline</a>)))

  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX461" title="R5RS Scheme form">display</a> "End of LAML processing") (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX463" title="R5RS Scheme form">newline</a>)))

<a name="original-end-laml"></a><span class="comment">; The original end-laml function. 
; Used by other parts of LAML to get access to the original end-laml in laml.scm, for instance as part of redefining end-laml.</span><br /><a name="original-end-laml"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">original-end-laml</span> <a class="applied-name" href="laml-1.html#end-laml" title="laml">end-laml</a>)


<a name="credits"></a><a name="credits"></a><span><a href="../laml.html#credits"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(credits system-dk system-eng . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">url</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f))
        (<span class="local-name-binding">anchor-text</span> (<a class="applied-name" href="laml-1.html#text-choice" title="laml">text-choice</a> system-dk system-eng))
        (<span class="local-name-binding">anchor-clause</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> url (<a class="schemedoc-name" href="../../lib/man/xhtml10-convenience.html#a-tag" title="Manual: xhtml10-convenience">a-tag</a> url anchor-text) anchor-text))
       )
   (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> 
     (<a class="applied-name" href="laml-1.html#text-choice" title="laml">text-choice</a> 
         (con anchor-clause " er designet og programmeret af Kurt N&#248;rmark (c), Aalborg Universitet, med brug af "
                       (<a class="schemedoc-name" href="../../lib/man/xhtml10-convenience.html#a-tag" title="Manual: xhtml10-convenience">a-tag</a> "http://www.cs.aau.dk/~normark/laml/" (<a class="schemedoc-name" href="../../lib/man/xhtml10-convenience.html#font-color" title="Manual: xhtml10-convenience">font-color</a> <a class="schemedoc-name" href="../../lib/man/color.html#black" title="Manual: color">black</a> "LAML")) " teknologi.")
         (con anchor-clause " is designed and programmed by Kurt N&#248;rmark (c), Aalborg University, Denmark using " 
                      (<a class="schemedoc-name" href="../../lib/man/xhtml10-convenience.html#a-tag" title="Manual: xhtml10-convenience">a-tag</a> "http://www.cs.aau.dk/~normark/laml/" (<a class="schemedoc-name" href="../../lib/man/xhtml10-convenience.html#font-color" title="Manual: xhtml10-convenience">font-color</a> <a class="schemedoc-name" href="../../lib/man/color.html#black" title="Manual: color">black</a> "LAML")) " technology.")
                  ))))


<a name="laml-power-icon"></a><a name="laml-power-icon"></a><span><a href="../laml.html#laml-power-icon"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-power-icon . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">extra-level</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list 0))
       (<span class="local-name-binding">icon-size</span>   (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 2 optional-parameter-list 'large)))
      )
   (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#a" title="Manual: xhtml10-transitional-mirror">a</a> 'href "http://www.cs.aau.dk/~normark/laml/"
      (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#img" title="Manual: xhtml10-transitional-mirror">img</a> 'border "0"
           'src (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#laml-home-url-prefix" title="laml">laml-home-url-prefix</a> extra-level)
                              (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> icon-size 'large) "images/laml-power-icon-4.gif")
                                    ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> icon-size 'small) "images/laml-mini-icon-1.gif")
                                    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "laml-power-icon: third parameter must either be large or small"))))
           'alt "Program Oriented Web Engineering - using LAML"))))


<a name="laml-shortcut-icon"></a><a name="laml-shortcut-icon"></a><span><a href="../laml.html#laml-shortcut-icon"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-shortcut-icon laml-home-url-dir)</span>
  (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#link" title="Manual: xhtml10-transitional-mirror">link</a> 'rel "SHORTCUT ICON" 'href (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-home-url-dir "images/16-16-icon.ico")))



<div class="schemedoc-section-comment">;;; XML file writing procedures.
;;; In this section we have a convenient and versatile function which can be used to write an XML expression in LAML to a text file.
;;; .section-id html-file-writing-section</div>

<a name="write-xml"></a><a name="write-xml"></a><span><a href="../laml.html#write-xml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(write-xml mode-0 xml-clause . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">file-path-with-extension</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list (<a class="applied-name" href="laml-1.html#full-source-path-with-extension" title="laml">full-source-path-with-extension</a> "html")))
       (<span class="local-name-binding">mode</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX346" title="R5RS Scheme form">symbol?</a> mode-0) mode-0)
                   ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX331" title="R5RS Scheme form">list?</a> mode-0) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'raw mode-0) 'raw)
                                         ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'pp mode-0) 'pp)
                                         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> raw)))))
       (<span class="local-name-binding">prolog?</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX331" title="R5RS Scheme form">list?</a> mode-0) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'prolog mode-0) #t)
                                           (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
                      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
       (<span class="local-name-binding">epilog?</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX331" title="R5RS Scheme form">list?</a> mode-0) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'epilog mode-0) #t)
                                           (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
                      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
       
      )
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> 
        ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast?" title="Manual: xml-in-laml">ast?</a> xml-clause) (<a class="applied-name" href="laml-1.html#is-xml-ast?" title="laml">is-xml-ast?</a> xml-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'pp))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (file-exists? file-path-with-extension) (delete-file file-path-with-extension))
         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#xml-link-checking" title="Manual: xml-in-laml">xml-link-checking</a> 'none)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#collect-links-for-later-checking-in-ast!" title="Manual: xml-in-laml">collect-links-for-later-checking-in-ast!</a> xml-clause file-path-with-extension))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">op</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX445" title="R5RS Scheme form">open-output-file</a> file-path-with-extension)))
           (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#pretty-render-to-output-port" title="Manual: xml-in-laml">pretty-render-to-output-port</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#expand-procedural-content-items-in-ast" title="Manual: xml-in-laml">expand-procedural-content-items-in-ast</a> xml-clause) op (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> prolog? 'prolog #f) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> epilog? 'epilog #f))
           (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX447" title="R5RS Scheme form">close-output-port</a> op))
         (<a class="applied-name" href="laml-1.html#write-xml-post-process!" title="laml">write-xml-post-process!</a> file-path-with-extension)
         'done
        )

        ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast?" title="Manual: xml-in-laml">ast?</a> xml-clause) (<a class="applied-name" href="laml-1.html#is-xml-ast?" title="laml">is-xml-ast?</a> xml-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'raw))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (file-exists? file-path-with-extension) (delete-file file-path-with-extension))
         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#xml-link-checking" title="Manual: xml-in-laml">xml-link-checking</a> 'none)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#collect-links-for-later-checking-in-ast!" title="Manual: xml-in-laml">collect-links-for-later-checking-in-ast!</a> xml-clause file-path-with-extension))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">op</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX445" title="R5RS Scheme form">open-output-file</a> file-path-with-extension)))
           (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#render-to-output-port" title="Manual: xml-in-laml">render-to-output-port</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#expand-procedural-content-items-in-ast" title="Manual: xml-in-laml">expand-procedural-content-items-in-ast</a> xml-clause) op (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> prolog? 'prolog #f) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> epilog? 'epilog #f))
           (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX447" title="R5RS Scheme form">close-output-port</a> op))
         (<a class="applied-name" href="laml-1.html#write-xml-post-process!" title="laml">write-xml-post-process!</a> file-path-with-extension)
         'done
        )
	(<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "write-xml: Unsupported combination of xml-clause and writing mode" mode "Consider the procedure write-html.")))))

<a name="write-xml-post-process!"></a><span class="comment">; Activate the XML post processor, as determined by the file extension of full-target-file-path-with-extension.
; Pass full-target-file-path-with-extension to the processor.
; Given an extension e, activate the function (string-append e "-" "process") if this name is bound in the current environment.</span><br /><a name="write-xml-post-process!"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(write-xml-post-process! full-target-file-path-with-extension)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-extension" title="Manual: general">file-name-extension</a> full-target-file-path-with-extension))
         (<span class="local-name-binding">processor-symbol</span> (<a class="schemedoc-name" href="../../lib/man/general.html#as-symbol" title="Manual: general">as-symbol</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> ext "-" "process")))
        )
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((bound? processor-symbol)
             ((eval-cur-env processor-symbol) full-target-file-path-with-extension))
          (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> 'do-nothing))))

<a name="process-xml"></a><a name="process-xml"></a><span><a href="../laml.html#process-xml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(process-xml processing-specs file-path ast)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">init-path</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-initial-path" title="Manual: general">file-name-initial-path</a> file-path))
        (<span class="local-name-binding">proper-name</span> (<a class="schemedoc-name" href="../../lib/man/general.html#file-name-proper" title="Manual: general">file-name-proper</a> file-path)))
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX413" title="R5RS Scheme form">for-each</a>
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">spec</span>)
      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">ext</span> (<a class="schemedoc-name" href="../../lib/man/general.html#first" title="Manual: general">first</a> spec))
            (<span class="local-name-binding">transformer</span> (<a class="schemedoc-name" href="../../lib/man/general.html#second" title="Manual: general">second</a> spec))
            (<span class="local-name-binding">mode-symbols</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX325" title="R5RS Scheme form">cddr</a> spec)))
        (<a class="applied-name" href="laml-1.html#write-xml" title="laml">write-xml</a> mode-symbols (transformer ast) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> init-path proper-name "." ext))))
    processing-specs
  )))
             

<a name="write-html"></a><a name="write-html"></a><span><a href="../laml.html#write-html"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(write-html mode-0 html-clause . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">file-path-with-extension</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list (<a class="applied-name" href="laml-1.html#full-source-path-with-extension" title="laml">full-source-path-with-extension</a> "html")))
       (<span class="local-name-binding">mode</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX346" title="R5RS Scheme form">symbol?</a> mode-0) mode-0)
                   ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX331" title="R5RS Scheme form">list?</a> mode-0) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'raw mode-0) 'raw)
                                         ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'pp mode-0) 'pp)
                                         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> raw)))))
       (<span class="local-name-binding">prolog?</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX331" title="R5RS Scheme form">list?</a> mode-0) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'prolog mode-0) #t)
                                           (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
                      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
       (<span class="local-name-binding">epilog?</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX331" title="R5RS Scheme form">list?</a> mode-0) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX338" title="R5RS Scheme form">memq</a> 'epilog mode-0) #t)
                                           (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
                      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> #f)))
       
      )
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> 
        ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast?" title="Manual: xml-in-laml">ast?</a> html-clause) (<a class="applied-name" href="laml-1.html#is-xml-ast?" title="laml">is-xml-ast?</a> html-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'pp))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (file-exists? file-path-with-extension) (delete-file file-path-with-extension))
         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#xml-link-checking" title="Manual: xml-in-laml">xml-link-checking</a> 'none)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#collect-links-for-later-checking-in-ast!" title="Manual: xml-in-laml">collect-links-for-later-checking-in-ast!</a> html-clause file-path-with-extension))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">op</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX445" title="R5RS Scheme form">open-output-file</a> file-path-with-extension)))
           (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#pretty-render-to-output-port" title="Manual: xml-in-laml">pretty-render-to-output-port</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#expand-procedural-content-items-in-ast" title="Manual: xml-in-laml">expand-procedural-content-items-in-ast</a> html-clause) op (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> prolog? 'prolog #f) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> epilog? 'epilog #f))
           (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX447" title="R5RS Scheme form">close-output-port</a> op))
        )

        ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast?" title="Manual: xml-in-laml">ast?</a> html-clause) (<a class="applied-name" href="laml-1.html#is-xml-ast?" title="laml">is-xml-ast?</a> html-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'raw))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (file-exists? file-path-with-extension) (delete-file file-path-with-extension))
         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#xml-link-checking" title="Manual: xml-in-laml">xml-link-checking</a> 'none)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#collect-links-for-later-checking-in-ast!" title="Manual: xml-in-laml">collect-links-for-later-checking-in-ast!</a> html-clause file-path-with-extension))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">op</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX445" title="R5RS Scheme form">open-output-file</a> file-path-with-extension)))
           (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#render-to-output-port" title="Manual: xml-in-laml">render-to-output-port</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#expand-procedural-content-items-in-ast" title="Manual: xml-in-laml">expand-procedural-content-items-in-ast</a> html-clause) op (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> prolog? 'prolog #f) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> epilog? 'epilog #f))
           (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX447" title="R5RS Scheme form">close-output-port</a> op))
        )

        ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast?" title="Manual: xml-in-laml">ast?</a> html-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'pp))  <span class="comment">; non-xml ast - html4.01 presumably</span><br />         (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/html-support.scm"))
         (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">transformer</span> (<a class="schemedoc-name" href="../../lib/man/general.html#compose" title="Manual: general">compose</a> pretty-print-html-parse-tree <a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast-to-parse-tree" title="Manual: xml-in-laml">ast-to-parse-tree</a>)))
	   (<a class="schemedoc-name" href="../../lib/man/file-read.html#write-text-file" title="Manual: file-read">write-text-file</a>
	    (<a class="applied-name" href="laml-1.html#prolog-epilog-envelope" title="laml">prolog-epilog-envelope</a> (transformer html-clause) prolog? epilog?)
	    file-path-with-extension)))

	((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast?" title="Manual: xml-in-laml">ast?</a> html-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'raw))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (file-exists? file-path-with-extension) (delete-file file-path-with-extension))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">op</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX445" title="R5RS Scheme form">open-output-file</a> file-path-with-extension)))
           (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#render-to-output-port" title="Manual: xml-in-laml">render-to-output-port</a> html-clause op (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> prolog? 'prolog #f) (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> epilog? 'epilog #f))
           (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX447" title="R5RS Scheme form">close-output-port</a> op))
        )

	((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX374" title="R5RS Scheme form">string?</a> html-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'pp))
         (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX468" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "tools/xml-html-support/html-support.scm"))
	 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">transformer</span> (<a class="schemedoc-name" href="../../lib/man/general.html#compose" title="Manual: general">compose</a> pretty-print-html-parse-tree parse-html-string)))
	   (<a class="schemedoc-name" href="../../lib/man/file-read.html#write-text-file" title="Manual: file-read">write-text-file</a>
	    (<a class="applied-name" href="laml-1.html#prolog-epilog-envelope" title="laml">prolog-epilog-envelope</a> (transformer html-clause) prolog? epilog?)
	    file-path-with-extension)))

	((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX374" title="R5RS Scheme form">string?</a> html-clause) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> mode 'raw))
         (<a class="schemedoc-name" href="../../lib/man/file-read.html#write-text-file" title="Manual: file-read">write-text-file</a>
	  (<a class="applied-name" href="laml-1.html#prolog-epilog-envelope" title="laml">prolog-epilog-envelope</a> html-clause prolog? epilog?)
	  file-path-with-extension))

	(<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "write-html: Unsupported combination of html-clause and writing mode" mode)))))



<a name="is-xml-ast?"></a><span class="comment">; Is x an XML AST, such as an XHTML AST.
; Non-XML ASTs do not have a language indication as last elements. Therefore
; we can distinguish XML asts from older HTML asts by the number of elements in the
; list AST representation.</span><br /><a name="is-xml-ast?"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(is-xml-ast? x)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#ast?" title="Manual: xml-in-laml">ast?</a> x)            <span class="comment">; hereby a proper list</span><br />       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX239" title="R5RS Scheme form">&gt;=</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX333" title="R5RS Scheme form">length</a> x) 6))) 


<a name="prolog-epilog-envelope"></a><span class="comment">; Surround html-text with the standard prolog and epilog, if signalled by the two boolean parameters.
; This function depends on the two parameterless functions standard-prolog and standard-epilog.
; .form (prolog-epilog-envelope html-text prolog? epilog? [language])</span><br /><a name="prolog-epilog-envelope"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(prolog-epilog-envelope html-text prolog? epilog? . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">language</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f)))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">prolog-text</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> (prolog? (<a class="applied-name" href="laml-1.html#standard-prolog" title="laml">standard-prolog</a> language))
                           (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> "")))
	(<span class="local-name-binding">epilog-text</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> (epilog? (<a class="applied-name" href="laml-1.html#standard-epilog" title="laml">standard-epilog</a> language))
                           (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> "")))
	)
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> prolog-text html-text epilog-text))))




<div class="schemedoc-section-comment">;;; The HTML character transformation table.
;;; This table is used by the HTML rendering function to transliterate char data to
;;; textual contents, as to be shown in a browser. You can use this table to perform
;;; transformation of national characters to HTML character entities, and to perform
;;; other character transliterations.
;;; .section-id char-trans-section</div>
<span class="comment">; Depends on make-list from general.scm</span><br />
<a name="html-char-transformation-table"></a><a name="html-char-transformation-table"></a><span><a href="../laml.html#html-char-transformation-table"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">html-char-transformation-table</span>
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX407" title="R5RS Scheme form">list-&gt;vector</a> (<a class="schemedoc-name" href="../../lib/man/general.html#make-list" title="Manual: general">make-list</a> 256 #t)))

<span class="comment">; The html-char-transformation-table is initialized in lib/xml-in-laml/xml-in-laml.scm</span><br />
<a name="set-html-char-transformation-entry!"></a><a name="set-html-char-transformation-entry!"></a><span><a href="../laml.html#set-html-char-transformation-entry!"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(set-html-char-transformation-entry! transformation-table index new-entry)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX405" title="R5RS Scheme form">vector-set!</a> transformation-table index new-entry))

<span class="comment">; The actual mutations of the html character transformation table is done in the actual
; mirrors. The reason is that the HTML4 mirrors are less mature than the XHTML mirror with
; respect to character references. (The '&' character is not allowed to be character transformed
; in HTML4, but it need to be transformed in XHTML. See lib/xml-in-laml/xml-in-laml.scm and
; tools/validating-html-mirror-from-dtd/runtime/basic.scm).</span><br />

<span class="comment">; ---------------------------------------------------------------------------------------------------
; HTML char and text transformation using the html-char-transformation-table.
; html-char-transformation-table is defined in laml.scm, and possibly redefined in the .laml setup file.</span><br />

<span class="comment">; (define (html-text-transform str)
;  (html-text-transform-1 str (string-length str) 0 '())
; )
;
;
; (define (html-text-transform-1 str str-lgt i res)
;   (cond ((= i str-lgt) (list-to-string (reverse res) ""))
;         (else (html-text-transform-1 str str-lgt (+ i 1) (cons (html-char-transform (string-ref str i)) res)))))</span><br />
<a name="html-char-transform"></a><a name="html-char-transform"></a><span><a href="../laml.html#html-char-transform"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(html-char-transform char . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">transformation-table</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list <a class="applied-name" href="laml-1.html#html-char-transformation-table" title="laml">html-char-transformation-table</a>)))
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">n</span> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX367" title="R5RS Scheme form">char-&gt;integer</a> char))
         (<span class="local-name-binding">res</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX239" title="R5RS Scheme form">&gt;=</a> n 0) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX238" title="R5RS Scheme form">&lt;=</a> n 255))
	          (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX404" title="R5RS Scheme form">vector-ref</a> transformation-table n)
                  (<a class="schemedoc-name" href="../../lib/man/general.html#char-&gt;string" title="Manual: general">char-&gt;string</a> char)))
        )
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX305" title="R5RS Scheme form">boolean?</a> res) res) (<a class="schemedoc-name" href="../../lib/man/general.html#char-&gt;string" title="Manual: general">char-&gt;string</a> char))
          ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX374" title="R5RS Scheme form">string?</a> res) res)
          ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX305" title="R5RS Scheme form">boolean?</a> res) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX304" title="R5RS Scheme form">not</a> res)) "")
          ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX351" title="R5RS Scheme form">char?</a> res) (<a class="schemedoc-name" href="../../lib/man/general.html#char-&gt;string" title="Manual: general">char-&gt;string</a> res))
          ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX228" title="R5RS Scheme form">integer?</a> res) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX239" title="R5RS Scheme form">&gt;=</a> res 0) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX238" title="R5RS Scheme form">&lt;=</a> res 255)) (<a class="schemedoc-name" href="../../lib/man/general.html#char-&gt;string" title="Manual: general">char-&gt;string</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX368" title="R5RS Scheme form">integer-&gt;char</a> res)))
          (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "html-char-transform: Unable to transform character: " char))))))

<span class="comment">; ---------------------------------------------------------------------------------------------------------------</span><br />
<div class="schemedoc-section-comment">;;; R4RS and R5RS Scheme knowledge.
;;; The section contains accessor and loading functions to R4RS and R5RS Scheme knowledge files.
;;; The Scheme knowledge files are located in the r4rs and the r5rs directories of the full LAML distribution.
;;; The r4rs and r5rs directories each hold a HTML version of the Scheme Report.
;;; Overall, a Scheme knowledge file is a mapping from syntax/procedure name to an URL in the Scheme Report.
;;; More precisely, a Scheme knowledge file is a list of entries, each of which
;;; contains the name of a Scheme form, the categorization of the form, and the URL of place, where form
;;; is described (in a compact format). Scheme knowledge files have extensions lsp.
;;; .section-id scheme-knowledge</div>
<a name="read-scheme-knowledge"></a><a name="read-scheme-knowledge"></a><span><a href="../laml.html#read-scheme-knowledge"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(read-scheme-knowledge scheme-version)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">scheme-version-number</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX224" title="R5RS Scheme form">number?</a> scheme-version)
				       scheme-version)
                                      ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX346" title="R5RS Scheme form">symbol?</a> scheme-version) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> scheme-version 'r4rs)) 4)
                                      ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX346" title="R5RS Scheme form">symbol?</a> scheme-version) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> scheme-version 'r5rs)) 5)
                                      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "read-scheme-knowledge: scheme-version must be an integer (4 or 5) or one of the symbols r4rs or r5rs:" scheme-version))))
        )
     (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX235" title="R5RS Scheme form">=</a> scheme-version-number 4)
            (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "r4rs/" "scheme-knowledge.lsp")))
	   ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX235" title="R5RS Scheme form">=</a> scheme-version-number 5)
            (<a class="schemedoc-name" href="../../lib/man/general.html#file-read" title="Manual: general">file-read</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> laml-dir "r5rs/" "scheme-knowledge.lsp")))
	   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "R" (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> scheme-version-number) "RS") "is not supported.")))))

<a name="symbol-of-scheme-knowledge"></a><a name="symbol-of-scheme-knowledge"></a><span><a href="../laml.html#symbol-of-scheme-knowledge"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">symbol-of-scheme-knowledge</span> (<a class="schemedoc-name" href="../../lib/man/general.html#make-selector-function" title="Manual: general">make-selector-function</a> 1 'symbol-of-scheme-knowledge))

<a name="category-of-scheme-knowledge"></a><a name="category-of-scheme-knowledge"></a><span><a href="../laml.html#category-of-scheme-knowledge"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">category-of-scheme-knowledge</span> (<a class="schemedoc-name" href="../../lib/man/general.html#make-selector-function" title="Manual: general">make-selector-function</a> 2 'category-of-scheme-knowledge))

<a name="essentiality-of-scheme-knowledge"></a><a name="essentiality-of-scheme-knowledge"></a><span><a href="../laml.html#essentiality-of-scheme-knowledge"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">essentiality-of-scheme-knowledge</span> (<a class="schemedoc-name" href="../../lib/man/general.html#make-selector-function" title="Manual: general">make-selector-function</a> 3 'essentiality-of-scheme-knowledge))

<a name="file-number-of-scheme-knowledge"></a><a name="file-number-of-scheme-knowledge"></a><span><a href="../laml.html#file-number-of-scheme-knowledge"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">file-number-of-scheme-knowledge</span> (<a class="schemedoc-name" href="../../lib/man/general.html#make-selector-function" title="Manual: general">make-selector-function</a> 4 'file-number-of-scheme-knowledge))

<a name="anchor-name-of-scheme-knowledge"></a><a name="anchor-name-of-scheme-knowledge"></a><span><a href="../laml.html#anchor-name-of-scheme-knowledge"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">anchor-name-of-scheme-knowledge</span> (<a class="schemedoc-name" href="../../lib/man/general.html#make-selector-function" title="Manual: general">make-selector-function</a> 5 'anchor-name-of-scheme-knowledge))


<a name="url-suffix-of-scheme-knowledge"></a><a name="url-suffix-of-scheme-knowledge"></a><span><a href="../laml.html#url-suffix-of-scheme-knowledge"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(url-suffix-of-scheme-knowledge entry scheme-version)</span>
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX122" title="R5RS Scheme form">let*</a> ((<span class="local-name-binding">scheme-version-number</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX224" title="R5RS Scheme form">number?</a> scheme-version)
                                         scheme-version)
                                      ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX346" title="R5RS Scheme form">symbol?</a> scheme-version) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> scheme-version 'r4rs)) 4)
                                      ((<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX117" title="R5RS Scheme form">and</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX346" title="R5RS Scheme form">symbol?</a> scheme-version) (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX199" title="R5RS Scheme form">eq?</a> scheme-version 'r5rs)) 5)
                                      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> "url-suffix-of-scheme-knowledge: scheme-version must be an integer (4 or 5) or one of the symbols r4rs or r5rs:" scheme-version))))
         (<span class="local-name-binding">rnrs</span> (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX235" title="R5RS Scheme form">=</a> scheme-version-number 4) "r4rs")
                     ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX235" title="R5RS Scheme form">=</a> scheme-version-number 5) "r5rs")
                     (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "r" (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> scheme-version-number) "rs") "is not supported.")))))
   (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX239" title="R5RS Scheme form">&gt;=</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX333" title="R5RS Scheme form">length</a> entry) 5)
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> rnrs "_" 
                      (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> (<a class="applied-name" href="laml-1.html#file-number-of-scheme-knowledge" title="laml">file-number-of-scheme-knowledge</a> entry))
                      (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">cond</a> ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX235" title="R5RS Scheme form">=</a> scheme-version-number 4)  ".htm")
                            ((<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX235" title="R5RS Scheme form">=</a> scheme-version-number 5)  ".html")
                            (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX110" title="R5RS Scheme form">else</a> (<a class="schemedoc-name" href="../../lib/man/general.html#laml-error" title="Manual: general">laml-error</a> (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "r" (<a class="schemedoc-name" href="../../lib/man/general.html#as-string" title="Manual: general">as-string</a> scheme-version-number) "rs") "is not supported.")))
                      "#" 
                      (<a class="applied-name" href="laml-1.html#anchor-name-of-scheme-knowledge" title="laml">anchor-name-of-scheme-knowledge</a> entry))
       #f)))


<div class="schemedoc-section-comment">;;; Miscellaneous.</div>
<a name="kn-manual-settings"></a><a name="kn-manual-settings"></a><span><a href="../laml.html#kn-manual-settings"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(kn-manual-settings . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">abstract-clause</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f)))
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a>
    (manual-author (<a class="schemedoc-name" href="../../lib/man/xhtml10-convenience.html#copyright-owner" title="Manual: xhtml10-convenience">copyright-owner</a> "Kurt N&#248;rmark") "normark@cs.aau.dk" )
    (manual-affiliation "Department of Computer Science," "Aalborg University," "Denmark.")
    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> abstract-clause abstract-clause '())
    (<a class="applied-name" href="laml-1.html#laml-library-source-linking" title="laml">laml-library-source-linking</a>)
    'css-prestylesheet "compact"
    'css-stylesheet "argentina"
    'css-stylesheet-copying "true"
  )))

<a name="kn-name"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(kn-name)</span> "Kurt N&#248;rmark")
<a name="kn-affiliation"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(kn-affiliation)</span> (<a class="applied-name" href="laml-1.html#text-choice" title="laml">text-choice</a> "Institut for Datalogi, Aalborg Universitet" "Department of Computer Science, Aalborg University, Denmark"))
<a name="kn-home-url"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(kn-home-url)</span> "http://www.cs.aau.dk/~normark/")
<a name="kn-email-address"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(kn-email-address)</span> "normark@cs.aau.dk")

<a name="anchor-mail-prefix"></a><span></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(anchor-mail-prefix email-addr)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> "mailto:" email-addr))

<a name="kn-xml-in-laml"></a><a name="kn-xml-in-laml"></a><span><a href="../laml.html#kn-xml-in-laml"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(kn-xml-in-laml . optional-parameter-list)</span>
 (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX121" title="R5RS Scheme form">let</a> ((<span class="local-name-binding">with-icon</span> (<a class="schemedoc-name" href="../../lib/man/general.html#optional-parameter" title="Manual: general">optional-parameter</a> 1 optional-parameter-list #f))
      )
  (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX103" title="R5RS Scheme form">if</a> with-icon
      (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#table" title="Manual: xhtml10-transitional-mirror">table</a> 'border "0"
         (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#tr" title="Manual: xhtml10-transitional-mirror">tr</a> 
            (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" title="Manual: xhtml10-transitional-mirror">td</a> 'width "20%"
              (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#div" title="Manual: xhtml10-transitional-mirror">div</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#char-ref" title="Manual: xml-in-laml">char-ref</a> "nbsp") (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
		   (<a class="applied-name" href="laml-1.html#kn-name" title="laml">kn-name</a>) (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
		   (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#a" title="Manual: xhtml10-transitional-mirror">a</a> 'href (<a class="applied-name" href="laml-1.html#anchor-mail-prefix" title="laml">anchor-mail-prefix</a> (<a class="applied-name" href="laml-1.html#kn-email-address" title="laml">kn-email-address</a>)) (<a class="applied-name" href="laml-1.html#kn-email-address" title="laml">kn-email-address</a>)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
		   (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#a" title="Manual: xhtml10-transitional-mirror">a</a> 'href (<a class="applied-name" href="laml-1.html#kn-home-url" title="laml">kn-home-url</a>) (<a class="applied-name" href="laml-1.html#kn-home-url" title="laml">kn-home-url</a>)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
		   ))
            (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" title="Manual: xhtml10-transitional-mirror">td</a> 'width "70%"  (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#div" title="Manual: xhtml10-transitional-mirror">div</a> ""))
            (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" title="Manual: xhtml10-transitional-mirror">td</a> 'width "10%" (<a class="applied-name" href="laml-1.html#laml-power-icon" title="laml">laml-power-icon</a> 0 'small))))

      (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#div" title="Manual: xhtml10-transitional-mirror">div</a> (<a class="schemedoc-name" href="../../lib/xml-in-laml/man/xml-in-laml.html#char-ref" title="Manual: xml-in-laml">char-ref</a> "nbsp") (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
	   (<a class="applied-name" href="laml-1.html#kn-name" title="laml">kn-name</a>) (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
	   (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#a" title="Manual: xhtml10-transitional-mirror">a</a> 'href (<a class="applied-name" href="laml-1.html#anchor-mail-prefix" title="laml">anchor-mail-prefix</a> (<a class="applied-name" href="laml-1.html#kn-email-address" title="laml">kn-email-address</a>)) (<a class="applied-name" href="laml-1.html#kn-email-address" title="laml">kn-email-address</a>)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
	   (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#a" title="Manual: xhtml10-transitional-mirror">a</a> 'href (<a class="applied-name" href="laml-1.html#kn-home-url" title="laml">kn-home-url</a>) (<a class="applied-name" href="laml-1.html#kn-home-url" title="laml">kn-home-url</a>)) (<a class="schemedoc-name" href="../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#br" title="Manual: xhtml10-transitional-mirror">br</a>)
	   ))))

<a name="laml-library-source-linking"></a><a name="laml-library-source-linking"></a><span><a href="../laml.html#laml-library-source-linking"><img src="../../images/elucidator/small-prev.gif" title="SchemeDoc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="../../r5rs/r5rs_7.html#IDX173" title="R5RS Scheme form">define</a> <span class="signature">(laml-library-source-linking)</span>
  (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX334" title="R5RS Scheme form">append</a>
   (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX412" title="R5RS Scheme form">map</a>                                 <span class="comment">; the LAML lib/ manuals </span><br />    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">key</span>) 
      (scheme-source-linking-manual 
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'key key)
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'file-path (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a>  (<a class="applied-name" href="laml-1.html#laml-dir-prefix" title="laml">laml-dir-prefix</a>) "lib/man/" key))  
       )
      )
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> "cgi" "collect-skip" "color" "crypt" "encode-decode" "file-read" "final-state-automaton" "general" "time" 
          "xhtml10-convenience")
    )
   (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX412" title="R5RS Scheme form">map</a>                                 <span class="comment">; the LAML core library</span><br />    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">key</span>) 
      (scheme-source-linking-manual 
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'key key)
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'file-path (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#laml-dir-prefix" title="laml">laml-dir-prefix</a>) "man/" key))
       )
      )
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> "laml")
    )
   (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX412" title="R5RS Scheme form">map</a>                                 <span class="comment">; the XML-in-LAML library</span><br />    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">key</span>) 
      (scheme-source-linking-manual 
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'key key)
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'file-path (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#laml-dir-prefix" title="laml">laml-dir-prefix</a>) "lib/xml-in-laml/man/" key))
       )
      )
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> "xml-in-laml")
    )
   (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX412" title="R5RS Scheme form">map</a>                                 <span class="comment">; the XML-in-LAML library</span><br />    (<a class="scheme-syntax-name" href="../../r5rs/r5rs_6.html#IDX98" title="R5RS Scheme form">lambda</a> (<span class="local-name-binding">key</span>) 
      (scheme-source-linking-manual 
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'key key)
       (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> 'file-path (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX392" title="R5RS Scheme form">string-append</a> (<a class="applied-name" href="laml-1.html#laml-dir-prefix" title="laml">laml-dir-prefix</a>) "lib/xml-in-laml/mirrors/man/" key))
       )
      )
    (<a class="scheme-procedure-name" href="../../r5rs/r5rs_8.html#IDX332" title="R5RS Scheme form">list</a> "xhtml10-transitional-mirror" "xhtml10-strict-mirror" "xhtml10-frameset-mirror")
    )

   ))


</pre></font><div>&nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></div></body></html>