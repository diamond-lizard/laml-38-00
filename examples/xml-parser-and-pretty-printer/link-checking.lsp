(ast "html" ((ast "head" ((ast "meta" () (http-equiv "Content-Type" content "text/html; charset=iso-8859-1") single xhtml10-transitional ()) (ast "meta" () (name "Generator" content "LAML") single xhtml10-transitional ()) (ast "title" ("Link Checking in LAML") () double xhtml10-transitional ())) () double xhtml10-transitional ()) (ast "body" ((ast "table" ((ast "tbody" ((ast "tr" ((ast "td" ((ast "font" ("Generated: Thursday, January 26, 2006, 23:38:52") (size "2") double xhtml10-transitional ())) (width "33%" align "left" valign "top") double xhtml10-transitional ()) (ast "td" ((ast "font" ((ast "span" ("Copyright &copy; 2006, Kurt N&#248;rmark") () double xhtml10-transitional ())) (size "2") double xhtml10-transitional ())) (width "34%" align "center" valign "top") double xhtml10-transitional ()) (ast "td" ((ast "font" ((ast "a" ((ast "img" () (src "../images/laml-home.gif" alt "The local LAML software home page" border "0") single xhtml10-transitional ())) (href "../index.html" title "The local LAML software home page" target "_top") double xhtml10-transitional ())) (size "2") double xhtml10-transitional ())) (width "33%" align "right" valign "top") double xhtml10-transitional ())) () double xhtml10-transitional ())) () double xhtml10-transitional ())) (border "0px" cellpadding "0" cellspacing "0" width "100%") double xhtml10-transitional ()) (ast "h1" ("Link Checking in LAML") () double xhtml10-transitional ()) (ast "p" ("The facilities described below are available from LAML version 29.") () double xhtml10-transitional ()) (ast "p" ("For a long time, LAML has been able to validate attributes and contents. Recently also checking for proper use of ID attributes has been introduced.") () double xhtml10-transitional ()) (ast "p" ("Linking errors are a major source of frustration in web documents. Concretely, we have the problem if an URL points to a non-existing web resource. Therefore it is - from a practical point of view - very useful to check all links when the document is generated. This is now possible in LAML. LAML is able to check for relative links, with and without an explicitly given base URL (given by the" #t (ast "a" ("base") (href "../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#base") double xhtml10-transitional ()) "element of XHTML, for instance) and absolute links. Checking for absolute links requires an implementation of the LAML compatibility function" #t (ast "a" ("url-target-exists?") (href "../lib/compatibility/man/mzscheme-compat.html#url-target-exists?") double xhtml10-transitional ()) ". (If you use MzScheme, LAML has such an implementation. However, in LAML version 29 this function does not give accurate results!)") () double xhtml10-transitional ()) (ast "p" ("The variable" #t (ast "a" ("xml-link-checking") (href "../lib/xml-in-laml/man/xml-in-laml.html#xml-link-checking") double xhtml10-transitional ()) "(in the library lib/xml-in-laml/xml-in-laml.scm) controls the amount of link checking. You can ask for no link checking, checking of relative links, checking of absolute links, and checking of all links. See the documentation of the variable" #t (ast "a" ("xml-link-checking") (href "../lib/xml-in-laml/man/xml-in-laml.html#xml-link-checking") double xhtml10-transitional ()) ".") () double xhtml10-transitional ()) (ast "p" ("When you use an XHTML language in LAML everything is provided for you. The default value of" #t (ast "a" ("xml-link-checking") (href "../lib/xml-in-laml/man/xml-in-laml.html#xml-link-checking") double xhtml10-transitional ()) "provides for checking of relative links." #t) () double xhtml10-transitional ()) (ast "p" ("Some supported XML languages in LAML come with an URL extractor function, and a base URL extractor function. They are returned by the higher-order functions" #t (ast "a" ("url-extractor-of-xml-language") (href "../lib/xml-in-laml/man/xml-in-laml.html#url-extractor-of-xml-language") double xhtml10-transitional ()) "and" #t (ast "a" ("base-url-extractor-of-xml-language") (href "../lib/xml-in-laml/man/xml-in-laml.html#base-url-extractor-of-xml-language") double xhtml10-transitional ()) ". The function" #t (ast "a" ("set-xml-link-checking-functions") (href "../lib/xml-in-laml/man/xml-in-laml.html#set-xml-link-checking-functions") double xhtml10-transitional ()) "is used to define the URL extractor function and a base URL extractor function. The mirror function library calls this function with appropriate URL extractor functions.") () double xhtml10-transitional ()) (ast "p" ("Link checking in LAML works as follows:") () double xhtml10-transitional ()) (ast "ol" ((ast "li" ((ast "b" ("Document generation") () double xhtml10-transitional ()) (ast "br" () () single xhtml10-transitional ()) "The document is generated as usual. This gives a LAML AST of the document.") (style "margin-bottom:4mm;") double xhtml10-transitional ()) (ast "li" ((ast "b" ("Link collection") () double xhtml10-transitional ()) (ast "br" () () single xhtml10-transitional ()) "The function" #t (ast "a" ("collect-links-for-later-checking-in-ast!") (href "../lib/xml-in-laml/man/xml-in-laml.html#collect-links-for-later-checking-in-ast!") double xhtml10-transitional ()) "is called on the AST. This function collects all URLs, which must be checked. Two global variables" #t (ast "kbd" ("relative-url-list-for-later-checking") () double xhtml10-transitional ()) "and" #t (ast "kbd" ("absolute-url-list-for-later-checking") () double xhtml10-transitional ()) "are hereby assigned. The second parameter of" #t (ast "a" ("collect-links-for-later-checking-in-ast!") (href "../lib/xml-in-laml/man/xml-in-laml.html#collect-links-for-later-checking-in-ast!") double xhtml10-transitional ()) "gives the absolute file path of the location, where the file is written in the file system (the base URL). This information is important for checking of relative links in static web documents. Notice that the collection of links cannot be done before we know the file location of the document.") (style "margin-bottom:4mm;") double xhtml10-transitional ()) (ast "li" ((ast "b" ("Relative link checking") () double xhtml10-transitional ()) (ast "br" () () single xhtml10-transitional ()) "The function" #t (ast "a" ("check-relative-url-list!") (href "../lib/xml-in-laml/man/xml-in-laml.html#check-relative-url-list!") double xhtml10-transitional ()) "checks the existence of resources addressed by the URLs in" #t (ast "kbd" ("relative-url-list-for-later-checking") () double xhtml10-transitional ()) ". This boils down to file and directory existence checks. Problems are addressed via the function" #t (ast "a" ("xml-check-error") (href "../lib/xml-in-laml/man/xml-in-laml.html#xml-check-error") double xhtml10-transitional ()) ". Notice that link checking should be done as late as possible, after all more or less dependent files have been written.") (style "margin-bottom:4mm;") double xhtml10-transitional ()) (ast "li" ((ast "b" ("Absolute link checking") () double xhtml10-transitional ()) (ast "br" () () single xhtml10-transitional ()) "The function" #t (ast "a" ("check-absolute-url-list!") (href "../lib/xml-in-laml/man/xml-in-laml.html#check-absolute-url-list!") double xhtml10-transitional ()) "checks the existence of resources addressed by the URLs in" #t (ast "kbd" ("absolute-url-list-for-later-checking") () double xhtml10-transitional ()) ". This function relies on the LAML compatibility function" #t (ast "a" ("url-target-exists?") (href "../lib/compatibility/man/mzscheme-compat.html#url-target-exists?") double xhtml10-transitional ()) "(for which we do not yet have a good implementation in the LAML distribution). Errors are reported as for relative links.") (style "margin-bottom:4mm;") double xhtml10-transitional ())) () double xhtml10-transitional ()) (ast "p" ("In the standard LAML setup, step 2 is done by" #t (ast "a" ("write-html") (href "../man/laml.html#write-html") double xhtml10-transitional ()) ", when a document is rendered (linearized and written to a file). You can alternatively do it &#39;manually&#39; from other contexts, of course.") () double xhtml10-transitional ()) (ast "p" ("Step 3 and 4 are done from the function" #t (ast "a" ("end-laml") (href "../man/laml.html#end-laml") double xhtml10-transitional ()) ". Again, you can check the collected links yourself, using the functions described about, if you need to.") () double xhtml10-transitional ()) (ast "p" ("Notice that anchor parts, following &#39;#&#39; in a URL, are not checked by LAML.") () double xhtml10-transitional ()) (ast "p" ("The link checking framework, as described in this document, can be used on pre-existing XML languages as well as on your own XML languages. Just provide URL extractor functions for you own XML language, install them with" #t (ast "a" ("set-xml-link-checking-functions") (href "../lib/xml-in-laml/man/xml-in-laml.html#set-xml-link-checking-functions") double xhtml10-transitional ()) ", and arrange for link collection and link checking (using the functions from above). Notice, however, that your own XML language typically is translated to XHTML, which will check it&#39;s links. Therefore, it is not always necessary to do a lot of link checking in your own, high-level XML languages.") () double xhtml10-transitional ()) (ast "p" ("A single end remark for relative links. It is better to prevent errors than to find them at a later point in time. When you make relative links in LAML, the Emacs command" #t (ast "b" ("M-x insert-relative-file-path") () double xhtml10-transitional ()) "is" #t (ast "em" ("very useful") () double xhtml10-transitional ()) "together with the embedding Emacs command (with" #t (ast "b" ("M-x embed") () double xhtml10-transitional ()) ").") () double xhtml10-transitional ()) (ast "div" ("&nbsp;" #t (ast "br" () () single xhtml10-transitional ()) "Kurt N&#248;rmark" #t (ast "br" () () single xhtml10-transitional ()) (ast "a" ("normark@cs.aau.dk") (href "mailto:normark@cs.aau.dk") double xhtml10-transitional ()) (ast "br" () () single xhtml10-transitional ()) (ast "a" ("http://www.cs.aau.dk/~normark/") (href "http://www.cs.aau.dk/~normark/") double xhtml10-transitional ()) (ast "br" () () single xhtml10-transitional ())) () double xhtml10-transitional ())) (bgcolor "#ffffbf" text "#000000" link "#0000ff" vlink "#0000ff") double xhtml10-transitional ())) (xmlns "http://www.w3.org/1999/xhtml") double xhtml10-transitional ())