<html><head><link href="stylesheets/documentation.css" rel="stylesheet" title="documentation" type="text/css" /> <title>documentation</title></head><body bgcolor="#ffecd9" text="#000000" link="#000000" vlink="#000000"><a name="START"></a><h1><font color="#0000ff">Scheme Elucidator Versioning Demo</font></h1><h3><span>Kurt N?rmark   &copy;</span> &nbsp; &nbsp; normark@cs.aau.dk <br /> Department of Computer Science, Aalborg University</h3><p></p><div class="elucidator-abstract"><b>Abstract.</b> <p>This is an elucidative program which illustrates the use of multiple source program versions. Notice that the documentation as such is not versioned. The reason is that the documentation is intended to be able to address the evolution of the software as such. Thus, the documentation transcends the versions of the programs. The demo is quite similar to the <a href="../../scheme-documentation-tools/demo.html" target="_top">Demo Program</a> which I wrote for the paper <a href="http://www.cs.auc.dk/~normark/laml/papers/documentation-tools.pdf">Scheme Program Documentation Tools</a>.</p> <p>For a larger and more realistic example please see the <a href="http://www.cs.auc.dk/~normark/scheme/styles/xml-in-laml/elucidator-2/doc/elucidator.html" target="_top">documentation of the Scheme Elucidator</a> itself.</p></div><div>&nbsp; <p></p></div><div class="elucidator-section"><a name="intr-sect"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#vers-features-sec"><img src="./images/small-next.gif" title="Features" alt="" border="0" /></a></div><div><b><font size="5"><span>1 &nbsp; &nbsp; Introduction</span></font></b></div><div class="body-normal"><p>In this small elucidative program we will illustrate the versioning features of the Scheme Elucidator 2. In the documentation part we will draw the readers attention to the relevant features.</p></div><div style="margin-left:10px;"><font size="2"><span>1.1 &nbsp; &nbsp; <a href="documentation.html#intr" target="documentation-frame"><font color="#000000">The meaning of version 1 and 2</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="intr"></a><div class="elucidator-entry-head"><a href="documentation.html#intr-sect"><img src="./images/small-up.gif" title="Introduction" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>1.1 &nbsp; &nbsp; The meaning of version 1 and 2</span></font></b></div><div class="body-normal"><p>The original versions of <a class="program-reference-old-strong" href="prog1-1.html" target="program-frame" title="Link to program file: prog1, version 1">prog1</a> and <a class="program-reference-old-strong" href="prog2-1.html" target="program-frame" title="Link to program file: prog2, version 1">prog2</a> have been used in other demo programs. These are designated as version 1. You can see the version number in the upper right corner of the source program, as a water mark. The newest versions, <a class="program-file-reference-strong" href="prog1-2.html" target="program-frame" title="Link to program file: prog1">prog1</a> and <a class="program-file-reference-strong" href="prog2-2.html" target="program-frame" title="Link to program file: prog2">prog2</a> have been modified in various ways. The only aims of the modifications has been to illustrate the versioning features of the Scheme Elucidator 2. Let us already here notice that links to older versions are shown on a grey background.</p></div></div><div class="elucidator-section"><a name="vers-features-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#intr-sect"><img src="./images/small-prev.gif" title="Introduction" alt="" border="0" /></a> <a href="documentation.html#prog-evolution"><img src="./images/small-next.gif" title="New Programs - Old Documentation" alt="" border="0" /></a></div><div><b><font size="5"><span>2 &nbsp; &nbsp; Features</span></font></b></div><div class="body-normal"></div><div style="margin-left:10px;"><font size="2"><span>2.1 &nbsp; &nbsp; <a href="documentation.html#vers-featurs" target="documentation-frame"><font color="#000000">Updated and New abstractions</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="vers-featurs"></a><div class="elucidator-entry-head"><a href="documentation.html#vers-features-sec"><img src="./images/small-up.gif" title="Features" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>2.1 &nbsp; &nbsp; Updated and New abstractions</span></font></b></div><div class="body-normal"><p>We start the discussion of the function <a class="program-reference-strong" href="prog1-2.html#fac" target="program-frame" title="prog1">fac</a>. In version 1 the <a class="program-reference-old-strong" href="prog1-1.html#fac" target="program-frame" title="prog1, version 1">fac</a> function is recursive. In version 2, we have changed the <a class="program-reference-strong" href="prog1-2.html#fac" target="program-frame" title="prog1">fac</a> function to be iterative. Hereby we have introduced the usual helping function <a class="program-reference-strong" href="prog1-2.html#fac-iter" target="program-frame" title="prog1">fac-iter</a>. You should notice the <img src="images/updated.gif" alt="" /> icon of <a class="program-reference-strong" href="prog1-2.html#fac" target="program-frame" title="prog1">fac</a> . Also, you should notice that <a class="program-reference-strong" href="prog1-2.html#fac-iter" target="program-frame" title="prog1">fac-iter</a> is marked as  <img src="images/new.gif" alt="" /> . Also notice the possibility of navigation in between version 1 and version 2, by means of the grey arrows, such as <img src="images/gray-left-arrow.gif" alt="" />, above the definitions in the source programs.</p> <p>Version 1 of <a class="program-reference-old-strong" href="prog1-1.html" target="program-frame" title="Link to program file: prog1, version 1">prog1</a> has two functions called <a class="program-reference-old-strong" href="prog1-1.html#head" target="program-frame" title="prog1, source-version 1">head</a> and <a class="program-reference-old-strong" href="prog1-1.html#tail" target="program-frame" title="prog1, source-version 1">tail</a>. These functions have no counterpart in <a class="program-file-reference-strong" href="prog1-2.html" target="program-frame" title="Link to program file: prog1">version 2</a>. Thus, these two functions have been delete from the program. Notice the special &#39;dead end&#39; icon <img src="images/no-pass-sign.gif" alt="" /> (similar to the well-known road sign) used in <a class="program-reference-old-strong" href="prog1-1.html" target="program-frame" title="Link to program file: prog1, version 1">version 1</a> to indicate that you cannot navigate to succeeding versions of these abstractions.</p> <p>Recall that the Scheme Elucidator uses the <img src="images/doc-left.gif" alt="" /> icon in source programs to link to the place in the documentation, where a particular abstraction is discussed. It is possible to direct some documentation towards a specific version of the documentation. When this is done, the icon <img src="images/doc-left-point.gif" alt="" /> is used instead of <img src="images/doc-left.gif" alt="" />. When we discussed <a class="program-reference-old-strong" href="prog1-1.html#head" target="program-frame" title="prog1, source-version 1">head</a> and <a class="program-reference-old-strong" href="prog1-1.html#tail" target="program-frame" title="prog1, source-version 1">tail</a> above we explicitly referred to version 1. This explains the use of <img src="images/doc-left-point.gif" alt="" /> in the documentation. Thus, the use of <img src="images/doc-left-point.gif" alt="" /> tells the source program reader that there exists documentation that addresses the specific version of the source program.</p></div></div><div class="elucidator-section"><a name="prog-evolution"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#vers-features-sec"><img src="./images/small-prev.gif" title="Features" alt="" border="0" /></a> <a href="documentation.html#dated-documentation"><img src="./images/small-next.gif" title="Marking old documentation" alt="" border="0" /></a></div><div><b><font size="5"><span>3 &nbsp; &nbsp; New Programs - Old Documentation</span></font></b></div><div class="body-normal"><p>Let us assume that we have written some documentation about <a class="program-reference-old-strong" href="prog2-1.html" target="program-frame" title="Link to program file: prog2, version 1">prog2</a> some time ago. The documentation corresponds to version 1 of prog2. Now time passes, and <a class="program-reference-old-strong" href="prog2-1.html" target="program-frame" title="Link to program file: prog2, version 1">prog2</a> is updated in various ways. We end up with <a class="program-file-reference-strong" href="prog2-2.html" target="program-frame" title="Link to program file: prog2">prog2</a>. As a typical scenario, however, the documentation of <a class="program-reference-old-strong" href="prog2-1.html" target="program-frame" title="Link to program file: prog2, version 1">prog2</a> is not updated. Below we show some documentation taken from section 2.1 - 2.3 of <a href="../../scheme-documentation-tools/demo.html" target="_top">Demo Program</a>.</p> <p>When we address an abstraction from the documentation, without explicit use of the version <kbd>vers</kbd> attribute, we attempt to identify the newest versions of the abstraction. If this cannot be done, we fall through the versions - from the newest (highest) towards the oldest (1). When reading the documentation below, you should observe this &quot;version fall through&quot; facility. Recall that links to older versions are shown on a grey background.</p> <p><em>Italic portions of the text below are meta comments, intended to explain the versioning points.</em> The non-italic parts of section <a class="documentation-reference" href="documentation.html#filtering" target="documentation-frame" title="Filtering">3.1</a>, <a class="documentation-reference" href="documentation.html#composing" target="documentation-frame" title="Function composition">3.2</a> and <a class="documentation-reference" href="documentation.html#enum-order" target="documentation-frame" title="Enumeration ordering">3.3</a> have not been altered, in comparison with the <a href="../../scheme-documentation-tools/demo.html" target="_top">original documentation</a>.</p></div><div style="margin-left:10px;"><font size="2"><span>3.1 &nbsp; &nbsp; <a href="documentation.html#filtering" target="documentation-frame"><font color="#000000">Filtering</font></a></span></font> <br /> <font size="2"><span>3.2 &nbsp; &nbsp; <a href="documentation.html#composing" target="documentation-frame"><font color="#000000">Function composition</font></a></span></font> <br /> <font size="2"><span>3.3 &nbsp; &nbsp; <a href="documentation.html#enum-order" target="documentation-frame"><font color="#000000">Enumeration ordering</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="filtering"></a><div class="elucidator-entry-head"><a href="documentation.html#prog-evolution"><img src="./images/small-up.gif" title="New Programs - Old Documentation" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#composing"><img src="./images/small-next.gif" title="Function composition" alt="" border="0" /></a>  <br /> <b><font size="4"><span>3.1 &nbsp; &nbsp; Filtering</span></font></b></div><div class="body-normal"><p><em>From version 1 to version 2 we have moved the filter function from prog2 to prog1. Therefore both <a class="program-reference-strong" href="prog1-2.html#filter" target="program-frame" title="prog1">filter</a> and <a class="program-reference-strong" href="prog1-2.html#filter-help" target="program-frame" title="prog1">filter-help</a> are marked as moved, using the icon <img src="images/moved.gif" alt="" />. A function marked as moved with this icon exists - structurally equal with the current definition - in another source file. The grey link icon,  <img src="images/gray-left-arrow.gif" alt="" /> links to the function which has been moved. Notice that the original documentation - as can be seen in the following paragraph - is unaffected. The main reason is that <kbd>filter</kbd> and <kbd>filter-help</kbd> are addressed without mention of the source file to which they belong. Most often in the Scheme Elucidator, the documentation remains valid even if the program is reorganized.</em></p> <p>The function <a class="program-reference-strong" href="prog1-2.html#filter" target="program-frame" title="prog1">filter</a> makes use of the tail-recursive function, <a class="program-reference-weak" href="prog1-2.html#filter-help" target="program-frame" title="prog1">filter-help</a>, which iteratively carries out the filtering. Due to use the iterative processing in <a class="program-reference-weak" href="prog1-2.html#filter-help" target="program-frame" title="prog1">filter-help</a>, we need to reverse the result in filter, <span><a href="prog1-2.html#filter-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in filter" alt="" border="0" /></a><a name="filtering-@a"></a></span>.</p></div></div><div class="elucidator-entry"><a name="composing"></a><div class="elucidator-entry-head"><a href="documentation.html#prog-evolution"><img src="./images/small-up.gif" title="New Programs - Old Documentation" alt="" border="0" /></a> <a href="documentation.html#filtering"><img src="./images/small-prev.gif" title="Filtering" alt="" border="0" /></a> <a href="documentation.html#enum-order"><img src="./images/small-next.gif" title="Enumeration ordering" alt="" border="0" /></a>  <br /> <b><font size="4"><span>3.2 &nbsp; &nbsp; Function composition</span></font></b></div><div class="body-normal"><p><em>The function <a class="program-reference-old-strong" href="prog2-1.html#compose" target="program-frame" title="prog2, source-version 1">compose</a> is renamed to <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a> in the latest version of prog2. The renaming implies that the documentation links to the original version (version 1). The mutual navigability between <a class="program-reference-old-strong" href="prog2-1.html#compose" target="program-frame" title="prog2, source-version 1">compose</a> and <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a> is lost at the program side. The function <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a> is seen as a new function.</em></p> <p><em>The function <a class="program-reference-strong" href="prog2-2.html#zip-lists" target="program-frame" title="prog2">zip-lists</a> has also been renamed. The original name was just <a class="program-reference-old-strong" href="prog2-1.html#zip" target="program-frame" title="prog2, source-version 1">zip</a>. In this case, the Elucidator is clever enough to identify the fact that <a class="program-reference-old-strong" href="prog2-1.html#zip" target="program-frame" title="prog2, source-version 1">zip</a> has been renamed to <a class="program-reference-strong" href="prog2-2.html#zip-lists" target="program-frame" title="prog2">zip-lists</a>. This is signalled with the icon <img src="images/renamed.gif" alt="" />, and the arrow <img src="images/gray-left-arrow.gif" alt="" /> links to the &#39;old name version&#39;.</em></p> <p><em>Why could the Elucidator not find out that <a class="program-reference-old-strong" href="prog2-1.html#compose" target="program-frame" title="prog2, source-version 1">compose</a> was renamed? Well - the only reason is that <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a> is recursive, and therefore the body of <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a> refers to its own name. Therefore the body of <a class="program-reference-old-strong" href="prog2-1.html#compose" target="program-frame" title="prog2, source-version 1">compose</a> and <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a> are not structurally equal!</em></p> <p>Composition of two or more functions can be done by the function <a class="program-reference-old-strong" href="prog2-1.html#compose" target="program-frame" title="prog2, source-version 1">compose</a>. The function handles two special cases first, namely the trivial composition of a single function <span><a href="prog2-1.html#compose-@b" target="program-frame"><img src="./images/source-mark-green.gif" title="A link to a program source marker in compose" alt="" border="0" /></a><a name="composing-@b"></a></span>, the typical composition of two functions <span><a href="prog2-1.html#compose-@c" target="program-frame"><img src="./images/source-mark-blue.gif" title="A link to a program source marker in compose" alt="" border="0" /></a><a name="composing-@c"></a></span>, and composition of more than two functions <span><a href="prog2-1.html#compose-@d" target="program-frame"><img src="./images/source-mark-black.gif" title="A link to a program source marker in compose" alt="" border="0" /></a><a name="composing-@d"></a></span>.</p></div></div><div class="elucidator-entry"><a name="enum-order"></a><div class="elucidator-entry-head"><a href="documentation.html#prog-evolution"><img src="./images/small-up.gif" title="New Programs - Old Documentation" alt="" border="0" /></a> <a href="documentation.html#composing"><img src="./images/small-prev.gif" title="Function composition" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>3.3 &nbsp; &nbsp; Enumeration ordering</span></font></b></div><div class="body-normal"><p><em>The function <a class="program-reference-old-strong" href="prog2-1.html#generate-leq" target="program-frame" title="prog2, source-version 1">generate-leq</a> has been deleted in version 2. However, of some reason (most likely an oversight) its helping function <a class="program-reference-strong" href="prog2-2.html#list-index" target="program-frame" title="prog2">list-index</a> has survived. The documentation below is only relevant for version 1. As shown several times before, the link to <kbd>generate-leq</kbd> is greyed.</em></p> <p>It is sometimes useful to be able to generate a &#39;less-than-or-equal&#39; function from an explicitly given enumeration ordering. This is done by the function <a class="program-reference-old-strong" href="prog2-1.html#generate-leq" target="program-frame" title="prog2, source-version 1">generate-leq</a> and its helping function <a class="program-reference-strong" href="prog2-2.html#list-index" target="program-frame" title="prog2">list-index</a>. Values of the enumeration-order are supposed to occur as constituents of some data structure. The selector function selector accesses the enumeration values within the data structure. Enumeration values are compared using eq-eq?, which is an optional parameter of <a class="program-reference-old-strong" href="prog2-1.html#generate-leq" target="program-frame" title="prog2, source-version 1">generate-leq</a> . Notice the pattern used for handling of optional parameters, and in particular the use of the function <a class="manual-reference" href="../../../../lib/man/general.html#optional-parameter" target="program-frame" title="Manual: general">optional-parameter</a>.</p></div></div><div class="elucidator-section"><a name="dated-documentation"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#prog-evolution"><img src="./images/small-prev.gif" title="New Programs - Old Documentation" alt="" border="0" /></a> <a href="documentation.html#doc-prog-evolution"><img src="./images/small-next.gif" title="Documenting Program Evolution" alt="" border="0" /></a></div><div><b><font size="5"><span>4 &nbsp; &nbsp; Marking old documentation</span></font></b></div><div class="body-normal"><p>In section <a class="documentation-reference" href="documentation.html#prog-evolution" target="documentation-frame" title="New Programs - Old Documentation">3</a> we have shown what happens if old documentation is attached to updated programs. When reading through section <a class="documentation-reference" href="documentation.html#filtering" target="documentation-frame" title="Filtering">3.1</a>, <a class="documentation-reference" href="documentation.html#composing" target="documentation-frame" title="Function composition">3.2</a> and <a class="documentation-reference" href="documentation.html#enum-order" target="documentation-frame" title="Enumeration ordering">3.3</a> we easily realize that (at least) section <a class="documentation-reference" href="documentation.html#enum-order" target="documentation-frame" title="Enumeration ordering">3.3</a> is outdated. It is possible to mark a documentation section or a documentation as outdated, by putting an explicit <kbd>program-version</kbd> number on it. Notice that this forces all links in this section to go to a particular version. Below we show this for section <a class="documentation-reference" href="documentation.html#enum-order" target="documentation-frame" title="Enumeration ordering">3.3</a>. To visually emphasize that section <a class="documentation-reference" href="documentation.html#enum-order-again" target="documentation-frame" title="Enumeration ordering">4.1</a> is outdated, it can be arranged that the whole section is shown on a grey background. This is done by using the body attribute  <kbd>body-style</kbd>. It is, as an alternative, possible reduce the text size of the body text.</p></div><div style="margin-left:10px;"><font size="2"><span>4.1 &nbsp; &nbsp; <a href="documentation.html#enum-order-again" target="documentation-frame"><font color="#000000">Enumeration ordering</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="enum-order-again"></a><div class="elucidator-entry-head"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td width="50%" align="left" valign="top"><a href="documentation.html#dated-documentation"><img src="./images/small-up.gif" title="Marking old documentation" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" /></td> <td width="50%" align="right" valign="top"><span class="section-entry-version-mark">Version 1</span></td></tr></tbody></table>  <br /> <b><font size="4"><span>4.1 &nbsp; &nbsp; Enumeration ordering</span></font></b></div><div class="body-grey"><p>It is some times useful to be able to generate a &#39;less-than-or-equal&#39; function from an explicitly given enumeration ordering. This is done by the function <a class="program-reference-old-strong" href="prog2-1.html#generate-leq" target="program-frame" title="prog2, source-version 1">generate-leq</a> and its helping function <a class="program-reference-old-strong" href="prog2-1.html#list-index" target="program-frame" title="prog2, version 1">list-index</a>. Values of the enumeration-order are supposed to occur as constituents of some data structure. The selector function selector accesses the enumeration values within the data structure. Enumeration values are compared using eq-eq?, which is an optional parameter of <a class="program-reference-old-strong" href="prog2-1.html#generate-leq" target="program-frame" title="prog2, source-version 1">generate-leq</a> . Notice the pattern used for handling of optional parameters, and in particular the use of the function  <a class="manual-reference" href="../../../../lib/man/general.html#optional-parameter" target="program-frame" title="Manual: general">optional-parameter</a>.</p></div></div><div class="elucidator-section"><a name="doc-prog-evolution"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#dated-documentation"><img src="./images/small-prev.gif" title="Marking old documentation" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" /></div><div><b><font size="5"><span>5 &nbsp; &nbsp; Documenting Program Evolution</span></font></b></div><div class="body-normal"><p>In section  <a class="documentation-reference" href="documentation.html#prog-evolution" target="documentation-frame" title="New Programs - Old Documentation">3</a> we showed what can happen if we use the Scheme Elucidator with outdated documentation on updated programs.</p> <p>In this section we will show how we can document the evolution of a program. Thus, here we rewrite the documentation of <a class="program-file-reference-strong" href="prog2-2.html" target="program-frame" title="Link to program file: prog2">prog2</a> in order to reflect the changes in the software. The documentation primarily emphasizes the software evolution from <a class="program-reference-old-strong" href="prog2-1.html" target="program-frame" title="Link to program file: prog2, version 1">version 1</a> to <a class="program-file-reference-strong" href="prog2-2.html" target="program-frame" title="Link to program file: prog2">version 2</a> of prog2.</p></div><div style="margin-left:10px;"><font size="2"><span>5.1 &nbsp; &nbsp; <a href="documentation.html#evol1" target="documentation-frame"><font color="#000000">How the program evolved...</font></a></span></font> <br /> <font size="2"><span>5.2 &nbsp; &nbsp; <a href="documentation.html#to-do" target="documentation-frame"><font color="#000000">Still work to do</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="evol1"></a><div class="elucidator-entry-head"><a href="documentation.html#doc-prog-evolution"><img src="./images/small-up.gif" title="Documenting Program Evolution" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#to-do"><img src="./images/small-next.gif" title="Still work to do" alt="" border="0" /></a>  <br /> <b><font size="4"><span>5.1 &nbsp; &nbsp; How the program evolved...</span></font></b></div><div class="body-normal"><p><em>We should start noticing that the program we discuss in this demo is solely a collection of a few, largely unrelated functions.</em></p> <p>The function <span class="none-reference">fac</span> has undergone a change from a <a class="program-reference-old-strong" href="prog1-1.html#fac" target="program-frame" title="prog1, version 1">recursive version</a> to an <a class="program-reference-strong" href="prog1-2.html#fac" target="program-frame" title="prog1">interative version</a>. Notice in this context that it is the helping function <a class="program-reference-strong" href="prog1-2.html#fac-iter" target="program-frame" title="prog1">fac-iter</a> that makes the real difference between the two.</p> <p>The functions <a class="program-reference-old-strong" href="prog1-1.html#head" target="program-frame" title="prog1, source-version 1">head</a> and <a class="program-reference-old-strong" href="prog1-1.html#tail" target="program-frame" title="prog1, source-version 1">tail</a> have been taken out of the program. We now use the native Scheme functions <a class="scheme-procedure-name" href="../../../../r5rs/r5rs_8.html#IDX321" target="program-frame" title="R5RS Scheme form">car</a> and <a class="scheme-procedure-name" href="../../../../r5rs/r5rs_8.html#IDX322" target="program-frame" title="R5RS Scheme form">cdr</a> instead.</p> <p>For some reason, we have renamed <a class="program-reference-old-strong" href="prog2-1.html#compose" target="program-frame" title="prog2, source-version 1">compose</a> to <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a>. Similary, we have renamed <a class="program-reference-old-strong" href="prog2-1.html#zip" target="program-frame" title="prog2, source-version 1">zip</a> to <a class="program-reference-strong" href="prog2-2.html#zip-lists" target="program-frame" title="prog2">zip-lists</a>. In a more realistic set up, this will affect a number of other functions as well.</p> <p>We decided to move <a class="program-reference-old-strong" href="prog2-1.html#filter" target="program-frame" title="prog2, version 1">filter</a> together with its <a class="program-reference-old-strong" href="prog2-1.html#filter-help" target="program-frame" title="prog2, version 1">helping function</a> to <a class="program-reference-strong" href="prog1-2.html#filter" target="program-frame" title="prog1">prog1</a>. Seen in retrospect, this was not a good decission.</p> <p><em>Notice that we in a few paragraphs, and with use of precice references to old and new definitions, can carry out a discussion of the way the program has evolved. Notice also how the icons <img src="images/new.gif" alt="" />, <img src="images/updated.gif" alt="" />, <img src="images/renamed.gif" alt="" /> ,and <img src="images/moved.gif" alt="" /> help us understand the fine grained evolution of the program source files.</em></p></div></div><div class="elucidator-entry"><a name="to-do"></a><div class="elucidator-entry-head"><a href="documentation.html#doc-prog-evolution"><img src="./images/small-up.gif" title="Documenting Program Evolution" alt="" border="0" /></a> <a href="documentation.html#evol1"><img src="./images/small-prev.gif" title="How the program evolved..." alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>5.2 &nbsp; &nbsp; Still work to do</span></font></b></div><div class="body-normal"><p><em>Even though the Scheme Elucidator is quite good at spotting new, updated, moved, or renamed definitions it is not yet perfect.</em></p> <p><em>If a definition is moved from one source file to another, we can trace the moving from the target to the source, but not yet in the other direction.</em></p> <p><em>A similar observation holds for renaming. Thus, we link from the new name definition to the old name definition (in a previous version of the same source file). But we are not yet able to trace the evolution from the old name version to the new name version.</em></p> <p><em>The Elucidator uses some very strict predicates for comparison of definitions. Currently, we use Schemes <a class="scheme-procedure-name" href="../../../../r5rs/r5rs_8.html#IDX200" target="program-frame" title="R5RS Scheme form">equal?</a> function. As we saw with <a class="program-reference-old-strong" href="prog2-1.html#compose" target="program-frame" title="prog2, source-version 1">compose</a> and <a class="program-reference-strong" href="prog2-2.html#compose-functions" target="program-frame" title="prog2">compose-functions</a>  it might be desirable to use a less strict function to determine if two definitions are considered as being equal. Maybe, differences in comments should not count. Maybe recursive calls should be &#39;name adjusted&#39;. And maybe other minor differences be taken into account explicitly.</em></p></div></div><div>&nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></div></body></html>