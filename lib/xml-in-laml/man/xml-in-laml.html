<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>Reference Manual of the XML-in-LAML library</title> <link href="../../../css-stylesheets/manual/manual-stylesheet.css" rel="stylesheet" type="text/css" /> <link rel="SHORTCUT ICON" href="../../../images/16-16-icon.ico" /></head> <body class="manual-body"><a name="MANUAL-TOP"></a> <table border="0px" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td width="33%" align="left" valign="top"><font size="2"><span class="manual-top-banner-when-generated">Generated: Monday, November 14, 2011, 09:18:51</span></font></td> <td width="34%" align="center" valign="top"><font size="2"><span>Copyright  &copy; 2011 , Kurt Nørmark</span></font></td> <td width="33%" align="right" valign="top"><font size="2"><a href="../../../index.html" title="The local LAML software home page" target="_top"><img src="../../../images/laml-home.gif" alt="The local LAML software home page" border="0" /></a></font></td></tr></tbody></table> <h1 class="manual-title">Reference Manual of the XML-in-LAML library</h1> <p></p> <h3><span class="manual-author-element"><span>Kurt Nørmark   &copy;</span> normark@cs.aau.dk</span> <span class="manual-affiliation-element">Department of Computer Science, Aalborg University, Denmark.</span></h3> <p></p>   <div class="manual-source-file-description">LAML Source file: lib/xml-in-laml/xml-in-laml.scm</div> <p></p> <a name="MANUAL-ABSTRACT"></a> <div class="manual-abstract"> The XML-in-LAML common parts, which are shared between all XML-in-LAML languages. The library is used together with <a href="../mirrors/man/xhtml10-transitional-mirror.html">XHTML 1.0 transitional</a>, <a href="../mirrors/man/xhtml10-strict-mirror.html">XHTML 1.0 strict</a>, <a href="../mirrors/man/xhtml10-frameset-mirror.html">XHTML 1.0 frameset</a>, <a href="../mirrors/man/xhtml11-mirror.html">XHTML1.1</a>,  <a href="../mirrors/man/svg11-mirror.html">SVG 1.1</a>,  <a href="../../../styles/xml-in-laml/lecture-notes/man/lecture-notes.html">LENO</a>,  and other similar mirrors.<p> This library loads <a href="../../man/final-state-automaton.html">the the LAML finite state automation library</a> for the sake of full document validation at document generation time.<p> <a href="../../../tools/xml-in-laml/man/xml-in-laml.html">The XML-in-LAML Mirror Generation tool</a> is able to create a set of Scheme mirror functions for a given XML DTD. The generated mirror functions together with the shared XML-in-LAML common library (this file) make up the effective mirror of an XML language.<p> This library is also designed to co-exists with non-validating HTML mirrors, such as <a href="../../html4.0-loose/man/surface.html"> Html4.0</a> (mainly the sake of LENO). However, it <b>cannot</b> be used together with other validating AST-based HTML mirrors, such as  <a href="../../html4.01-transitional-validating/man/surface.html"> Html4.01 transitional validating</a>. You should use a 100% XML-IN-LAML solution instead. By that we mean a solution, where also the HTML stuff is based on XML-in-LAML. In practical terms, it means that you should use one of the XHTML mirrors mentioned above.<p> </div> <p></p> <a name="MANUAL-TOC"></a> <div class="manual-table-of-contents-header">Table of Contents:</div> <div style="margin-left:12px;"><div><table border="0"><tbody><tr><td width="280" valign="top"><a href="#SECTION1"><font size="2">1.  XML front matters and end matters stuff.</font></a></td> <td width="280" valign="top"><a href="#SECTION11"><font size="2">11.  XML Processing Instructions.</font></a></td> <td width="280" valign="top"><a href="#SECTION21"><font size="2">21.  Rendering functions and procedures.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION2"><font size="2">2.  XML-in-LAML processing parameters.</font></a></td> <td width="280" valign="top"><a href="#SECTION12"><font size="2">12.  XML Language Bookkeeping.</font></a></td> <td width="280" valign="top"><a href="#SECTION22"><font size="2">22.  Element related functions.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION3"><font size="2">3.  Other Constants.</font></a></td> <td width="280" valign="top"><a href="#SECTION13"><font size="2">13.  The Language Map.</font></a></td> <td width="280" valign="top"><a href="#SECTION23"><font size="2">23.  XML in LAML abstraction functions.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION4"><font size="2">4.  AST constructors and basic selector selectors.</font></a></td> <td width="280" valign="top"><a href="#SECTION14"><font size="2">14.  XML Navigation Information.</font></a></td> <td width="280" valign="top"><a href="#SECTION24"><font size="2">24.  AST traversal and AST transformation functions.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION5"><font size="2">5.  High-level AST selector functions.</font></a></td> <td width="280" valign="top"><a href="#SECTION15"><font size="2">15.  Mirror Generation Functions.</font></a></td> <td width="280" valign="top"><a href="#SECTION25"><font size="2">25.  LAML location path and steps.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION6"><font size="2">6.  AST Mutators.</font></a></td> <td width="280" valign="top"><a href="#SECTION16"><font size="2">16.  Contents Validation.</font></a></td> <td width="280" valign="top"><a href="#SECTION26"><font size="2">26.  Element content models.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION7"><font size="2">7.  XML-in-LAML Predicates.</font></a></td> <td width="280" valign="top"><a href="#SECTION17"><font size="2">17.  Attribute Checking.</font></a></td> <td width="280" valign="top"><a href="#SECTION27"><font size="2">27.  Action procedure map.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION8"><font size="2">8.  Character Entities.</font></a></td> <td width="280" valign="top"><a href="#SECTION18"><font size="2">18.  Link Checking.</font></a></td> <td width="280" valign="top"><a href="#SECTION28"><font size="2">28.  Expansion of delayed procedural content items.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION9"><font size="2">9.  XML Comments.</font></a></td> <td width="280" valign="top"><a href="#SECTION19"><font size="2">19.  XML validation procedures.</font></a></td> <td width="280" valign="top"><a href="#SECTION29"><font size="2">29.  Other useful functions.</font></a></td></tr> <tr><td width="280" valign="top"><a href="#SECTION10"><font size="2">10.  XML CDATA Sections.</font></a></td> <td width="280" valign="top"><a href="#SECTION20"><font size="2">20.  XML warning procedures.</font></a></td> <td width="280" valign="top"> </td></tr></tbody></table></div></div> <p></p> <a name="MANUAL-INDEX"></a> <div class="manual-alphabetic-index-header">Alphabetic index:</div> <div style="margin-left:12px;"><table border="3" class="manual-alphabetic-index"><tr><td class="manual-header-title"><a href="#action-procedure-map-of">action-procedure-map-of</a></td> <td class="manual-header-form">(action-procedure-map-of language)</td> <td class="manual-header-description">Return the action procedure map of the XML language.</td></tr> <tr><td class="manual-header-title"><a href="#action-procedure-of-language">action-procedure-of-language</a></td> <td class="manual-header-form">(action-procedure-of-language element-name language)</td> <td class="manual-header-description">Return the action procedure of the XML element named element-name in the XML language.</td></tr> <tr><td class="manual-header-title"><a href="#action-procedure-of-map">action-procedure-of-map</a></td> <td class="manual-header-form">(action-procedure-of-map element-name action-procedure-map)</td> <td class="manual-header-description">Return the action procedure of the XML element named element-name relative to the action procedure map action-procedure-map.</td></tr> <tr><td class="manual-header-title"><a href="#activator-via-language-map">activator-via-language-map</a></td> <td class="manual-header-form">(activator-via-language-map language)</td> <td class="manual-header-description">Return an activator function for language.</td></tr> <tr><td class="manual-header-title"><a href="#and-steps">and-steps</a></td> <td class="manual-header-form">(and-steps  . location-step-procedure-list)</td> <td class="manual-header-description">A higher-order function that conjuncts (ands) some location steps to a single location step.</td></tr> <tr><td class="manual-header-title"><a href="#apply-transformation-on">apply-transformation-on</a></td> <td class="manual-header-form">(apply-transformation-on source-items)</td> <td class="manual-header-description">Do recursive transformation on a content source item, or a list of content source items (such as an AST, or a list of ASTs).</td></tr> <tr><td class="manual-header-title"><a href="#ast-attribute">ast-attribute</a></td> <td class="manual-header-form">(ast-attribute ast name [default-attribute-value])</td> <td class="manual-header-description">Return the value of the attribute name in ast, or #f if no such attribute exists.</td></tr> <tr><td class="manual-header-title"><a href="#ast-attributes">ast-attributes</a></td> <td class="manual-header-form">(ast-attributes ast)</td> <td class="manual-header-description">Return the list of attributes of the ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-copy">ast-copy</a></td> <td class="manual-header-form">(ast-copy ast)</td> <td class="manual-header-description">Return a copy of ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-element-name">ast-element-name</a></td> <td class="manual-header-form">(ast-element-name ast)</td> <td class="manual-header-description">Return the root element name of ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-internal-attribute">ast-internal-attribute</a></td> <td class="manual-header-form">(ast-internal-attribute ast name [default-attribute-value])</td> <td class="manual-header-description">Return the value of the internal attribute name in ast, or #f if the internal attribute does not exist.</td></tr> <tr><td class="manual-header-title"><a href="#ast-internal-attributes">ast-internal-attributes</a></td> <td class="manual-header-form">(ast-internal-attributes ast)</td> <td class="manual-header-description">Return the list of internal attributes of the ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-kind">ast-kind</a></td> <td class="manual-header-form">(ast-kind ast)</td> <td class="manual-header-description">Return the kind of the ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-language">ast-language</a></td> <td class="manual-header-form">(ast-language ast)</td> <td class="manual-header-description">Return the language of the ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-node">ast-node</a></td> <td class="manual-header-form">(ast-node)</td> <td class="manual-header-description">Generates a location step that tests for x being a node.</td></tr> <tr><td class="manual-header-title"><a href="#ast-of-type?">ast-of-type?</a></td> <td class="manual-header-form">(ast-of-type? type name)</td> <td class="manual-header-description">A higher-order function that returns an AST predicate, which checks if the type of the AST is name.</td></tr> <tr><td class="manual-header-title"><a href="#ast-strong?">ast-strong?</a></td> <td class="manual-header-form">(ast-strong? x)</td> <td class="manual-header-description">Is the parameter x an AST in a stronger interpretation than ast? Using the native LAML representation, ast-strong? and ast? are identical.</td></tr> <tr><td class="manual-header-title"><a href="#ast-subtree">ast-subtree</a></td> <td class="manual-header-form">(ast-subtree ast el-name [n])</td> <td class="manual-header-description">Return a specific subtree of ast, namely the n&#39;th subtree with element-name el-name.</td></tr> <tr><td class="manual-header-title"><a href="#ast-subtrees">ast-subtrees</a></td> <td class="manual-header-form">(ast-subtrees ast)</td> <td class="manual-header-description">Return the list of substrees of ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-text">ast-text</a></td> <td class="manual-header-form">(ast-text ast)</td> <td class="manual-header-description">Return a string of the aggregated CDATA contents of ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-text-containing">ast-text-containing</a></td> <td class="manual-header-form">(ast-text-containing str)</td> <td class="manual-header-description">Generates a location step that test if str is part of the immediate textual content.</td></tr> <tr><td class="manual-header-title"><a href="#ast-text-deep">ast-text-deep</a></td> <td class="manual-header-form">(ast-text-deep ast)</td> <td class="manual-header-description">Return a string of the aggregated CDATA contents of ast.</td></tr> <tr><td class="manual-header-title"><a href="#ast-text-deep-containing">ast-text-deep-containing</a></td> <td class="manual-header-form">(ast-text-deep-containing str)</td> <td class="manual-header-description">Generates a location step that tests if str is part of the deep textual content.</td></tr> <tr><td class="manual-header-title"><a href="#ast-to-parse-tree">ast-to-parse-tree</a></td> <td class="manual-header-form">(ast-to-parse-tree ast)</td> <td class="manual-header-description">Convert an abtract syntax tree to a parse tree.</td></tr> <tr><td class="manual-header-title"><a href="#ast?">ast?</a></td> <td class="manual-header-form">(ast? x)</td> <td class="manual-header-description">Is the parameter x an AST.</td></tr> <tr><td class="manual-header-title"><a href="#attribute-getter">attribute-getter</a></td> <td class="manual-header-form">(attribute-getter attribute-name [default-value])</td> <td class="manual-header-description">A higher-order function which returns an attribute getter function on ASTs.</td></tr> <tr><td class="manual-header-title"><a href="#base-url-extractor-of-xml-language">base-url-extractor-of-xml-language</a></td> <td class="manual-header-form">(base-url-extractor-of-xml-language xml-language)</td> <td class="manual-header-description">Return the registered base-url-extractor function of xml-language.</td></tr> <tr><td class="manual-header-title"><a href="#can-have-element-constituent?">can-have-element-constituent?</a></td> <td class="manual-header-form">(can-have-element-constituent? ast el-name)</td> <td class="manual-header-description">Can ast have a direct or indirect constituent (sub-ast) with element name el-name.</td></tr> <tr><td class="manual-header-title"><a href="#causes-xml-in-laml-name-clash?">causes-xml-in-laml-name-clash?</a></td> <td class="manual-header-form">(causes-xml-in-laml-name-clash? name)</td> <td class="manual-header-description">Is name involved in a name clash among the registered xml-in-laml languages? </td></tr> <tr><td class="manual-header-title"><a href="#cdata-section">cdata-section</a></td> <td class="manual-header-form">(cdata-section  . cdata-text-list)</td> <td class="manual-header-description">Construct an XML CDATA section and return it.</td></tr> <tr><td class="manual-header-title"><a href="#cdata-section-contents">cdata-section-contents</a></td> <td class="manual-header-form">(cdata-section-contents cdata-section)</td> <td class="manual-header-description">Return the cdata text of an XML comment.</td></tr> <tr><td class="manual-header-title"><a href="#cdata-section?">cdata-section?</a></td> <td class="manual-header-form">(cdata-section? x)</td> <td class="manual-header-description">Is x an XML CDATA section? </td></tr> <tr><td class="manual-header-title"><a href="#cdata?">cdata?</a></td> <td class="manual-header-form">(cdata? x)</td> <td class="manual-header-description">Is the parameter x CDATA </td></tr> <tr><td class="manual-header-title"><a href="#char-ref">char-ref</a></td> <td class="manual-header-form">(char-ref x)</td> <td class="manual-header-description">Return a character reference value for x.</td></tr> <tr><td class="manual-header-title"><a href="#char-ref-value">char-ref-value</a></td> <td class="manual-header-form">(char-ref-value char-ref-structure)</td> <td class="manual-header-description">Return the number or symbol of char-ref-structure.</td></tr> <tr><td class="manual-header-title"><a href="#char-ref?">char-ref?</a></td> <td class="manual-header-form">(char-ref? x)</td> <td class="manual-header-description">Is x a character reference.</td></tr> <tr><td class="manual-header-title"><a href="#check-absolute-url-list!">check-absolute-url-list!</a></td> <td class="manual-header-form">(check-absolute-url-list! absolute-urls)</td> <td class="manual-header-description">Checks the existense of the resources addressed by the urls in absoute-urls.</td></tr> <tr><td class="manual-header-title"><a href="#check-id-and-idref-attributes!">check-id-and-idref-attributes!</a></td> <td class="manual-header-form">(check-id-and-idref-attributes!)</td> <td class="manual-header-description">Check that the ID and IDREF attribute values are used according to the XML 1.0 specification.</td></tr> <tr><td class="manual-header-title"><a href="#check-relative-url-list!">check-relative-url-list!</a></td> <td class="manual-header-form">(check-relative-url-list! relative-urls)</td> <td class="manual-header-description">Checks the existense of the resources addressed by the urls in relative-urls Some of the elements may be boolean #f, which signals that they should not be checked.</td></tr> <tr><td class="manual-header-title"><a href="#collect-links-for-later-checking-in-ast!">collect-links-for-later-checking-in-ast!</a></td> <td class="manual-header-form">(collect-links-for-later-checking-in-ast! xml-ast absolute-target-html-file)</td> <td class="manual-header-description">Collect the urls in xml-ast, which are about to be written to the file absolute-target-html-file (full path).</td></tr> <tr><td class="manual-header-title"><a href="#compact-end-tag-rendering?">compact-end-tag-rendering?</a></td> <td class="manual-header-form">compact-end-tag-rendering?</td> <td class="manual-header-description">A boolean variable that controls how end tags are rendered when pretty printing is applied.</td></tr> <tr><td class="manual-header-title"><a href="#compose-steps">compose-steps</a></td> <td class="manual-header-form">(compose-steps  . location-step-procedure-list)</td> <td class="manual-header-description">Compose the locatation steps in location-step-procedure-list to a single location step.</td></tr> <tr><td class="manual-header-title"><a href="#content-model-map-of">content-model-map-of</a></td> <td class="manual-header-form">(content-model-map-of language)</td> <td class="manual-header-description">Returns the content model map (an association list) of a given XML language.</td></tr> <tr><td class="manual-header-title"><a href="#content-model-of">content-model-of</a></td> <td class="manual-header-form">(content-model-of element-name language)</td> <td class="manual-header-description">Return the content model of the element named element-name in XML language.</td></tr> <tr><td class="manual-header-title"><a href="#contents-data-strong?">contents-data-strong?</a></td> <td class="manual-header-form">(contents-data-strong? x [language])</td> <td class="manual-header-description">Is the parameter x a contents element item, with ASTs recognized in the strong form (using ast-strong?) </td></tr> <tr><td class="manual-header-title"><a href="#contents-data?">contents-data?</a></td> <td class="manual-header-form">(contents-data? x [language])</td> <td class="manual-header-description">Is the parameter x a contents element item.</td></tr> <tr><td class="manual-header-title"><a href="#copy-ast-mutate-attributes">copy-ast-mutate-attributes</a></td> <td class="manual-header-form">(copy-ast-mutate-attributes ast  . new-attributes)</td> <td class="manual-header-description">Shallow copy ast and replace selected attributes of ast with new attributes.</td></tr> <tr><td class="manual-header-title"><a href="#delayed-procedural-contents-element?">delayed-procedural-contents-element?</a></td> <td class="manual-header-form">(delayed-procedural-contents-element? x)</td> <td class="manual-header-description">Is x a delayed procedural content element? </td></tr> <tr><td class="manual-header-title"><a href="#display-xml-warning">display-xml-warning</a></td> <td class="manual-header-form">(display-xml-warning  . messages)</td> <td class="manual-header-description">A variant of display-warning which prefixes the warning text with a &#39;XML Warning&#39; prefix.</td></tr> <tr><td class="manual-header-title"><a href="#element-names-of-language">element-names-of-language</a></td> <td class="manual-header-form">(element-names-of-language language)</td> <td class="manual-header-description">Return the element names of language, as defined by its language map.</td></tr> <tr><td class="manual-header-title"><a href="#end-laml">end-laml</a></td> <td class="manual-header-form">(end-laml)</td> <td class="manual-header-description">A redefinition of end-laml from the fundamental LAML library.</td></tr> <tr><td class="manual-header-title"><a href="#end-tag-of">end-tag-of</a></td> <td class="manual-header-form">(end-tag-of xml-clause)</td> <td class="manual-header-description">Render the end-tag of xml-clause (a LAML AST) and return the rendered string.</td></tr> <tr><td class="manual-header-title"><a href="#expand-procedural-content-items-in-ast">expand-procedural-content-items-in-ast</a></td> <td class="manual-header-form">(expand-procedural-content-items-in-ast ast)</td> <td class="manual-header-description">Expand all delayed procedural content items (recursively) inside the ast.</td></tr> <tr><td class="manual-header-title"><a href="#explicit-space">explicit-space</a></td> <td class="manual-header-form">explicit-space</td> <td class="manual-header-description">The explicit white space value, as used internally in ast.</td></tr> <tr><td class="manual-header-title"><a href="#explicit-space-suppress">explicit-space-suppress</a></td> <td class="manual-header-form">explicit-space-suppress</td> <td class="manual-header-description">The explicit white space suppress value.</td></tr> <tr><td class="manual-header-title"><a href="#extraordinary-allow-element?">extraordinary-allow-element?</a></td> <td class="manual-header-form">(extraordinary-allow-element? element-name context-element-name)</td> <td class="manual-header-description">Is element-name extraordinarily allowed within context-element-name (both symbols).</td></tr> <tr><td class="manual-header-title"><a href="#find-asts">find-asts</a></td> <td class="manual-header-form">(find-asts ast el-name [ast-transformer])</td> <td class="manual-header-description">Find and return a list of transformed sub ASTs of ast (first parameter) each with a root element of name el-name.</td></tr> <tr><td class="manual-header-title"><a href="#find-first-ast">find-first-ast</a></td> <td class="manual-header-form">(find-first-ast ast el-name [ast-transformer])</td> <td class="manual-header-description">Find and return a sub-AST of ast (first parameter) with a root element of name el-name.</td></tr> <tr><td class="manual-header-title"><a href="#forced-white-space?">forced-white-space?</a></td> <td class="manual-header-form">(forced-white-space? x)</td> <td class="manual-header-description">Is the parameter x a white space mark.</td></tr> <tr><td class="manual-header-title"><a href="#free-double-element">free-double-element</a></td> <td class="manual-header-form">(free-double-element element-name)</td> <td class="manual-header-description">Generates a function that returns a potentially non-standard double AST for element-name in xml-language.</td></tr> <tr><td class="manual-header-title"><a href="#free-single-element">free-single-element</a></td> <td class="manual-header-form">(free-single-element element-name)</td> <td class="manual-header-description">Generates a function that returns a potentially non-standard single AST for element-name in xml-language.</td></tr> <tr><td class="manual-header-title"><a href="#generate-xml-mirror-function">generate-xml-mirror-function</a></td> <td class="manual-header-form">(generate-xml-mirror-function validation-procedure tag-name default-dtd-attributes single-double-kind language overlap-check? action-procedure)</td> <td class="manual-header-description">Return an XML mirror surface function, in which textual content parameters and attribute value pairs can be given in a very liberal fashion.</td></tr> <tr><td class="manual-header-title"><a href="#get-mirror-function">get-mirror-function</a></td> <td class="manual-header-form">(get-mirror-function language-map element-name)</td> <td class="manual-header-description">Return the mirror function based on element-name from language map.</td></tr> <tr><td class="manual-header-title"><a href="#has-ast-attribute?">has-ast-attribute?</a></td> <td class="manual-header-form">(has-ast-attribute? ast name)</td> <td class="manual-header-description">Return if the ast has a name attribute  </td></tr> <tr><td class="manual-header-title"><a href="#has-internal-ast-attribute?">has-internal-ast-attribute?</a></td> <td class="manual-header-form">(has-internal-ast-attribute? ast name)</td> <td class="manual-header-description">Does the internal ast attribute called name exist? </td></tr> <tr><td class="manual-header-title"><a href="#has-procedural-content-items-deep?">has-procedural-content-items-deep?</a></td> <td class="manual-header-form">(has-procedural-content-items-deep? ast)</td> <td class="manual-header-description">Is there any procedure content items in ast.</td></tr> <tr><td class="manual-header-title"><a href="#has-procedural-content-items?">has-procedural-content-items?</a></td> <td class="manual-header-form">(has-procedural-content-items? x)</td> <td class="manual-header-description">Is there any procedure content items among the immediate constituents of x (usually an AST).</td></tr> <tr><td class="manual-header-title"><a href="#identifier-of-predicate">identifier-of-predicate</a></td> <td class="manual-header-form">(identifier-of-predicate p)</td> <td class="manual-header-description">Return the identifier function of the predicate p.</td></tr> <tr><td class="manual-header-title"><a href="#indentation-delta">indentation-delta</a></td> <td class="manual-header-form">indentation-delta</td> <td class="manual-header-description">An integer which gives the level of indentation for pretty printed output.</td></tr> <tr><td class="manual-header-title"><a href="#laml-character-encoding">laml-character-encoding</a></td> <td class="manual-header-form">laml-character-encoding</td> <td class="manual-header-description">The character encoding used together with XML in LAML.</td></tr> <tr><td class="manual-header-title"><a href="#laml-internal-representation">laml-internal-representation</a></td> <td class="manual-header-form">laml-internal-representation</td> <td class="manual-header-description">A variable that determines the internal representation used for XML-in-LAML.</td></tr> <tr><td class="manual-header-title"><a href="#laml-source-prepare">laml-source-prepare</a></td> <td class="manual-header-form">(laml-source-prepare laml-lst)</td> <td class="manual-header-description">Prepare laml-list to be used as input to a mirror function.</td></tr> <tr><td class="manual-header-title"><a href="#laml-xml-version">laml-xml-version</a></td> <td class="manual-header-form">laml-xml-version</td> <td class="manual-header-description">The version of XML used together with LAML.</td></tr> <tr><td class="manual-header-title"><a href="#language-in-use?">language-in-use?</a></td> <td class="manual-header-form">(language-in-use? language)</td> <td class="manual-header-description">is language in use - is it registered as an xml-in-laml language? </td></tr> <tr><td class="manual-header-title"><a href="#language-map-of">language-map-of</a></td> <td class="manual-header-form">(language-map-of language)</td> <td class="manual-header-description">Return the language map of language.</td></tr> <tr><td class="manual-header-title"><a href="#languages-in-use">languages-in-use</a></td> <td class="manual-header-form">(languages-in-use)</td> <td class="manual-header-description">Return the list of language in used, as registered by register-xml-in-laml-language.</td></tr> <tr><td class="manual-header-title"><a href="#location-step">location-step</a></td> <td class="manual-header-form">(location-step axis [node-test filtering])</td> <td class="manual-header-description">Generates and returns a location step procedure for a given axis, name, and filtering.</td></tr> <tr><td class="manual-header-title"><a href="#make-ast">make-ast</a></td> <td class="manual-header-form">(make-ast element-name contents attributes kind language [internal-attributes])</td> <td class="manual-header-description">Make an AST given element-name, contents, a property list of attributes, a kind (single/double), and an XML language name.</td></tr> <tr><td class="manual-header-title"><a href="#match-ast">match-ast</a></td> <td class="manual-header-form">(match-ast ast  . locator-list)</td> <td class="manual-header-description">Apply each function in locator-list sequentially on the list of ASTs resulting from previous location step.</td></tr> <tr><td class="manual-header-title"><a href="#negate-step">negate-step</a></td> <td class="manual-header-form">(negate-step location-step-procedure)</td> <td class="manual-header-description">A higher-order function that negates a single location-step procedure.</td></tr> <tr><td class="manual-header-title"><a href="#nt:attribute">nt:attribute</a></td> <td class="manual-header-form">(nt:attribute name value)</td> <td class="manual-header-description">A filtering function that tests if the node has an attribute name with the given value.</td></tr> <tr><td class="manual-header-title"><a href="#nt:child-name">nt:child-name</a></td> <td class="manual-header-form">(nt:child-name name)</td> <td class="manual-header-description">A filtering function that tests if the node has name.</td></tr> <tr><td class="manual-header-title"><a href="#nt:child-number">nt:child-number</a></td> <td class="manual-header-form">(nt:child-number q)</td> <td class="manual-header-description">A filtering function that tests if the node is number q in its context.</td></tr> <tr><td class="manual-header-title"><a href="#nt:for-which">nt:for-which</a></td> <td class="manual-header-form">(nt:for-which  . location-steps)</td> <td class="manual-header-description">A filtering function which test if the list of location steps leads success (leads to a non-empty result).</td></tr> <tr><td class="manual-header-title"><a href="#nt:for-which-predidate-holds">nt:for-which-predidate-holds</a></td> <td class="manual-header-form">(nt:for-which-predidate-holds pred  . location-steps)</td> <td class="manual-header-description">A filtering function which applies a list of location steps on the node, a passes the results of these steps to the predicate pred.</td></tr> <tr><td class="manual-header-title"><a href="#nt:last">nt:last</a></td> <td class="manual-header-form">(nt:last)</td> <td class="manual-header-description">A filtering function that tests if the node is the last in its context.</td></tr> <tr><td class="manual-header-title"><a href="#or-steps">or-steps</a></td> <td class="manual-header-form">(or-steps  . location-step-procedure-list)</td> <td class="manual-header-description">A higher-order function that disjuncts (ors) some location steps to a single location step.</td></tr> <tr><td class="manual-header-title"><a href="#positive-to-negative-ast-spacing">positive-to-negative-ast-spacing</a></td> <td class="manual-header-form">(positive-to-negative-ast-spacing ast)</td> <td class="manual-header-description">Given an AST with positive white spacing (such as an AST returned by mirror function).</td></tr> <tr><td class="manual-header-title"><a href="#possible-attributes-rooted-by-element">possible-attributes-rooted-by-element</a></td> <td class="manual-header-form">(possible-attributes-rooted-by-element element-name language)</td> <td class="manual-header-description">Return a list of attribute names that can appear as direct or indirect constituents of an AST rooted by element-name.</td></tr> <tr><td class="manual-header-title"><a href="#possible-elements-rooted-by-element">possible-elements-rooted-by-element</a></td> <td class="manual-header-form">(possible-elements-rooted-by-element element-name language)</td> <td class="manual-header-description">Return a list of element names that can appear as direct or indirect constituents of an AST rooted by element-name.</td></tr> <tr><td class="manual-header-title"><a href="#preferred-maximum-width">preferred-maximum-width</a></td> <td class="manual-header-form">preferred-maximum-width</td> <td class="manual-header-description">An integer that expresses the prefered maximum column width for pretty printed ouput.</td></tr> <tr><td class="manual-header-title"><a href="#pretty-render-to-output-port">pretty-render-to-output-port</a></td> <td class="manual-header-form">(pretty-render-to-output-port xml-clause output-port [prolog epilog])</td> <td class="manual-header-description">Pretty print the XML clause (an AST) to output-port.</td></tr> <tr><td class="manual-header-title"><a href="#pretty-xml-render">pretty-xml-render</a></td> <td class="manual-header-form">(pretty-xml-render xml-clause [prolog epilog])</td> <td class="manual-header-description">Pretty print xml-clause (a LAML AST) and return the rendered string.</td></tr> <tr><td class="manual-header-title"><a href="#process-ast!">process-ast!</a></td> <td class="manual-header-form">(process-ast! ast [given-language action-map])</td> <td class="manual-header-description">Process the ast, the internal document representation, by means of the action procedures in action-map.</td></tr> <tr><td class="manual-header-title"><a href="#processing-instruction">processing-instruction</a></td> <td class="manual-header-form">(processing-instruction pi-target  . text-list)</td> <td class="manual-header-description">Construct an XML processing instruction and return it.</td></tr> <tr><td class="manual-header-title"><a href="#processing-instruction-contents">processing-instruction-contents</a></td> <td class="manual-header-form">(processing-instruction-contents pi)</td> <td class="manual-header-description">Return the processing instruction text part of the processing instruction pi.</td></tr> <tr><td class="manual-header-title"><a href="#processing-instruction-target">processing-instruction-target</a></td> <td class="manual-header-form">(processing-instruction-target pi)</td> <td class="manual-header-description">Return the processing instruction pi-target of the processing instruction pi.</td></tr> <tr><td class="manual-header-title"><a href="#processing-instruction?">processing-instruction?</a></td> <td class="manual-header-form">(processing-instruction? x)</td> <td class="manual-header-description">Is x an XML processing instruction? </td></tr> <tr><td class="manual-header-title"><a href="#put-mirror-function">put-mirror-function</a></td> <td class="manual-header-form">(put-mirror-function language-map element-name mirror-function)</td> <td class="manual-header-description">Update the language map by the association of element-name and mirror function.</td></tr> <tr><td class="manual-header-title"><a href="#register-xml-in-laml-action-procedures">register-xml-in-laml-action-procedures</a></td> <td class="manual-header-form">(register-xml-in-laml-action-procedures language action-procedure-structure)</td> <td class="manual-header-description">Register the action procedure structure for XML language.</td></tr> <tr><td class="manual-header-title"><a href="#register-xml-in-laml-content-models">register-xml-in-laml-content-models</a></td> <td class="manual-header-form">(register-xml-in-laml-content-models language content-model-structure)</td> <td class="manual-header-description">Register the content model structure for XML language.</td></tr> <tr><td class="manual-header-title"><a href="#register-xml-in-laml-language">register-xml-in-laml-language</a></td> <td class="manual-header-form">(register-xml-in-laml-language language language-map)</td> <td class="manual-header-description">Register that language (the first parameter) is an XML language in use in the current LAML session.</td></tr> <tr><td class="manual-header-title"><a href="#register-xml-in-laml-navigator">register-xml-in-laml-navigator</a></td> <td class="manual-header-form">(register-xml-in-laml-navigator language navigator-structure)</td> <td class="manual-header-description">Register navigator-structure and an XML-in-LAML navigator for language.</td></tr> <tr><td class="manual-header-title"><a href="#register-xml-in-laml-validators">register-xml-in-laml-validators</a></td> <td class="manual-header-form">(register-xml-in-laml-validators language validator-structure)</td> <td class="manual-header-description">Register validator-structure for language.</td></tr> <tr><td class="manual-header-title"><a href="#remove-ast-attribute!">remove-ast-attribute!</a></td> <td class="manual-header-form">(remove-ast-attribute! ast name)</td> <td class="manual-header-description">Remove the attribute name and its value from the attribute list of ast.</td></tr> <tr><td class="manual-header-title"><a href="#remove-ast-attributes!">remove-ast-attributes!</a></td> <td class="manual-header-form">(remove-ast-attributes! ast name-list)</td> <td class="manual-header-description">Remove all the attributes in name-list and their values from the attribute list of ast.</td></tr> <tr><td class="manual-header-title"><a href="#remove-internal-ast-attribute!">remove-internal-ast-attribute!</a></td> <td class="manual-header-form">(remove-internal-ast-attribute! ast name)</td> <td class="manual-header-description">Remove the internal attribute name and its value from the internal attribute list of ast.</td></tr> <tr><td class="manual-header-title"><a href="#render-as-laml-string">render-as-laml-string</a></td> <td class="manual-header-form">(render-as-laml-new xml-clause [prolog epilog])</td> <td class="manual-header-description">Render the xml-clause (a LAML AST) as a (non-pretty printed) LAML source text to output-port and return the rendered string.</td></tr> <tr><td class="manual-header-title"><a href="#render-as-laml-to-output-port">render-as-laml-to-output-port</a></td> <td class="manual-header-form">(render-as-laml-to-output xml-clause output-port)</td> <td class="manual-header-description">Render the XML clause (an AST) as a (non-pretty printed) LAML source text to output-port.</td></tr> <tr><td class="manual-header-title"><a href="#render-end-tag-to-output-port">render-end-tag-to-output-port</a></td> <td class="manual-header-form">(render-end-tag-to-output-port xml-clause output-port)</td> <td class="manual-header-description">Render the end-tag of xml-clause (a LAML AST) and return the rendered string.</td></tr> <tr><td class="manual-header-title"><a href="#render-start-tag-to-output-port">render-start-tag-to-output-port</a></td> <td class="manual-header-form">(render-start-tag-to-output-port xml-clause output-port)</td> <td class="manual-header-description">Render the start-tag of xml-clause (a LAML AST) to output-port.</td></tr> <tr><td class="manual-header-title"><a href="#render-to-output-port">render-to-output-port</a></td> <td class="manual-header-form">(render-to-output xml-clause output-port [prolog epilog])</td> <td class="manual-header-description">Render the XML clause (an AST) to output-port.</td></tr> <tr><td class="manual-header-title"><a href="#required-implied-attributes">required-implied-attributes</a></td> <td class="manual-header-form">(required-implied-attributes required-attribute-names implied-attribute-names [tag-name])</td> <td class="manual-header-description">A higher-order function which returns an attribute checker.</td></tr> <tr><td class="manual-header-title"><a href="#selected-internal-attributes">selected-internal-attributes</a></td> <td class="manual-header-form">(selected-internal-attributes ast prefix)</td> <td class="manual-header-description">Return those of the internal attributes of ast whose attribute name are prefixed with prefix.</td></tr> <tr><td class="manual-header-title"><a href="#set-ast-attribute!">set-ast-attribute!</a></td> <td class="manual-header-form">(set-ast-attribute! ast name value)</td> <td class="manual-header-description">Mutate the value of the ast attribute name to value.</td></tr> <tr><td class="manual-header-title"><a href="#set-ast-attributes!">set-ast-attributes!</a></td> <td class="manual-header-form">(set-ast-attributes! ast prop-list)</td> <td class="manual-header-description">Replace the attributes of ast with the attributes in prop-list (a property list).</td></tr> <tr><td class="manual-header-title"><a href="#set-internal-ast-attribute!">set-internal-ast-attribute!</a></td> <td class="manual-header-form">(set-internal-ast-attribute! ast name value)</td> <td class="manual-header-description">Mutate the value of the internal ast attribute name to value.</td></tr> <tr><td class="manual-header-title"><a href="#set-internal-ast-attributes!">set-internal-ast-attributes!</a></td> <td class="manual-header-form">(set-internal-ast-attributes! ast prop-list)</td> <td class="manual-header-description">Replace the internal attributes of ast with the attributes in prop-list (a property list).</td></tr> <tr><td class="manual-header-title"><a href="#set-xml-accept-extended-contents-in">set-xml-accept-extended-contents-in</a></td> <td class="manual-header-form">(set-xml-accept-extended-contents-in language new-value)</td> <td class="manual-header-description">Controls the handling of LAML element contents items in language.</td></tr> <tr><td class="manual-header-title"><a href="#set-xml-accept-only-string-valued-attributes-in">set-xml-accept-only-string-valued-attributes-in</a></td> <td class="manual-header-form">(set-xml-accept-only-string-valued-attributes-in language new-value)</td> <td class="manual-header-description">Controls the handling of LAML attribute values in language.</td></tr> <tr><td class="manual-header-title"><a href="#set-xml-char-transformation-table-in">set-xml-char-transformation-table-in</a></td> <td class="manual-header-form">(set-xml-char-transformation-table-in language new-value)</td> <td class="manual-header-description">Set the HTML/XML character transformation table used for language.</td></tr> <tr><td class="manual-header-title"><a href="#set-xml-link-checking-functions">set-xml-link-checking-functions</a></td> <td class="manual-header-form">(set-xml-link-checking-functions xml-language url-extractor-function base-url-extractor-function)</td> <td class="manual-header-description">Register url-extractor-function and base-url-extractor-function in the XML link checking map of xml-language.</td></tr> <tr><td class="manual-header-title"><a href="#set-xml-transliterate-character-data-in">set-xml-transliterate-character-data-in</a></td> <td class="manual-header-form">(set-xml-transliterate-character-data-in language new-value)</td> <td class="manual-header-description">Ask for transliteration of all CDATA characters via an HTML/XML character transformation table.</td></tr> <tr><td class="manual-header-title"><a href="#standard-prolog">standard-prolog</a></td> <td class="manual-header-form">(standard-prolog [language])</td> <td class="manual-header-description">The standard-prolog function as redefined for XML.</td></tr> <tr><td class="manual-header-title"><a href="#start-tag-of">start-tag-of</a></td> <td class="manual-header-form">(start-tag-of xml-clause)</td> <td class="manual-header-description">Render the start-tag of xml-clause (a LAML AST) and return the rendered string.</td></tr> <tr><td class="manual-header-title"><a href="#terminal-ast-node?">terminal-ast-node?</a></td> <td class="manual-header-form">(terminal-ast-node? x)</td> <td class="manual-header-description">Is x an ast nodes without subtrees? </td></tr> <tr><td class="manual-header-title"><a href="#transform-ast">transform-ast</a></td> <td class="manual-header-form">(transform-ast transform-specs source-items)</td> <td class="manual-header-description">Transform source item(s) by means of transform-specs.</td></tr> <tr><td class="manual-header-title"><a href="#transform-ast-list">transform-ast-list</a></td> <td class="manual-header-form">(transform-ast-list input-list  . transform-specs)</td> <td class="manual-header-description">Apply the transformation-specs on input-list and return a list of transformed input elements.</td></tr> <tr><td class="manual-header-title"><a href="#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a></td> <td class="manual-header-form">(traverse-and-collect-all-from-ast ast-tree node-interesting? ast-transformer)</td> <td class="manual-header-description">Traverse all nodes of the AST ast-tree, and return transformed subtrees that satisfy the node-interesting? predicate.</td></tr> <tr><td class="manual-header-title"><a href="#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a></td> <td class="manual-header-form">(traverse-and-collect-first-from-ast ast-tree node-interesting? ast-transformer)</td> <td class="manual-header-description">Traverse the AST ast-tree, and return a transformation of the first subtree which satisfies the predicate node-interesting.</td></tr> <tr><td class="manual-header-title"><a href="#unique-ast-attribute">unique-ast-attribute</a></td> <td class="manual-header-form">(unique-ast-attribute ast name [default-attribute-value])</td> <td class="manual-header-description">Return the value of the attribute name in ast, or in one of the subtrees of ast.</td></tr> <tr><td class="manual-header-title"><a href="#url-extractor-of-xml-language">url-extractor-of-xml-language</a></td> <td class="manual-header-form">(url-extractor-of-xml-language xml-language)</td> <td class="manual-header-description">Return the registered url-extractor function of xml-language.</td></tr> <tr><td class="manual-header-title"><a href="#use-empty-tags-for-elements-without-contents">use-empty-tags-for-elements-without-contents</a></td> <td class="manual-header-form">use-empty-tags-for-elements-without-contents</td> <td class="manual-header-description">A boolean variable that controls how elements without contents are rendered.</td></tr> <tr><td class="manual-header-title"><a href="#validate-as-pcdata!">validate-as-pcdata!</a></td> <td class="manual-header-form">(validate-as-pcdata! contents tag-name)</td> <td class="manual-header-description">Validate that contents is pure PCDATA.</td></tr> <tr><td class="manual-header-title"><a href="#validate-ast!">validate-ast!</a></td> <td class="manual-header-form">(validate-ast! ast [given-language language-overlap-check?])</td> <td class="manual-header-description">Validate ast.</td></tr> <tr><td class="manual-header-title"><a href="#validate-contents-by-dfa!">validate-contents-by-dfa!</a></td> <td class="manual-header-form">(validate-contents-by-dfa! contents dfa tag-name)</td> <td class="manual-header-description">Apply the deterministic finte state automaton dfa on contents.</td></tr> <tr><td class="manual-header-title"><a href="#validate-mixed-contents-by-simple-means!">validate-mixed-contents-by-simple-means!</a></td> <td class="manual-header-form">(validate-mixed-contents-by-simple-means! contents symbol-choice-list tag-name)</td> <td class="manual-header-description">Validate that contents corresponds to mixed contents.</td></tr> <tr><td class="manual-header-title"><a href="#validation-procedure-map-of">validation-procedure-map-of</a></td> <td class="manual-header-form">(validation-procedure-map-of language)</td> <td class="manual-header-description">A validation procedure map of an XML language is a sorted, associative vector that maps element names to XML validation procedures.</td></tr> <tr><td class="manual-header-title"><a href="#validation-procedure-of">validation-procedure-of</a></td> <td class="manual-header-form">(validation-procedure-of element-name language)</td> <td class="manual-header-description">Return the XML validation procedure of the element named element-name in language.</td></tr> <tr><td class="manual-header-title"><a href="#white-space-related?">white-space-related?</a></td> <td class="manual-header-form">(white-space-related? x)</td> <td class="manual-header-description">Is the parameter x white space related? </td></tr> <tr><td class="manual-header-title"><a href="#white-space-suppress?">white-space-suppress?</a></td> <td class="manual-header-form">(white-space-suppress? x)</td> <td class="manual-header-description">Is the parameter x a white suppress space mark.</td></tr> <tr><td class="manual-header-title"><a href="#with-xml-language">with-xml-language</a></td> <td class="manual-header-form">(with-xml-languge language-name . forms)</td> <td class="manual-header-description">A macro which globally establishes the name bindings of xml-language and evaluate forms in this state.</td></tr> <tr><td class="manual-header-title"><a href="#with-xml-language!">with-xml-language!</a></td> <td class="manual-header-form">(with-xml-languge! language-name minus-elements . forms)</td> <td class="manual-header-description">A macro which globally establishes the name bindings of xml-language and evaluate forms in this state.</td></tr> <tr><td class="manual-header-title"><a href="#xml-accept-extended-contents-in?">xml-accept-extended-contents-in?</a></td> <td class="manual-header-form">(xml-accept-extended-contents-in? language)</td> <td class="manual-header-description">A boolean variable that controls how rigid LAML handles element contents items.</td></tr> <tr><td class="manual-header-title"><a href="#xml-accept-only-string-valued-attributes-in?">xml-accept-only-string-valued-attributes-in?</a></td> <td class="manual-header-form">(xml-accept-only-string-valued-attributes-in? language)</td> <td class="manual-header-description">A boolean variable that controls how rigid LAML handles attribute values in language (first parameter).</td></tr> <tr><td class="manual-header-title"><a href="#xml-always-render-white-space?">xml-always-render-white-space?</a></td> <td class="manual-header-form">xml-always-render-white-space?</td> <td class="manual-header-description">Controls the rendering of white space in the textual contents.</td></tr> <tr><td class="manual-header-title"><a href="#xml-char-transformation-table-in">xml-char-transformation-table-in</a></td> <td class="manual-header-form">(xml-char-transformation-table-in language)</td> <td class="manual-header-description">Return the HTML/XML character transformation table used for language.</td></tr> <tr><td class="manual-header-title"><a href="#xml-check-attributes!">xml-check-attributes!</a></td> <td class="manual-header-form">(xml-check-attributes! attributes dtd-attribute-definition number-of-req-attributes tag-name)</td> <td class="manual-header-description">Check the attributes (first par) in the calling form against the attribute definitions taken from the DTD file (second par).</td></tr> <tr><td class="manual-header-title"><a href="#xml-check-attributes?">xml-check-attributes?</a></td> <td class="manual-header-form">xml-check-attributes?</td> <td class="manual-header-description">A boolean variable which controls the checking of element attributes.</td></tr> <tr><td class="manual-header-title"><a href="#xml-check-error">xml-check-error</a></td> <td class="manual-header-form">(xml-check-error . messages)</td> <td class="manual-header-description">The procedure that reports XML validation errors.</td></tr> <tr><td class="manual-header-title"><a href="#xml-check-language-overlap?">xml-check-language-overlap?</a></td> <td class="manual-header-form">xml-check-language-overlap?</td> <td class="manual-header-description">A boolean variable that controls the check of XML language overlap.</td></tr> <tr><td class="manual-header-title"><a href="#xml-comment">xml-comment</a></td> <td class="manual-header-form">(xml-comment  . comment-text-list)</td> <td class="manual-header-description">Construct an XML comment and return it.</td></tr> <tr><td class="manual-header-title"><a href="#xml-comment-contents">xml-comment-contents</a></td> <td class="manual-header-form">(xml-comment-contents xml-comment)</td> <td class="manual-header-description">Return the comment text of an XML comment.</td></tr> <tr><td class="manual-header-title"><a href="#xml-comment?">xml-comment?</a></td> <td class="manual-header-form">(xml-comment? x)</td> <td class="manual-header-description">Is x an XML comment? </td></tr> <tr><td class="manual-header-title"><a href="#xml-declaration">xml-declaration</a></td> <td class="manual-header-form">(xml-declaration)</td> <td class="manual-header-description">Return the xml declaration </td></tr> <tr><td class="manual-header-title"><a href="#xml-document-type-declaration-in">xml-document-type-declaration-in</a></td> <td class="manual-header-form">(xml-document-type-declaration-in language)</td> <td class="manual-header-description">Return the document type declaration of language.</td></tr> <tr><td class="manual-header-title"><a href="#xml-duplicated-attribute-handling">xml-duplicated-attribute-handling</a></td> <td class="manual-header-form">(xml-duplicated-attribute-handling language)</td> <td class="manual-header-description">This value controls the handling of attributes that occur more than once in an XML attribute list.</td></tr> <tr><td class="manual-header-title"><a href="#xml-error-truncation-length">xml-error-truncation-length</a></td> <td class="manual-header-form">xml-error-truncation-length</td> <td class="manual-header-description">How many characters of the validation error messages to be presented.</td></tr> <tr><td class="manual-header-title"><a href="#xml-in-laml-abstraction">xml-in-laml-abstraction</a></td> <td class="manual-header-form">(xml-in-laml-abstraction f [parameter-validator! f-name language])</td> <td class="manual-header-description">Generate a function with XML-in-LAML parameter passing rules, which passes its contents to the first parameter of f, and its attributes to the second parameter of f.</td></tr> <tr><td class="manual-header-title"><a href="#xml-in-laml-name-clashes">xml-in-laml-name-clashes</a></td> <td class="manual-header-form">xml-in-laml-name-clashes</td> <td class="manual-header-description">The list of names (symbols) which causes name clashes relative to  the current set of languages in use.</td></tr> <tr><td class="manual-header-title"><a href="#xml-in-laml-parametrization">xml-in-laml-parametrization</a></td> <td class="manual-header-form">(xml-in-laml-parametrization f parameter-mediator [parameter-validator! f-name language])</td> <td class="manual-header-description">Generate a function with XML-in-LAML parameter passing rules which sends its input to an ordinary function, f, with positional parameters via a parameter mediator.</td></tr> <tr><td class="manual-header-title"><a href="#xml-in-laml-positional-abstraction">xml-in-laml-positional-abstraction</a></td> <td class="manual-header-form">(xml-in-laml-positional-abstraction n m f [parameter-validator! f-name language])</td> <td class="manual-header-description">Generate a function with XML-in-LAML parameter passing rules, together with a number of required parameters before and after the XML-in-LAML parameters.</td></tr> <tr><td class="manual-header-title"><a href="#xml-link-checking">xml-link-checking</a></td> <td class="manual-header-form">xml-link-checking</td> <td class="manual-header-description">Defines the amount of link checing that is to be carried out by LAML.</td></tr> <tr><td class="manual-header-title"><a href="#xml-modify-element">xml-modify-element</a></td> <td class="manual-header-form">(xml-modify-element element  . attributes-and-contents)</td> <td class="manual-header-description">Bind some attributes content elements of element (the first parameter) and return a new, &#39;modified element function&#39;.</td></tr> <tr><td class="manual-header-title"><a href="#xml-modify-element-prepend">xml-modify-element-prepend</a></td> <td class="manual-header-form">(xml-modify-element-prepend element  . attributes-and-contents)</td> <td class="manual-header-description">A function similar to xml-modify-element, but instead of appending attributes-and-contents to the actual parameters of the modified function, it prepends attributes-and-contents.</td></tr> <tr><td class="manual-header-title"><a href="#xml-navigator-of">xml-navigator-of</a></td> <td class="manual-header-form">(xml-navigator-of language)</td> <td class="manual-header-description">Return the XML navigator structure of language.</td></tr> <tr><td class="manual-header-title"><a href="#xml-non-transliteration-elements-in">xml-non-transliteration-elements-in</a></td> <td class="manual-header-form">(xml-non-transliteration-elements-in language)</td> <td class="manual-header-description">Return the list of element names, for which we do not carry out the character transliteration in language.</td></tr> <tr><td class="manual-header-title"><a href="#xml-pass-default-dtd-attributes-in?">xml-pass-default-dtd-attributes-in?</a></td> <td class="manual-header-form">(xml-pass-default-dtd-attributes-in? language)</td> <td class="manual-header-description">Controls whether the default attribute values, as specified in the DTD, are passed explicitly as attribute values in every instance of the element.</td></tr> <tr><td class="manual-header-title"><a href="#xml-preformatted-text-elements-in">xml-preformatted-text-elements-in</a></td> <td class="manual-header-form">(xml-preformatted-text-elements-in language)</td> <td class="manual-header-description">Return the list of element names, for which we consistenly render all white space content characters as given in the input.</td></tr> <tr><td class="manual-header-title"><a href="#xml-render">xml-render</a></td> <td class="manual-header-form">(xml-render xml-clause [prolog epilog])</td> <td class="manual-header-description">Render the xml-clause (a LAML AST) and return the rendered string.</td></tr> <tr><td class="manual-header-title"><a href="#xml-render-as-laml">xml-render-as-laml</a></td> <td class="manual-header-form">(xml-render-as-laml contents)</td> <td class="manual-header-description">An rendering function which delivers a source-like Scheme expression as result (as a text string).</td></tr> <tr><td class="manual-header-title"><a href="#xml-render-as-simple-text">xml-render-as-simple-text</a></td> <td class="manual-header-form">(xml-render-as-simple-text contents)</td> <td class="manual-header-description">Pure textual rendering of contents.</td></tr> <tr><td class="manual-header-title"><a href="#xml-render-cdata-section">xml-render-cdata-section</a></td> <td class="manual-header-form">(xml-render-cdata-section cdata-section)</td> <td class="manual-header-description">Render the cdata section with space in between the individual cdata text elements.</td></tr> <tr><td class="manual-header-title"><a href="#xml-render-processing-instruction">xml-render-processing-instruction</a></td> <td class="manual-header-form">(xml-render-processing-instruction pi)</td> <td class="manual-header-description">Render the processing instruction pi.</td></tr> <tr><td class="manual-header-title"><a href="#xml-render-xml-comment">xml-render-xml-comment</a></td> <td class="manual-header-form">(xml-render-xml-comment xml-comment)</td> <td class="manual-header-description">Render the xml-comment with space in between the individual comment text elements.</td></tr> <tr><td class="manual-header-title"><a href="#xml-represent-white-space-in?">xml-represent-white-space-in?</a></td> <td class="manual-header-form">(xml-represent-white-space-in? language)</td> <td class="manual-header-description">This value controls the representation of white space in the internal AST representation of a document.</td></tr> <tr><td class="manual-header-title"><a href="#xml-root-node">xml-root-node</a></td> <td class="manual-header-form">xml-root-node</td> <td class="manual-header-description">The XML root node, used to determine some of the reverse axes.</td></tr> <tr><td class="manual-header-title"><a href="#xml-sort-superficially-tag-parameters">xml-sort-superficially-tag-parameters</a></td> <td class="manual-header-form">(xml-sort-superficially-tag-parameters parameters tag-name [language])</td> <td class="manual-header-description">Like xml-sort-tag-parameters, but collect the content contribution in a relatively raw surface form.</td></tr> <tr><td class="manual-header-title"><a href="#xml-sort-tag-parameters">xml-sort-tag-parameters</a></td> <td class="manual-header-form">(xml-sort-tag-parameters parameters tag-name [language])</td> <td class="manual-header-description">Separates parameters according to the mirror rules of LAML.</td></tr> <tr><td class="manual-header-title"><a href="#xml-transliterate-character-data-in?">xml-transliterate-character-data-in?</a></td> <td class="manual-header-form">(xml-transliterate-character-data-in? language)</td> <td class="manual-header-description">Return if CDATA  (Character data) is transformed through an HTML/XML character transformation table.</td></tr> <tr><td class="manual-header-title"><a href="#xml-validate-contents?">xml-validate-contents?</a></td> <td class="manual-header-form">xml-validate-contents?</td> <td class="manual-header-description">A boolean variable that controls the XML validation.</td></tr> <tr><td class="manual-header-title"><a href="#_">_</a></td> <td class="manual-header-form">_</td> <td class="manual-header-description">The symbolic name of explicit white space suppress.</td></tr></table></div> <p></p> <table class="manual-table"><tr><td width="3000px" colspan="4"></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="front-matters"></a> <a name="SECTION1"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <img src="../../../images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="#SECTION2"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">1</span> <span class="manual-section-title">XML front matters and end matters stuff.</span></td></tr> <tr><td colspan="4" class="manual-section-description">This section contains the XML declaration and other XML front matter stuff.  In addition it holds the end-laml function. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="standard-prolog"></a> standard-prolog</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(standard-prolog [language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The standard-prolog function as redefined for XML. It returns the xml-declaration, the document type declaration, and a copyright comment. The standard prolog is the document part before the document root element. A default version of the standard-prolog is found in laml.scm.  The present function relies on another function, xml-document-type-declaration-in, which returns an appropriate document type declaration </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#standard-prolog">standard-prolog</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-declaration">xml-declaration</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-document-type-declaration-in">xml-document-type-declaration-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#copyright-clause">copyright-clause</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="laml-xml-version"></a> laml-xml-version</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">laml-xml-version</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The version of XML used together with LAML.  A string. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#laml-xml-version">laml-xml-version</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="laml-character-encoding"></a> laml-character-encoding</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">laml-character-encoding</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The character encoding used together with XML in LAML.  Goes into the xml declaration. A string. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#laml-character-encoding">laml-character-encoding</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-declaration"></a> xml-declaration</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-declaration)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the xml declaration </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-declaration">xml-declaration</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="end-laml"></a> end-laml</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(end-laml)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A redefinition of end-laml from the fundamental LAML library. This redefined function calls the function check-id-and-idref-attributes!, which reports on possible violations of ID and IDREF(S) attribute constraints. It also checks relative and absolute links, if desired. Calls the original end-laml function as the last action.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#end-laml">end-laml</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">original end-laml</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#end-laml">laml.scm</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">ID and IDREF check function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#check-id-and-idref-attributes!">check-id-and-idref-attributes!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Control of link checking</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-link-checking">xml-link-checking</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="processing-par"></a> <a name="SECTION2"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION1"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION3"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">2</span> <span class="manual-section-title">XML-in-LAML processing parameters.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The variables and functions in this part control a number of general properties of XML-in-LAML processing. Some of these are generic for all XML-in-LAML languages; Others are specific to a single language. A number of the properties are related to the checking, validation, and error reporting of the XML mirror functions. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="laml-internal-representation"></a> laml-internal-representation</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">laml-internal-representation</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A variable that determines the internal representation used for XML-in-LAML. Possible values: laml and sxml. The value laml implies usage of the original LAML ASTs. The value sxml implies usage of the SXML list representation of XML.  Use of the value sxml is still somewhat experimental. If the value of this variable is changed, the xml-in-laml library must be reloaded. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#laml-internal-representation">laml-internal-representation</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-check-attributes?"></a> xml-check-attributes?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-check-attributes?</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable which controls the checking of element attributes. If true, check the element attributes against the attributes as defined in the DTD file. This variable is generic and common for all XML-in-LAML languages. The default value is true. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-check-attributes?">xml-check-attributes?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-validate-contents?"></a> xml-validate-contents?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-validate-contents?</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable that controls the XML validation. If true, do validate the generated XML document against the DTD. This variable is generic and common for all XML-in-LAML languages. The default value is true. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-validate-contents?">xml-validate-contents?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-link-checking"></a> xml-link-checking</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-link-checking</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Defines the amount of link checing that is to be carried out by LAML. Possible values are none, relative-urls, absolute-urls, and all (symbols), none: No link checking is done at alle. relative-urls: Only relative urls are checked. absolute-urls: Only absolute urls are checked. This includes URLs that are formed relative to a given base-url. all: All URLs, both absolute and relative, are checked.  The default value is relative-urls. The use of the value all requires that url-target-exists? target is implemented.  In the current version of LAML, url-target-exists? is only implemented when LAML is used with MzScheme (via the lib/url-read.scm). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-link-checking">xml-link-checking</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">link checking functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#collect-links-for-later-checking-in-ast!">collect-links-for-later-checking-in-ast!</a>  <a class="manual-plain-internal-reference" href="#check-relative-url-list!">check-relative-url-list!</a>  <a class="manual-plain-internal-reference" href="#check-absolute-url-list!">check-absolute-url-list!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">About link checking in LAML</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../info/link-checking.html">Note</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-check-language-overlap?"></a> xml-check-language-overlap?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-check-language-overlap?</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable that controls the check of XML language overlap. If true, check that no elements are used via ambiguous simple names. Quite naturally, this variable is generic and common for XML-in-LAML loaded at the same time.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-check-language-overlap?">xml-check-language-overlap?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-transliterate-character-data-in?"></a> xml-transliterate-character-data-in?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-transliterate-character-data-in? language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return if CDATA  (Character data) is transformed through an HTML/XML character transformation table.  The value is boolean, and normally true. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-transliterate-character-data-in?">xml-transliterate-character-data-in?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">mutator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#set-xml-transliterate-character-data-in">set-xml-transliterate-character-data-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">transformation table</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#html-char-transformation-table">laml.scm</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-xml-transliterate-character-data-in"></a> set-xml-transliterate-character-data-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-xml-transliterate-character-data-in language new-value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Ask for transliteration of all CDATA characters via an HTML/XML character transformation table.  new-value must be boolean. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of the XML-in-LAML language - see the first few lines of relevant mirror library manuals - a symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">new-value</td> <td colspan="3" class="manual-plain-parameter-description">A boolean value.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="6">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-xml-transliterate-character-data-in">set-xml-transliterate-character-data-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">selector</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-transliterate-character-data-in?">xml-transliterate-character-data-in?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">table getter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-char-transformation-table-in">xml-char-transformation-table-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">table setter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#set-xml-char-transformation-table-in">set-xml-char-transformation-table-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">exceptions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-non-transliteration-elements-in">xml-non-transliteration-elements-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">transformation table</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#html-char-transformation-table">laml.scm</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Internal remark</td> <td colspan="3" class="manual-plain-comment">Consider macro implementation.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-char-transformation-table-in"></a> xml-char-transformation-table-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-char-transformation-table-in language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the HTML/XML character transformation table used for language. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A character transformation table.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-char-transformation-table-in">xml-char-transformation-table-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">transformation table</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#html-char-transformation-table">laml.scm</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">table setter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#set-xml-char-transformation-table-in">set-xml-char-transformation-table-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">exceptions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-non-transliteration-elements-in">xml-non-transliteration-elements-in</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-xml-char-transformation-table-in"></a> set-xml-char-transformation-table-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-xml-char-transformation-table-in language new-value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Set the HTML/XML character transformation table used for language. The value must be a character transformation table.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of the XML-in-LAML language - see the first few lines of relevant mirror library manuals - a symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">new-value</td> <td colspan="3" class="manual-plain-parameter-description">A character transformation table.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-xml-char-transformation-table-in">set-xml-char-transformation-table-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">table getter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-char-transformation-table-in">xml-char-transformation-table-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">exceptions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-non-transliteration-elements-in">xml-non-transliteration-elements-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">transformation table</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#html-char-transformation-table">laml.scm</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Internal remark</td> <td colspan="3" class="manual-plain-comment">Consider macro implementation.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-non-transliteration-elements-in"></a> xml-non-transliteration-elements-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-non-transliteration-elements-in language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the list of element names, for which we do not carry out the character transliteration in language. In XHTML, the list typically include the elements style and script. The value is a list of strings. The value of this function is locked and bound at mirror generation time. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-non-transliteration-elements-in">xml-non-transliteration-elements-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">transliteration</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-transliterate-character-data-in?">xml-transliterate-character-data-in?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-preformatted-text-elements-in"></a> xml-preformatted-text-elements-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-preformatted-text-elements-in language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the list of element names, for which we consistenly render all white space content characters as given in the input. In XHTML, the list typically include the pre element. The value is a list of strings. The value of this function is locked and bound at mirror generation time. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-preformatted-text-elements-in">xml-preformatted-text-elements-in</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-error-truncation-length"></a> xml-error-truncation-length</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-error-truncation-length</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">How many characters of the validation error messages to be presented. If you want longer error messages, just increase the value of this variable. The default value is currently 130. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-error-truncation-length">xml-error-truncation-length</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-pass-default-dtd-attributes-in?"></a> xml-pass-default-dtd-attributes-in?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-pass-default-dtd-attributes-in? language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Controls whether the default attribute values, as specified in the DTD, are passed explicitly as attribute values in every instance of the element.  The value is boolean, and normally false.  A true value in most cases give problems relative to the XML attribute validation. The value of this function is locked and bound at mirror generation time. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-pass-default-dtd-attributes-in?">xml-pass-default-dtd-attributes-in?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">validation control</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-check-attributes?">xml-check-attributes?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-accept-only-string-valued-attributes-in?"></a> xml-accept-only-string-valued-attributes-in?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-accept-only-string-valued-attributes-in? language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable that controls how rigid LAML handles attribute values in language (first parameter). If this function returns #t, only strings are allowed as attribute values.  If it returns #f, LAML will attempt to convert the attribute value to a string using the function as-string. (Certain lists, which internally represents ASTs etc) are not converted, however).  If no language information is present (i.e., if the language parameter is #f) always return #t.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of an XML language (a symbol)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-accept-only-string-valued-attributes-in?">xml-accept-only-string-valued-attributes-in?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">setter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#set-xml-accept-only-string-valued-attributes-in">set-xml-accept-only-string-valued-attributes-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">The default value returned by this function is defined as a parameter of the mirror generation script.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-xml-accept-only-string-valued-attributes-in"></a> set-xml-accept-only-string-valued-attributes-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-xml-accept-only-string-valued-attributes-in language new-value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Controls the handling of LAML attribute values in language. If new-value is true, LAML only accept string valued XML attribute. If new-value is false, LAML string converts whatever follows an attribute symbol. The value must be a boolean value. True is recommended. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of the XML-in-LAML language - see the first few lines of relevant mirror library manuals - a symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">new-value</td> <td colspan="3" class="manual-plain-parameter-description">A boolean value.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-xml-accept-only-string-valued-attributes-in">set-xml-accept-only-string-valued-attributes-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">getter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-accept-only-string-valued-attributes-in?">xml-accept-only-string-valued-attributes-in?</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Overwrites the default value, as defined by mirror generation script.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Internal remark</td> <td colspan="3" class="manual-plain-comment">Consider macro implementation.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-accept-extended-contents-in?"></a> xml-accept-extended-contents-in?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-accept-extended-contents-in? language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable that controls how rigid LAML handles element contents items. If the value returned is #t, numbers and characters are accepted as element content items in addition to strings, ASTs, and character references. If no language information is present (i.e., if the language parameter is #f) always return #f.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of an XML language (a symbol)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-accept-extended-contents-in?">xml-accept-extended-contents-in?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">setter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#set-xml-accept-extended-contents-in">set-xml-accept-extended-contents-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">The default value returned by this function is defined as a parameter of the mirror generation script.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-xml-accept-extended-contents-in"></a> set-xml-accept-extended-contents-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-xml-accept-extended-contents-in language new-value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Controls the handling of LAML element contents items in language. If new-value is true, LAML accepts characters and numbers of contents items in addition to strings, ASTs and character references. If new-value is false, LAML only accept strings, ASTs, and character references as element contents items. The value must be a boolean value.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of the XML-in-LAML language - see the first few lines of relevant mirror library manuals - a symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">new-value</td> <td colspan="3" class="manual-plain-parameter-description">A boolean value.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-xml-accept-extended-contents-in">set-xml-accept-extended-contents-in</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">getter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-accept-extended-contents-in?">xml-accept-extended-contents-in?</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Overwrites the default value, as defined by mirror generation script.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-document-type-declaration-in"></a> xml-document-type-declaration-in</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-document-type-declaration-in language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the document type declaration of language. The empty string signals that no document type declaration is available. The value of this function is locked and bound at mirror generation time. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-document-type-declaration-in">xml-document-type-declaration-in</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-represent-white-space-in?"></a> xml-represent-white-space-in?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-represent-white-space-in? language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">This value controls the representation of white space in the internal AST representation of a document. If true, white space markers are inserted. If false, a clean AST without any white space marking is produced. In some languages, white space handling is essential. This is the case in XHTML. In XML languages that are not related to presentation at all, white space handling is not relevant. The value of this function is locked and bound at mirror generation time. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-represent-white-space-in?">xml-represent-white-space-in?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-duplicated-attribute-handling"></a> xml-duplicated-attribute-handling</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-duplicated-attribute-handling language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">This value controls the handling of attributes that occur more than once in an XML attribute list. If the function returns keep-all, the attribute list is not affected at all; All attributes are passed to the application. If the function returns keep-first, only the first attribute name/value pair is passed for further processing,  and only the first is passed on to the validation procedure. If the function returns keep-last, only the last attribute name/value pair is passed for further processing, and only the last is passed on to the validation procedure. The value of this function is locked and bound at mirror generation time. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">either keep-all, keep-first, keep-last (a symbol)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-duplicated-attribute-handling">xml-duplicated-attribute-handling</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-xml-link-checking-functions"></a> set-xml-link-checking-functions</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-xml-link-checking-functions xml-language url-extractor-function base-url-extractor-function)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Register url-extractor-function and base-url-extractor-function in the XML link checking map of xml-language. The XML link checking map maps an XML language name to a list of two functions: url-extractor-function base-url-extractor-function. The url-extractor-function can be applied on an XML AST in order to deliver a list of URLs that appear in that language. The base-url-extractor-function can also be applied on an XML AST. It delivers a possible base url (for use when resolving relative URLs) of the AST, of #f in no such base URL occurs. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">xml-language</td> <td class="manual-plain-parameter-description" colspan="2">The name of the XML language (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">url-extractor-function</td> <td colspan="3" class="manual-plain-parameter-description">A URL extraction function (takes an AST parameter), or #f if no such function is provided.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">base-url-extractor-function</td> <td colspan="3" class="manual-plain-parameter-description">A base URL extraction function (takes an AST parameter), or #f if no such function is provided.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-xml-link-checking-functions">set-xml-link-checking-functions</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="url-extractor-of-xml-language"></a> url-extractor-of-xml-language</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(url-extractor-of-xml-language xml-language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the registered url-extractor function of xml-language. The url-extractor function can be applied on an XML-ast and it delivers a list of URLs that occur in the AST. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#url-extractor-of-xml-language">url-extractor-of-xml-language</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied by</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#collect-links-for-later-checking-in-ast!">collect-links-for-later-checking-in-ast!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">About link checking in LAML</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../info/link-checking.html">Note</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="base-url-extractor-of-xml-language"></a> base-url-extractor-of-xml-language</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(base-url-extractor-of-xml-language xml-language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the registered base-url-extractor function of xml-language. The base-url-extractor function can be applied on an XML-ast and it delivers a possible base url (for use when resolving relative URLs) in the AST. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#base-url-extractor-of-xml-language">base-url-extractor-of-xml-language</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied by</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#collect-links-for-later-checking-in-ast!">collect-links-for-later-checking-in-ast!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">About link checking in LAML</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../info/link-checking.html">Note</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="other-const"></a> <a name="SECTION3"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION2"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION4"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">3</span> <span class="manual-section-title">Other Constants.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="explicit-space"></a> explicit-space</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">explicit-space</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The explicit white space value, as used internally in ast. The default value is boolean #t. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#explicit-space">explicit-space</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="explicit-space-suppress"></a> explicit-space-suppress</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">explicit-space-suppress</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The explicit white space suppress value. The default value is boolean #f. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#explicit-space-suppress">explicit-space-suppress</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="_"></a> _</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">_</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The symbolic name of explicit white space suppress. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">Examples</td> <td class="manual-plain-example" colspan="3">(ast-text (a &#39;href "some-url" &#39;target "some-target" "anchor" _ "text")) => "anchortext"</td></tr> <tr><td colspan="4" class="manual-plain-example">(white-space-suppress? _) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(white-space-related? _) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(xml-sort-tag-parameters (list "this" _ "is" &#39;href "url" "end") "a" &#39;xhtml10-transitional) => (("this" "is" #t "end") href "url")</td></tr> <tr><td colspan="4" class="manual-plain-example">(xml-sort-superficially-tag-parameters (list "this" _ "is" &#39;href "url" "end") "a" &#39;xhtml10-transitional) => (("this" #f "is" #t "end") href "url")</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#_">_</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="preferred-maximum-width"></a> preferred-maximum-width</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">preferred-maximum-width</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">An integer that expresses the prefered maximum column width for pretty printed ouput. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#preferred-maximum-width">preferred-maximum-width</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="indentation-delta"></a> indentation-delta</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">indentation-delta</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">An integer which gives the level of indentation for pretty printed output. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#indentation-delta">indentation-delta</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-always-render-white-space?"></a> xml-always-render-white-space?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-always-render-white-space?</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Controls the rendering of white space in the textual contents. If #t, white space characters are rendered exactly as they are present in the textual content. If #f, white space is eliminated to the minimal amount when rendering. In normal use, always use #f. In situations where HTML formatting (especially PRE) is present as textual elements, it may be useful to use #t. In this context, notice the concept of preformatted text elements, as returned by the function xml-preformatted-text-elements-in. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-always-render-white-space?">xml-always-render-white-space?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">relevant function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-preformatted-text-elements-in">xml-preformatted-text-elements-in</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="ast-cons-sel"></a> <a name="SECTION4"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION3"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION5"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">4</span> <span class="manual-section-title">AST constructors and basic selector selectors.</span></td></tr> <tr><td colspan="4" class="manual-section-description">In this section we document the functions that work on abstract syntax trees (ASTs). More specifically, we describe the AST constructor function and the most basic functions that select a constituent of an AST. An AST copy function is also included in this section. Abstract syntax trees make up the internal representation of XML documents in LAML. All XML mirror functions return abstract syntax trees, and as such they can be thought as convenient, high level AST constructors. Notice that the implementation of the functions in this section depend heavily on the value of the variable laml-internal-representation. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="make-ast"></a> make-ast</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(make-ast element-name contents attributes kind language [internal-attributes])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Make an AST given element-name, contents, a property list of attributes, a kind (single/double), and an XML language name.  The parameter contents may be a list of subtrees. It may also be an element which satisfies either ast?, cdata?, forced-white-space?, delayed-procedural-contents-element?, char-ref?, xml-comment?, cdata-section?, or processing-instruction? In these cases, we embed the single element into a list. attributes is the list of attributes on property list format (such as &#39;(a1 "v1" a2 "v2")).  attribute names are always symbols, and attribute values are normally strings. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="6">Parameters</td> <td class="manual-plain-parameter-name">element-name</td> <td class="manual-plain-parameter-description" colspan="2">A symbol or a string.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">contents</td> <td colspan="3" class="manual-plain-parameter-description">A list of contents in term of CDATA (strings), white space markers, or other ASTs.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">attributes</td> <td colspan="3" class="manual-plain-parameter-description">The XML attributes represented as a property list.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">kind</td> <td colspan="3" class="manual-plain-parameter-description">The symbol double or single. The kind single represents empty XML elements.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">language</td> <td colspan="3" class="manual-plain-parameter-description">A symbol or string that represent the XML-in-LAML language name.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">internal-attributes</td> <td colspan="3" class="manual-plain-parameter-description">A collection of internal attributes represented as a property list. Internal attributes can be used as arbitrary annotations of an XML document. Internal attributes do not affect the document rendering. Use internal attributes for AST annotations that cannot easily be made via use of XML attributes. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#make-ast">make-ast</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-element-name"></a> ast-element-name</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-element-name ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the root element name of ast.  The type of the returned value is a string. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">ast is an abstract syntax tree that satisfies the ast? predicate</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(ast-element-name (html (head (title "ttt")) (body (p "ppp")))) => "html"</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-element-name">ast-element-name</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-subtrees"></a> ast-subtrees</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-subtrees ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the list of substrees of ast.  This is also known as the contents of the ast. It is a list of CDATA (strings), ASTs, and white space markers. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">ast is an abstract syntax tree that satisfies the ast? predicate</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(ast-subtrees (html (head (title "ttt")) (body (p "ppp")))) => ((ast "head" ((ast "title" ("ttt") () double xhtml10-transitional ())) () double xhtml10-transitional ()) #t (ast "body" ((ast "p" ("ppp") () double xhtml10-transitional ())) () double xhtml10-transitional ()))</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-subtrees">ast-subtrees</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-subtree">ast-subtree</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-attributes"></a> ast-attributes</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-attributes ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the list of attributes of the ast. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">ast is an abstract syntax tree that satisfies the ast? predicate</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The list of attributes, as a property list.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(ast-attributes (html (head (title "ttt")) (body (p "ppp")))) => ()</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast-attributes (a &#39;href "some-url" &#39;target "some-target" "anchor")) => (href "some-url" target "some-target")</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-attributes">ast-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Relevant function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../man/general.html#get-prop">get-prop</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Relevant function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../man/general.html#defaulted-get-prop">defaulted-get-prop</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">high-level selector</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-attribute">ast-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">high-order selector</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#attribute-getter">attribute-getter</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">The functions get-prop and defaulted-get-prop are useful for accessing the individual attribute values in the returned property list.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-kind"></a> ast-kind</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-kind ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the kind of the ast.  The type of the returned value is a symbol, either single or double. ASTs of type single are also known as empty elements. Tells whether the ast is to be rendered as a single or double tag. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">ast is an abstract syntax tree that satisfies the ast? predicate</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(ast-kind (br)) => single</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast-kind (a &#39;href "some-url" &#39;target "some-target" "anchor")) => double</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-kind">ast-kind</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-language"></a> ast-language</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-language ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the language of the ast. The type of the returned value is a symbol. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">ast is an abstract syntax tree that satisfies the ast? predicate</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(ast-language (html (head (title "ttt")) (body (p "ppp")))) => xhtml10-transitional</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-language">ast-language</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-internal-attributes"></a> ast-internal-attributes</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-internal-attributes ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the list of internal attributes of the ast. These are non XML attributes which can annotate the ast.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">ast is an abstract syntax tree that satisfies the ast? predicate</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The list of internal attributes, as a property list.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(ast-internal-attributes (html (head (title "ttt")) (body (p "ppp")))) => ()</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-internal-attributes">ast-internal-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">internal attribute mutators</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-mutators">ast-mutators</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">convenient accessors</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-internal-attribute">ast-internal-attribute</a>  <a class="manual-plain-internal-reference" href="#has-internal-ast-attribute?">has-internal-ast-attribute?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-copy"></a> ast-copy</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-copy ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a copy of ast. This involves a shallow copy of both the attribute list and the internal attribute list. Strings constituents are not copied. If the parameter, ast, happens not to an AST, just return it uncopied. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-copy">ast-copy</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar Function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#copy-ast-mutate-attributes">copy-ast-mutate-attributes</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="free-single-element"></a> free-single-element</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(free-single-element element-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a function that returns a potentially non-standard single AST for element-name in xml-language. The generated function disregards any document contents; It only passes the attributes to make-ast. The generated function obeys XML-in-LAML parameter passing conventions. The first parameter of the generated function is the name of the xml language (a symbol). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">element-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of the new element. A string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#free-single-element">free-single-element</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Intended for ad hoc definition of a non-standard element in an XML language, such as embed in XHTML.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="free-double-element"></a> free-double-element</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(free-double-element element-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a function that returns a potentially non-standard double AST for element-name in xml-language. The generated function obeys XML-in-LAML parameter passing conventions. The first parameter of the generated function is the name of the xml language (a symbol). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">element-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of the new element. A string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#free-double-element">free-double-element</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="highlevel-ast-sel"></a> <a name="SECTION5"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION4"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION6"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">5</span> <span class="manual-section-title">High-level AST selector functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">In this section we describe a set of more elaborate functions that access the constituents of an AST. In many contexts, the functions in this section are more convenient than the basic selector functions from the previous section. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-subtree"></a> ast-subtree</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-subtree ast el-name [n])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a specific subtree of ast, namely the n&#39;th subtree with element-name el-name. If no such subtree exists, return #f. The first subtree of a given name counts as number 1 (not 0). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">n > 0</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">The ast in which to locate a subtree</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">el-name</td> <td colspan="3" class="manual-plain-parameter-description">The ast element name of a subtree of ast (string or symbol)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">n</td> <td colspan="3" class="manual-plain-parameter-description">The constituent number regarding el-name subtrees (an integer). Defaults to 1.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A subtree of AST (if located) or #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Examples</td> <td class="manual-plain-example" colspan="3">(ast-subtree (html (head (title "ttt")) (body (p "ppp"))) "head") => (ast "head" ((ast "title" ("ttt") () double xhtml10-transitional ())) () double xhtml10-transitional ())</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast-subtree (html (head (title "ttt")) (body (p "ppp"))) "body") => (ast "body" ((ast "p" ("ppp") () double xhtml10-transitional ())) () double xhtml10-transitional ())</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast-subtree (html (head (title "ttt")) (body (p "ppp"))) "title") => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-subtree">ast-subtree</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">basic selector</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-subtrees">ast-subtrees</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">generalized accessors</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a>  <a class="manual-plain-internal-reference" href="#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-attribute"></a> ast-attribute</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-attribute ast name [default-attribute-value])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the value of the attribute name in ast, or #f if no such attribute exists. Only the attributes of ast are considered. This function is a convenient shortcut of (defauted-get-prop name (ast-attributes ast) default-value). The optional parameter serves as the attribute value in case no name attribute is found in the attribute list of ast.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">An AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">name</td> <td colspan="3" class="manual-plain-parameter-description">The name of an attribute (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">default-attribute-value</td> <td colspan="3" class="manual-plain-parameter-description">The default value, used if no attribute of name is found. A string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(ast-attribute (a &#39;href "some-url" &#39;target "some-target" "anchor") &#39;href) => "some-url"</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast-attribute (a &#39;href "some-url" &#39;target "some-target" "anchor") &#39;target) => "some-target"</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-attribute">ast-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">basic selector</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-attributes">ast-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">related function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#unique-ast-attribute">unique-ast-attribute</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="has-ast-attribute?"></a> has-ast-attribute?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(has-ast-attribute? ast name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return if the ast has a name attribute  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#has-ast-attribute?">has-ast-attribute?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="attribute-getter"></a> attribute-getter</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(attribute-getter attribute-name [default-value])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function which returns an attribute getter function on ASTs. The returned function takes an AST as parameter. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">attribute-name</td> <td class="manual-plain-parameter-description" colspan="2">the attribute name - a symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">default-value</td> <td colspan="3" class="manual-plain-parameter-description">the default value returned if there is no attribute named attribute-name in the attribute-list.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">((attribute-getter &#39;href) (a &#39;href "some-url" &#39;target "some-target" "anchor")) => "some-url"</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#attribute-getter">attribute-getter</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">lower-order function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-attribute">ast-attribute</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-text"></a> ast-text</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-text ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a string of the aggregated CDATA contents of ast. White space markers are taken into account, but ast subtrees of ast do not contribute in this aggregation. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The immediate aggregated textual contents of ast. Returns the empty string, in case there is no contents.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(ast-text (a &#39;href "some-url" &#39;target "some-target" "anchor" _ "text")) => "anchortext"</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast-text (a &#39;href "some-url" &#39;target "some-target" "anchor" "text")) => "anchor text"</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-text">ast-text</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-text-deep"></a> ast-text-deep</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-text-deep ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a string of the aggregated CDATA contents of ast. Ast subtrees of ast contribute recursively in this aggregation. White space markers are also taken into account. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The full aggregated textual contents of ast. Returns the empty string, in case there is no contents.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(ast-text-deep (html (head (title "ttt")) (body (p "ppp")))) => "ttt ppp"</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-text-deep">ast-text-deep</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-internal-attribute"></a> ast-internal-attribute</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-internal-attribute ast name [default-attribute-value])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the value of the internal attribute name in ast, or #f if the internal attribute does not exist. This function is a convenient shortcut of (defauted-get-prop name (ast-internal-attributes ast) default-value). The optional parameter serves as the internal attribute value in case no name attribute is found in the attribute list of ast.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">An AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">name</td> <td colspan="3" class="manual-plain-parameter-description">The name of an internal attribute (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">default-attribute-value</td> <td colspan="3" class="manual-plain-parameter-description">The default value, used if no attribute of name is found. Of arbitrary type. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(ast-internal-attribute (a &#39;href "some-url" &#39;target "some-target" "anchor") &#39;href) => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-internal-attribute">ast-internal-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">basic selector</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-internal-attributes">ast-internal-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">internal attribute mutators</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-mutators">ast-mutators</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="has-internal-ast-attribute?"></a> has-internal-ast-attribute?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(has-internal-ast-attribute? ast name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Does the internal ast attribute called name exist? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A boolean answer (#t or #f).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(has-internal-ast-attribute? (a &#39;href "some-url" &#39;target "some-target" "anchor") &#39;href) => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#has-internal-ast-attribute?">has-internal-ast-attribute?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">basic selector</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-internal-attributes">ast-internal-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">internal attribute mutators</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-mutators">ast-mutators</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="selected-internal-attributes"></a> selected-internal-attributes</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(selected-internal-attributes ast prefix)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return those of the internal attributes of ast whose attribute name are prefixed with prefix. The attribute names are truncated, by removing the prefix from them.  (This may lead to empty attribut names in case some attribute names are equal to prefix). This function is convenient if you need to extract a subset of systematically prefixed internal attributes and pass the non-prefixed attributes on to another function.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">An AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">prefix</td> <td colspan="3" class="manual-plain-parameter-description">A string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A property list of attributes. The prefix has been romoved from the attribute names.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#selected-internal-attributes">selected-internal-attributes</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="ast-mutators"></a> <a name="SECTION6"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION5"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION7"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">6</span> <span class="manual-section-title">AST Mutators.</span></td></tr> <tr><td colspan="4" class="manual-section-description">Both the attributes and the internal attributes of an AST can be mutated imperatively. In this section you will find procedures for attribute mutation. The name of the procedures include an exclamation mark to emphasize their imperative nature. Don&#39;t use them if you do not really need them! In addition we provide a functional attribute mutator called copy-ast-mutate-attributes. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="copy-ast-mutate-attributes"></a> copy-ast-mutate-attributes</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(copy-ast-mutate-attributes ast  . new-attributes)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Shallow copy ast and replace selected attributes of ast with new attributes.  If the attributes in new-attributes do not exist in ast, the new attributes are just added. Only one AST node is copied by this function. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">An AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">new-attributes</td> <td colspan="3" class="manual-plain-parameter-description">A property list of attributes which should replace existing attributes of ast.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A copy of AST in which the attributes in new-attributes replaces attributes in the original AST.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Examples</td> <td class="manual-plain-example" colspan="3">(copy-ast-mutate-attributes (a &#39;href "url" &#39;target "target") &#39;href "111" &#39;target "222" &#39;xxx "333") => (ast "a" () (href "111" target "222" xxx "333") double xhtml10-transitional ())</td></tr> <tr><td colspan="4" class="manual-plain-example">(copy-ast-mutate-attributes (a &#39;href "url" &#39;target "target") &#39;href "111") => (ast "a" () (href "111" target "target") double xhtml10-transitional ())</td></tr> <tr><td colspan="4" class="manual-plain-example">(copy-ast-mutate-attributes (a &#39;href "url" &#39;target "target")) => (ast "a" () (href "url" target "target") double xhtml10-transitional ())</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#copy-ast-mutate-attributes">copy-ast-mutate-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Similar Function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-copy">ast-copy</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-internal-ast-attributes!"></a> set-internal-ast-attributes!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-internal-ast-attributes! ast prop-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Replace the internal attributes of ast with the attributes in prop-list (a property list). Using this procedure, all existing internal attributes are replaced by a new set of attributes. A procedure, not a function. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-internal-ast-attributes!">set-internal-ast-attributes!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-ast-attributes!"></a> set-ast-attributes!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-ast-attributes! ast prop-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Replace the attributes of ast with the attributes in prop-list (a property list). Using this procedure, all existing attributes are replaced by a new set of attributes. A procedure, not a function. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-ast-attributes!">set-ast-attributes!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-ast-attribute!"></a> set-ast-attribute!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-ast-attribute! ast name value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Mutate the value of the ast attribute name to value. If name does not exist as an attribute of ast, this function inserts the attribute in the attribute list (as the first key value pair). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-ast-attribute!">set-ast-attribute!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="set-internal-ast-attribute!"></a> set-internal-ast-attribute!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(set-internal-ast-attribute! ast name value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Mutate the value of the internal ast attribute name to value. If name does not exist as an internal attribute of ast, this function inserts the attribute in the internal attribute list (as the first key value pair). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#set-internal-ast-attribute!">set-internal-ast-attribute!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="remove-internal-ast-attribute!"></a> remove-internal-ast-attribute!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(remove-internal-ast-attribute! ast name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Remove the internal attribute name and its value from the internal attribute list of ast. If the attribute called name exists more than once in ast, remove them all. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#remove-internal-ast-attribute!">remove-internal-ast-attribute!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="remove-ast-attribute!"></a> remove-ast-attribute!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(remove-ast-attribute! ast name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Remove the attribute name and its value from the attribute list of ast. If the attribute called name exists more than once in ast, remove them all. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#remove-ast-attribute!">remove-ast-attribute!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="remove-ast-attributes!"></a> remove-ast-attributes!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(remove-ast-attributes! ast name-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Remove all the attributes in name-list and their values from the attribute list of ast. If an attribute in name-list exists more than once in ast, remove them all. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#remove-ast-attributes!">remove-ast-attributes!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="ast-pred"></a> <a name="SECTION7"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION6"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION8"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">7</span> <span class="manual-section-title">XML-in-LAML Predicates.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions in this section are predicates that work on ASTs and their constituents. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast?"></a> ast?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x an AST. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(ast? "txt") => #f</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast? (a &#39;href "some-url" &#39;target "some-target" "anchor")) => #t</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast?">ast?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-strong?"></a> ast-strong?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-strong? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x an AST in a stronger interpretation than ast? Using the native LAML representation, ast-strong? and ast? are identical. Using the SXML representation, (ast-strong? T) requires that the tree T has attribute and aux information. This corresponds to the 3. normal form of SXML. The strong predicate is used during the interpretation of parameters to the mirror functions. Rationale: If the weak ast predicate is used for interpretation of the mirror parameters, ambiguities will occur between lists of contents/attributes and AST structures. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(ast-strong? (a &#39;href "some-url" &#39;target "some-target" "anchor")) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(ast-strong? "txt") => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-strong?">ast-strong?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="cdata?"></a> cdata?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(cdata? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x CDATA </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(cdata? "txt") => #t</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#cdata?">cdata?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="contents-data?"></a> contents-data?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(contents-data? x [language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x a contents element item. In other words, is x either an ast, a character reference, or a string. If the optional language parameter is passed, and if this language accepts extended contents, also numbers and characters are considered as contents data. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Examples</td> <td class="manual-plain-example" colspan="3">(contents-data? "txt") => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(contents-data? (a &#39;href "some-url" &#39;target "some-target" "anchor")) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(contents-data? 5) => #f</td></tr> <tr><td colspan="4" class="manual-plain-example">(contents-data? #\5) => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#contents-data?">contents-data?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="contents-data-strong?"></a> contents-data-strong?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(contents-data-strong? x [language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x a contents element item, with ASTs recognized in the strong form (using ast-strong?) </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#contents-data-strong?">contents-data-strong?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">strong ASTs</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-strong?">ast-strong?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="delayed-procedural-contents-element?"></a> delayed-procedural-contents-element?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(delayed-procedural-contents-element? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a delayed procedural content element? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#delayed-procedural-contents-element?">delayed-procedural-contents-element?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="char-ref?"></a> char-ref?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(char-ref? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x a character reference. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Examples</td> <td class="manual-plain-example" colspan="3">(char-ref? (char-ref 5)) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(char-ref? (char-ref 169)) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(char-ref? (char-ref "copy")) => #t</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#char-ref?">char-ref?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="forced-white-space?"></a> forced-white-space?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(forced-white-space? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x a white space mark. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Examples</td> <td class="manual-plain-example" colspan="3">(forced-white-space? " ") => #f</td></tr> <tr><td colspan="4" class="manual-plain-example">(forced-white-space? #t) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(forced-white-space? #f) => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#forced-white-space?">forced-white-space?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="white-space-suppress?"></a> white-space-suppress?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(white-space-suppress? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x a white suppress space mark. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Examples</td> <td class="manual-plain-example" colspan="3">(white-space-suppress? _) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(white-space-suppress? #f) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(white-space-suppress? #t) => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#white-space-suppress?">white-space-suppress?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="white-space-related?"></a> white-space-related?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(white-space-related? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is the parameter x white space related? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Examples</td> <td class="manual-plain-example" colspan="3">(white-space-related? _) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(white-space-related? #f) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(white-space-related? #t) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(white-space-related? " ") => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#white-space-related?">white-space-related?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="terminal-ast-node?"></a> terminal-ast-node?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(terminal-ast-node? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x an ast nodes without subtrees? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Examples</td> <td class="manual-plain-example" colspan="3">(terminal-ast-node? (a &#39;href "some-url" &#39;target "some-target" "anchor")) => #f</td></tr> <tr><td colspan="4" class="manual-plain-example">(terminal-ast-node? (br)) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(terminal-ast-node? (html (head (title "ttt")) (body (p "ppp")))) => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#terminal-ast-node?">terminal-ast-node?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-comment?"></a> xml-comment?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-comment? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x an XML comment? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(xml-comment? (xml-comment "ccc")) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(xml-comment? "ccc") => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-comment?">xml-comment?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="cdata-section?"></a> cdata-section?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(cdata-section? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x an XML CDATA section? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(cdata-section? (cdata-section "xxx" 5 #\5)) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">(cdata-section? "xxx") => #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#cdata-section?">cdata-section?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="processing-instruction?"></a> processing-instruction?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(processing-instruction? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is x an XML processing instruction? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(processing-instruction? (processing-instruction "i" "xxx" "yyy")) => #t</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#processing-instruction?">processing-instruction?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-of-type?"></a> ast-of-type?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-of-type? type name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function that returns an AST predicate, which checks if the type of the AST is name. The type is either element-name, kind, or language (a symbol). The resulting predicate may be applied on both ASTs and non-ASTs. If applied on a non-AST, the predicate always returns false. If type is the symbol element-name, the generated predicate checks if a given AST has that element name at top level. If type is the symbol kind, the generated predicate checks if a given AST is either double or single. If type is the symbol language, the generated predicate checks if a given AST belongs to the language. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">type</td> <td class="manual-plain-parameter-description" colspan="2">One of the symbols element-name, kind, or language.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">name</td> <td colspan="3" class="manual-plain-parameter-description">The element-name, the kind-name (double or single), or the language-name, depending on the value of the parameter type. A string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A specialized AST predicate.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Examples</td> <td class="manual-plain-example" colspan="3">((ast-of-type? &#39;element-name "a") (a &#39;href "some-url" &#39;target "some-target" "anchor")) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">((ast-of-type? &#39;kind "double") (a &#39;href "some-url" &#39;target "some-target" "anchor")) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">((ast-of-type? &#39;language "xhtml10-transitional") (a &#39;href "some-url" &#39;target "some-target" "anchor")) => #t</td></tr> <tr><td colspan="4" class="manual-plain-example">((ast-of-type? &#39;xxx "yyy") (a &#39;href "some-url" &#39;target "some-target" "anchor")): ERROR</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-of-type?">ast-of-type?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="char-ent"></a> <a name="SECTION8"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION7"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION9"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">8</span> <span class="manual-section-title">Character Entities.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The function char-ref returns a character-reference. In XML, character references are used to denote characters which are not directly accessible from normal input devices. Notice that the predicated char-ref? is located in the AST predicate section. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="char-ref"></a> char-ref</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(char-ref x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a character reference value for x. The parameter may be a positive, decimal integer or  a symbolic name (string or symbol), such as amp, gt, or lt. Character references are represented internally as an appropriate list structure, similar to an AST list structure. In xml-render, these structures are converted to  XML&#39;s character notation. With this we avoid a conflict with character transformation using the HTML transformation tables. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(char-ref 169) => (char-ref 169)</td></tr> <tr><td colspan="4" class="manual-plain-example">(char-ref "copy") => (char-ref copy)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#char-ref">char-ref</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="char-ref-value"></a> char-ref-value</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(char-ref-value char-ref-structure)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the number or symbol of char-ref-structure. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(char-ref-value (char-ref "copy")) => copy</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#char-ref-value">char-ref-value</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="xml-comments"></a> <a name="SECTION9"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION8"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION10"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">9</span> <span class="manual-section-title">XML Comments.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The xml-comment form documented below allows for native XML comments in an XML-in-LAML document. Use the xml-comment form if it is important for you that LAML outputs native XML comments. In other cases, you may use Scheme comments in your LAML document. XML comments are not rendered if they occur in empty elements. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-comment"></a> xml-comment</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-comment  . comment-text-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Construct an XML comment and return it. This function accepts a list of comment text elements, which together form the aggregated comment text. In this context, a comment text element is a string, or a value which can be converted to a string via use of the function as-string. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">The substring "--" does not occur as part of a comment text element.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(xml-comment "ccc") => (xml-comment ("ccc"))</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-comment">xml-comment</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-comment-contents"></a> xml-comment-contents</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-comment-contents xml-comment)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the comment text of an XML comment. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of strings.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(xml-comment-contents (xml-comment "ccc")) => ("ccc")</td></tr> <tr><td colspan="4" class="manual-plain-example">(xml-comment-contents (xml-comment "ccc" "ddd" 5)) => ("ccc" "ddd" "5")</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-comment-contents">xml-comment-contents</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-render-xml-comment"></a> xml-render-xml-comment</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-render-xml-comment xml-comment)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the xml-comment with space in between the individual comment text elements. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The rendered string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-render-xml-comment">xml-render-xml-comment</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="cdata-sections"></a> <a name="SECTION10"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION9"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION11"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">10</span> <span class="manual-section-title">XML CDATA Sections.</span></td></tr> <tr><td colspan="4" class="manual-section-description">CDATA sections are typically used in script and style elements, to protect the characters &#39;<&#39;, &#39;>&#39;, and others. Most browsers do not render CDATA sections, if they appear within the textual contents. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="cdata-section"></a> cdata-section</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(cdata-section  . cdata-text-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Construct an XML CDATA section and return it. This function accepts a list of comment text elements, which together form the aggregated CDATA section text. In this context, a CDATA text element is a string, or a value which can be converted to a string via use of the function as-string. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">The substring "]]>" does not occur as part of a CDATA text element.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(cdata-section "xxx" "yyy") => (cdata-section ("xxx" "yyy"))</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#cdata-section">cdata-section</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="cdata-section-contents"></a> cdata-section-contents</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(cdata-section-contents cdata-section)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the cdata text of an XML comment. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of strings.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(cdata-section-contents (cdata-section "xxx" "yyy")) => ("xxx" "yyy")</td></tr> <tr><td colspan="4" class="manual-plain-example">(cdata-section-contents (cdata-section "xxx" 5 #\5)) => ("xxx" "5" "5")</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#cdata-section-contents">cdata-section-contents</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-render-cdata-section"></a> xml-render-cdata-section</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-render-cdata-section cdata-section)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the cdata section with space in between the individual cdata text elements. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The rendered string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-render-cdata-section">xml-render-cdata-section</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="processing-instructions"></a> <a name="SECTION11"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION10"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION12"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">11</span> <span class="manual-section-title">XML Processing Instructions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">A processing instruction is an XML technicality for telling something to an application, which  processes the document. Processing instructions are only rendered if they occur in non-empty elements. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="processing-instruction"></a> processing-instruction</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(processing-instruction pi-target  . text-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Construct an XML processing instruction and return it. This function accepts a pitarget and a list of text elements. In this context, text element is a string, or a value which can be converted to a string via use of the function as-string. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">The substring "?>" does not occur as part of a CDATA text element. The pi-target is not "XML" (using upper or lower cases).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">pi-target</td> <td class="manual-plain-parameter-description" colspan="2">A name used to identify the application, towards which the instruction is targeted. </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">text-list</td> <td colspan="3" class="manual-plain-parameter-description">Additional text (a list) </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(processing-instruction "i" "xxx" "yyy") => (processing-instruction "i" ("xxx" "yyy"))</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#processing-instruction">processing-instruction</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="processing-instruction-target"></a> processing-instruction-target</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(processing-instruction-target pi)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the processing instruction pi-target of the processing instruction pi. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a text string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#processing-instruction-target">processing-instruction-target</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="processing-instruction-contents"></a> processing-instruction-contents</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(processing-instruction-contents pi)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the processing instruction text part of the processing instruction pi. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a list of strings.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(processing-instruction-contents (processing-instruction "i" "xxx" "yyy")) => ("xxx" "yyy")</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#processing-instruction-contents">processing-instruction-contents</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-render-processing-instruction"></a> xml-render-processing-instruction</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-render-processing-instruction pi)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the processing instruction pi. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The rendered string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-render-processing-instruction">xml-render-processing-instruction</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="language-bookkeeping"></a> <a name="SECTION12"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION11"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION13"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">12</span> <span class="manual-section-title">XML Language Bookkeeping.</span></td></tr> <tr><td colspan="4" class="manual-section-description">XML-in-LAML keeps track of the XML-in-LAML languages in use, and it will warn you if an ambiguously named mirror function is used. The boolean variable xml-check-language-overlap? can be used to control the reporting of language overlaps (use of ambiguous mirror functions.)<p> Each XML language has a name when used in LAML. The names of all loaded mirrors is returned by the parameter-less function languages-in-use. If N is the name of an XML-in-LAML language, (N &#39;el-name) returns the mirror function named el-name in N.<p> A language map is an association list that maps mirror function names to the mirror functions.  Via use of a language map, it is always possible to acces a mirror function independt of name clashes with  other XML language mirrors. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-in-laml-name-clashes"></a> xml-in-laml-name-clashes</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-in-laml-name-clashes</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The list of names (symbols) which causes name clashes relative to  the current set of languages in use. Assigned by register-xml-in-laml-language. Thus, this variable is always up-to-date in between registrations of languages. Be careful not to redefine this variable by double loading this file. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-in-laml-name-clashes">xml-in-laml-name-clashes</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="register-xml-in-laml-language"></a> register-xml-in-laml-language</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(register-xml-in-laml-language language language-map)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Register that language (the first parameter) is an XML language in use in the current LAML session. This function is called by the mirror function libraries. The first parameter, language, is a symbol. The second parameter, language-map, is the language map of the language. As a precondition it is assumed that we do not register the same language more than once. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#register-xml-in-laml-language">register-xml-in-laml-language</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="language-map-of"></a> language-map-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(language-map-of language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the language map of language. If language is not registered via register-xml-in-laml-language, return #f. The parameter language is a symbol. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#language-map-of">language-map-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="language-in-use?"></a> language-in-use?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(language-in-use? language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is language in use - is it registered as an xml-in-laml language? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(language-in-use? &#39;xhtml10-transitional) => #t</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#language-in-use?">language-in-use?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="languages-in-use"></a> languages-in-use</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(languages-in-use)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the list of language in used, as registered by register-xml-in-laml-language. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(languages-in-use) => (xhtml10-transitional)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#languages-in-use">languages-in-use</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="element-names-of-language"></a> element-names-of-language</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(element-names-of-language language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the element names of language, as defined by its language map. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(element-names-of-language &#39;xhtml10-transitional) => (td th tr col colgroup tbody tfoot thead caption table isindex button legend fieldset textarea option optgroup select input label form area map img applet param object font basefont strike s u small big b i tt sup sub q acronym abbr cite var kbd samp code dfn strong em br bdo span a del ins center blockquote pre hr address dd dt dl li dir menu ol ul h6 h5 h4 h3 h2 h1 p div body noframes iframe noscript script style link meta base title head html)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#element-names-of-language">element-names-of-language</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="causes-xml-in-laml-name-clash?"></a> causes-xml-in-laml-name-clash?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(causes-xml-in-laml-name-clash? name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is name involved in a name clash among the registered xml-in-laml languages? </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#causes-xml-in-laml-name-clash?">causes-xml-in-laml-name-clash?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="activator-via-language-map"></a> activator-via-language-map</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(activator-via-language-map language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return an activator function for language. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of an XML language (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A function which given an XML element name (a string or a symbol) in language returns the appropriate mirror function.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#activator-via-language-map">activator-via-language-map</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="with-xml-language"></a> with-xml-language</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(with-xml-languge language-name . forms)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A macro which globally establishes the name bindings of xml-language and evaluate forms in this state. Does also handle separate checking of ID and IDREF attributes in forms. Works in a manner similar to a fluid-let. As a matter of optimization, only assign the names in the overlap between the XML languages in use. Defined as a syntactical abstraction. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">language-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of a language map (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">forms</td> <td colspan="3" class="manual-plain-parameter-description">A number of Scheme forms presumably involving mirror function names from the XML language language-name.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The value of the last expression in forms</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#with-xml-language">with-xml-language</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#with-xml-language!">with-xml-language!</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">If the overlap between the XML languages in use includes central Scheme functions, such as map or filter, you should use with-xml-language! instead (and put the central Scheme functions in the minus-elements).</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="with-xml-language!"></a> with-xml-language!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(with-xml-languge! language-name minus-elements . forms)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A macro which globally establishes the name bindings of xml-language and evaluate forms in this state. Does also handle separate checking of ID and IDREF attributes in forms. Works in a manner similar to a fluid-let. All elements of xml-language are redefined, except the explictly given minus elements. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">language-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of a language map (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">minus-elements</td> <td colspan="3" class="manual-plain-parameter-description">The list of element names which are not allowed to be reassigned. </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">forms</td> <td colspan="3" class="manual-plain-parameter-description">A number of Scheme forms presumably involving mirror function names from the XML language language-name.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The value of the last expression in forms</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#with-xml-language!">with-xml-language!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#with-xml-language">with-xml-language</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="language-map"></a> <a name="SECTION13"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION12"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION14"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">13</span> <span class="manual-section-title">The Language Map.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The language map is a mapping that allows us to access the element mirror functions independent of any name clash.  In this version of LAML the language map is an association that maps element names (symbols) to function objects. In the longer run, it should be a more efficient search structure. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="get-mirror-function"></a> get-mirror-function</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(get-mirror-function language-map element-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the mirror function based on element-name from language map. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">element-name</td> <td class="manual-plain-parameter-description" colspan="2">The name an XML element. Either a symbol or a string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The mirror function or #f if no mirror function exists in the map.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#get-mirror-function">get-mirror-function</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="put-mirror-function"></a> put-mirror-function</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(put-mirror-function language-map element-name mirror-function)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Update the language map by the association of element-name and mirror function. Returns the updated map. The parameter element-name is either a symbol or a string. Causes an error if there already is an entry for element-name </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#put-mirror-function">put-mirror-function</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="xml-navigation"></a> <a name="SECTION14"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION13"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION15"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">14</span> <span class="manual-section-title">XML Navigation Information.</span></td></tr> <tr><td colspan="4" class="manual-section-description">XML navigation information provides for "smart searching" of XML ASTs. The smartness is based on the following knowledge: (1) The possible direct and indirect sub-elements of a given element. (2) The possible attributes of an element and its direct and indirect  sub-elements. This information is pre-computed in the XML-in-LAML mirror generation tool. The functions in this section provides access to this pre-computed information. Notice that the functions in this section return static information, as derived from the DTD. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="register-xml-in-laml-navigator"></a> register-xml-in-laml-navigator</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(register-xml-in-laml-navigator language navigator-structure)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Register navigator-structure and an XML-in-LAML navigator for language.  This function is called "automatically" when the mirror functions are loaded. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#register-xml-in-laml-navigator">register-xml-in-laml-navigator</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-navigator-of"></a> xml-navigator-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-navigator-of language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the XML navigator structure of language. If language is not registered via register-xml-in-laml-language, return #f. The parameter language is a symbol. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-navigator-of">xml-navigator-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="possible-elements-rooted-by-element"></a> possible-elements-rooted-by-element</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(possible-elements-rooted-by-element element-name language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of element names that can appear as direct or indirect constituents of an AST rooted by element-name. Reflexively, element-name will always be returned as part of  the result. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">language is a registered XML language in the enclosing LAML session, and element-name is an existing name of an element in language.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The list of possible elements names (a list of symbols). The list is sorted alphabetically.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(possible-elements-rooted-by-element "html" &#39;xhtml10-transitional) => (a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol optgroup option p param pre q s samp script select small span strike strong style sub sup table tbody td textarea tfoot th thead title tr tt u ul var)</td></tr> <tr><td colspan="4" class="manual-plain-example">(possible-elements-rooted-by-element "title" &#39;xhtml10-transitional) => (title)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#possible-elements-rooted-by-element">possible-elements-rooted-by-element</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="possible-attributes-rooted-by-element"></a> possible-attributes-rooted-by-element</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(possible-attributes-rooted-by-element element-name language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return a list of attribute names that can appear as direct or indirect constituents of an AST rooted by element-name. Reflexively, the attributes of element-names are always parts of the result. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">language is a registered XML language in the enclosing LAML session, and element-name is an existing name of an element in language.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The list of possible attribute names (a list of symbols). The list is sorted alphabetically.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(possible-attributes-rooted-by-element "br" &#39;xhtml10-transitional) => (class clear id style title)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#possible-attributes-rooted-by-element">possible-attributes-rooted-by-element</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="can-have-element-constituent?"></a> can-have-element-constituent?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(can-have-element-constituent? ast el-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Can ast have a direct or indirect constituent (sub-ast) with element name el-name. The result is always true if (ast-element-name ast) equals to el-name. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">An AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">el-name</td> <td colspan="3" class="manual-plain-parameter-description">is the name of an element in the language of ast (a string or a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#can-have-element-constituent?">can-have-element-constituent?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="mirror-gen"></a> <a name="SECTION15"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION14"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION16"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">15</span> <span class="manual-section-title">Mirror Generation Functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The function generate-xml-mirror-function is the (higher-order) function that generates the mirror of XML elements in Scheme. In addition, this section contains the function that implement the LAML parameter passing rules of the mirror functions, namely, xml-sort-tag-parameters. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-sort-tag-parameters"></a> xml-sort-tag-parameters</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-sort-tag-parameters parameters tag-name [language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Separates parameters according to the mirror rules of LAML. In other words, this is the function which implements the central LAML mirror function rules. Returns a cons cell of contents and attributes. Attributes are returned in property list format. Contents is returned as a list contents elements (strings, ASTs, booleans). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(xml-sort-tag-parameters (list "this" _ "is" &#39;href "url" "end") "a" &#39;xhtml10-transitional) => (("this" "is" #t "end") href "url")</td></tr> <tr><td colspan="4" class="manual-plain-example">(xml-sort-tag-parameters (list "this" "is" &#39;href "url" "end") "a" &#39;xhtml10-transitional) => (("this" #t "is" #t "end") href "url")</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-sort-tag-parameters">xml-sort-tag-parameters</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-sort-superficially-tag-parameters">xml-sort-superficially-tag-parameters</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-sort-superficially-tag-parameters"></a> xml-sort-superficially-tag-parameters</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-sort-superficially-tag-parameters parameters tag-name [language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Like xml-sort-tag-parameters, but collect the content contribution in a relatively raw surface form. Handle attributes in the same way as xml-sort-tag-parameters. As a contrast to xml-sort-tag-parameters,  white space related values are passed unchanged by this function. Use this kind of &#39;sorting&#39; to obtain XML-in-LAML parameter passing in abstractions, which transfer data  to XML-in-LAML mirror functions (which in turn use xml-sort-tag-parameters). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Examples</td> <td class="manual-plain-example" colspan="3">(xml-sort-superficially-tag-parameters (list "this" "is" &#39;href "url" "end") "a" &#39;xhtml10-transitional) => (("this" #t "is" #t "end") href "url")</td></tr> <tr><td colspan="4" class="manual-plain-example">(xml-sort-superficially-tag-parameters (list "this" _ "is" &#39;href "url" "end") "a" &#39;xhtml10-transitional) => (("this" #f "is" #t "end") href "url")</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-sort-superficially-tag-parameters">xml-sort-superficially-tag-parameters</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-sort-tag-parameters">xml-sort-tag-parameters</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="laml-source-prepare"></a> laml-source-prepare</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(laml-source-prepare laml-lst)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Prepare laml-list to be used as input to a mirror function. This function is useful when the result of transform-ast-list is passed as input to a XML mirror function. Elimiate forced-white-space markers, and introduce explict-space-suppres when necessary. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#laml-source-prepare">laml-source-prepare</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">in relation to</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#transform-ast-list">transform-ast-list</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="generate-xml-mirror-function"></a> generate-xml-mirror-function</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(generate-xml-mirror-function validation-procedure tag-name default-dtd-attributes single-double-kind language overlap-check? action-procedure)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return an XML mirror surface function, in which textual content parameters and attribute value pairs can be given in a very liberal fashion.  In the generated mirror function, the internal attribute run-action-procedure controls if an action procedure is executed.  (The value false of internal:run-action-procedure prevents an associated action procedure to be executed. The default value of the internal attribute is true). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="7">Parameters</td> <td class="manual-plain-parameter-name">validation-procedure</td> <td class="manual-plain-parameter-description" colspan="2">the procedure that validates all aspects of the application of the element mirror function.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">tag-name</td> <td colspan="3" class="manual-plain-parameter-description">a string which represents the name of the tag (used for error message purposes).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">default-dtd-attributes</td> <td colspan="3" class="manual-plain-parameter-description">an alist of attribute key value pairs, as specified in the DTD. </td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">single-double-kind</td> <td colspan="3" class="manual-plain-parameter-description">either the symbol single, double or possible-single.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">language</td> <td colspan="3" class="manual-plain-parameter-description">the language in use (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">overlap-check?</td> <td colspan="3" class="manual-plain-parameter-description">controls whether to check for name clashes in between the registered XML-in-LAML languages.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">action-procedure</td> <td colspan="3" class="manual-plain-parameter-description">serves both as a boolean and a procedure. If #f, no action procedure is supplied. If #t, the action procedure is taken from the action procedure map. If a procedure, the given procedure is used as the action procedure.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#generate-xml-mirror-function">generate-xml-mirror-function</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="validation"></a> <a name="SECTION16"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION15"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION17"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">16</span> <span class="manual-section-title">Contents Validation.</span></td></tr> <tr><td colspan="4" class="manual-section-description"> The definitions in this section carry out the content validation.  Throughout the procedures in this section it is assumed that delayed procedural content items have been expaneded before content validation is attempted.  </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="validate-contents-by-dfa!"></a> validate-contents-by-dfa!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(validate-contents-by-dfa! contents dfa tag-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply the deterministic finte state automaton dfa on contents.  If contents is not accepted call xml-check-error for an appropriate reporting of the validation error. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">contents</td> <td class="manual-plain-parameter-description" colspan="2">A list of content items, such as strings, ASTs and white space markers.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">dfa</td> <td colspan="3" class="manual-plain-parameter-description">A deterministic final state automation which controls the acceptance.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">tag-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the element - used for error message purposes. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#validate-contents-by-dfa!">validate-contents-by-dfa!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="validate-as-pcdata!"></a> validate-as-pcdata!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(validate-as-pcdata! contents tag-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Validate that contents is pure PCDATA. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">contents</td> <td class="manual-plain-parameter-description" colspan="2">A list of content items, such as strings, ASTs and white space markers.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">tag-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the element - used for error message purposes. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#validate-as-pcdata!">validate-as-pcdata!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="validate-mixed-contents-by-simple-means!"></a> validate-mixed-contents-by-simple-means!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(validate-mixed-contents-by-simple-means! contents symbol-choice-list tag-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Validate that contents corresponds to mixed contents. Mixed contents includes PCDATA a number of other choices in a &#39;zero-or-more&#39; structure. It means that it is PCDATA or one of a number of possible ASTs. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">contents</td> <td class="manual-plain-parameter-description" colspan="2">A list of content items, such as strings, ASTs or white space markers.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">tag-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the element in which we check the constituents.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">symbol-choice-list</td> <td colspan="3" class="manual-plain-parameter-description">A list of symbols for the possible choices - a list of symbols.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#validate-mixed-contents-by-simple-means!">validate-mixed-contents-by-simple-means!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="extraordinary-allow-element?"></a> extraordinary-allow-element?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(extraordinary-allow-element? element-name context-element-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is element-name extraordinarily allowed within context-element-name (both symbols). By redefining this function you may extraordinarily allow element-name to appear within context-element-name. By default, this function always returns the value #f (false). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#extraordinary-allow-element?">extraordinary-allow-element?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="attribute-check"></a> <a name="SECTION17"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION16"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION18"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">17</span> <span class="manual-section-title">Attribute Checking.</span></td></tr> <tr><td colspan="4" class="manual-section-description"> The definitions in this section is used by the validation procedures, which are specific for each supported XML language. <em> Current status of attribute checking</em>:  From LAML version 27: The constrains regarding ID, IDREF, and IDREFS are now handled. See the function check-id-and-idref-attributes!. NotationTypes are not dealt with - mostly because I have never encountered them, so the motivation to program check for this special enumeration type is not high. The #FIXED default keyword is present in the parsed DTD information, but we do not carry out any check against it (which is: If the attribute is given it must have the fixed default value). The attribute value normalization called for in section 3.3.3 of the XML specificaiton is not done either. Attribute duplication is checked for, as well as presence of angle characters in attribute values. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-check-attributes!"></a> xml-check-attributes!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-check-attributes! attributes dtd-attribute-definition number-of-req-attributes tag-name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Check the attributes (first par) in the calling form against the attribute definitions taken from the DTD file (second par). The first parameter, attribute, is the attributes of the calling form, on property list form: (a1 v1 ... an vn). ai is a symbol and vi is a string. The second parameter dtd-attribute-definition is the attributes as defined in the dtd for the element in question. The third parameter number-of-req-attributes is the number of required attributes in dtd-attr-definitions. It happens to be the case that all the required attributes are located in the front of dtd-attribute-definition. The fourth parameter, tag-name, is the name of the enclosing tag. dtd-attribute-definition is a list of  triples (attr-name attr-type require-status). attr-name is a string, attr-type is a string or a list of strings (possibilities), and require-status is a string such as "#IMPLIED" or "#REQUIRED" </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-check-attributes!">xml-check-attributes!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="check-id-and-idref-attributes!"></a> check-id-and-idref-attributes!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(check-id-and-idref-attributes!)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Check that the ID and IDREF attribute values are used according to the XML 1.0 specification. This function is called by the end-laml function, as redefined in this library (lib/xml-in-laml/xml-in-laml.scm). You may also chose to call this function yourself, as part of the processing of your XML document. This procedure resets the variables bookkeeping of ID and IDREF attribute checking such that if the procedure is called again it will not report the same errors again. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#check-id-and-idref-attributes!">check-id-and-idref-attributes!</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION18"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION17"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION19"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">18</span> <span class="manual-section-title">Link Checking.</span></td></tr> <tr><td colspan="4" class="manual-section-description">Web documents are able to link to other web documents. As an example, in XHTML the href attribute of the a element represents such a link. The procedures in this section are used to check that links actually address existing resources.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="collect-links-for-later-checking-in-ast!"></a> collect-links-for-later-checking-in-ast!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(collect-links-for-later-checking-in-ast! xml-ast absolute-target-html-file)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Collect the urls in xml-ast, which are about to be written to the file absolute-target-html-file (full path). The urls are collected in the global variables relative-url-list-for-later-checking and absolute-url-list-for-later-checking. The links are intended to be checked at a later point in time. Each XML language L comes with an URL extraction function, returned by (url-extractor-of-xml-language L), which returns a list of URLs when applied on an AST. Similarly, theres is a function (url-extractor-of-xml-language L) for handling of base URLs. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#collect-links-for-later-checking-in-ast!">collect-links-for-later-checking-in-ast!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">URL extraction</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#url-extractor-of-xml-language">url-extractor-of-xml-language</a>  <a class="manual-plain-internal-reference" href="#base-url-extractor-of-xml-language">base-url-extractor-of-xml-language</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">About link checking in LAML</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../info/link-checking.html">Note</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="check-relative-url-list!"></a> check-relative-url-list!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(check-relative-url-list! relative-urls)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Checks the existense of the resources addressed by the urls in relative-urls Some of the elements may be boolean #f, which signals that they should not be checked. In a typical checking sessions, the same file or directory may be checked more than once. As an alternative to the current implementation of this function, we could eliminate duplicate entries in relative-url-list before the existence check is done. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#check-relative-url-list!">check-relative-url-list!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">About link checking in LAML</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../info/link-checking.html">Note</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="check-absolute-url-list!"></a> check-absolute-url-list!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(check-absolute-url-list! absolute-urls)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Checks the existense of the resources addressed by the urls in absoute-urls. A given URL in the list is only checked once.  Also increment the counter absolute-url-problem-count in case of problems with absolute-urls. Requires the function url-target-exists? which is one of the LAML compatibility functions. Currently, we do not a have a good implementation of url-target-exists? in the LAML distribution. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#check-absolute-url-list!">check-absolute-url-list!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">About link checking in LAML</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../info/link-checking.html">Note</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="validation-functions"></a> <a name="SECTION19"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION18"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION20"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">19</span> <span class="manual-section-title">XML validation procedures.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions in this section provide access to the XML-in-LAML validation procedures. The validation functions are part of the mirrors of a given XML language in Scheme. In normal and native use of XML-in-LAML, the validation procedures are called by the mirror functions. If the internal AST structure is created by other means (for instance authored directly, or made via a parser) it is relevant to get access to the validation procedures. This is the rationale behind the functions in this section. Thus, the procedures in this section use the functions from the sections Contents Validation and Attribute Checking. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="validation-procedure-map-of"></a> validation-procedure-map-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(validation-procedure-map-of language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A validation procedure map of an XML language is a sorted, associative vector that maps element names to XML validation procedures. The validation procedures are produced by the XML-in-LAML mirror generation tool. This function returns the sorted associative vector of language. If no validation procedure map exists for language, this function returns false. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">language</td> <td class="manual-plain-parameter-description" colspan="2">The name of the language (string or symbol)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#validation-procedure-map-of">validation-procedure-map-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="validation-procedure-of"></a> validation-procedure-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(validation-procedure-of element-name language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the XML validation procedure of the element named element-name in language. A validation procedure is created by the XML-in-LAML mirror generation tool on basis of an XML DTD of language. A validation procedure takes four parameters: element-name (string), attributes (property list),  element content item list, and a boolean (XML language overlap check or not). If language does not make sense, or if the element is unknown in the validation procedure map, return #f </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">element-name</td> <td class="manual-plain-parameter-description" colspan="2">The name of the element (string or symbol)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">language</td> <td colspan="3" class="manual-plain-parameter-description">The name of the language (string or symbol)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#validation-procedure-of">validation-procedure-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="register-xml-in-laml-validators"></a> register-xml-in-laml-validators</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(register-xml-in-laml-validators language validator-structure)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Register validator-structure for language.  This function is called "automatically" when the mirror functions are loaded. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#register-xml-in-laml-validators">register-xml-in-laml-validators</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="validate-ast!"></a> validate-ast!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(validate-ast! ast [given-language language-overlap-check?])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Validate ast. XML validation is integrated in the mirrors of the XML elements in Scheme.  Thus, this procedure is only useful if the AST is created by other means (manually, or via a parser, for instance). Validation problems are reported by the procedure xml-check-error. This is a procedure that produces errors or warnings (depending on xml-check-error). The ast is valid if no error messages or warnings are produced by this function.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">The internal representation of the document to be checked</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">given-language</td> <td colspan="3" class="manual-plain-parameter-description">The XML language to which ast belongs. Defaults to (ast-language ast). A symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">language-overlap-check?</td> <td colspan="3" class="manual-plain-parameter-description">Check for mutual naming overlap among the loaded XML languages. A boolean. Defaults to #t.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#validate-ast!">validate-ast!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">error function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-check-error">xml-check-error</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="warning-proc"></a> <a name="SECTION20"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION19"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION21"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">20</span> <span class="manual-section-title">XML warning procedures.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="display-xml-warning"></a> display-xml-warning</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(display-xml-warning  . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A variant of display-warning which prefixes the warning text with a &#39;XML Warning&#39; prefix. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#display-xml-warning">display-xml-warning</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-check-error"></a> xml-check-error</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-check-error . messages)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The procedure that reports XML validation errors. The default is display-xml-warning, which issues non-fatal warning messages. As an alternative you can use laml-error which provides for fatal error messaging. Both of these accept an arbitrary number of parameters, which are string converted prior to string appending them. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-check-error">xml-check-error</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">default value</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#display-xml-warning">display-xml-warning</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">alternative value</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../man/general.html#laml-error">laml-error</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="rendering"></a> <a name="SECTION21"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION20"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION22"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">21</span> <span class="manual-section-title">Rendering functions and procedures.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions and procedures in this section transform the internal document representation (abstract syntax trees) to a textual form (text strings) which can be delivered in various ways (as strings or in streams). Both pretty printed and non pretty printed renderings are supported. In the start of the section we document a couple of variable that controls aspects of the  </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="compact-end-tag-rendering?"></a> compact-end-tag-rendering?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">compact-end-tag-rendering?</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable that controls how end tags are rendered when pretty printing is applied. If the value of the variable is true (#t) there will be no newline character and no indentation in front of an end tag. Use of the value true implies that a number of end tags will follow each other on the same line, and immediately after the element contents. This is not a nice pretty printing, but it is necessary to obtain a correct rendering in most browsers. If the value of the variable is false (#f) the end tag will be nicely aligned with the start tag. We recommend the value false (#f) because most browsers leaves a trace of white space before end tags. The default value is false (#f). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#compact-end-tag-rendering?">compact-end-tag-rendering?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="use-empty-tags-for-elements-without-contents"></a> use-empty-tags-for-elements-without-contents</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">use-empty-tags-for-elements-without-contents</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable that controls how elements without contents are rendered. If the value of the variable is true (#t) always use the empty element tag for elements that happen to have no contents. If the value of the variable is false (#f), only use the empty element tag for elements that are statically declared to be empty. For reasons of interoperability with old browsers we recommend the value false (#f). The default value is false (#f). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#use-empty-tags-for-elements-without-contents">use-empty-tags-for-elements-without-contents</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="render-to-output-port"></a> render-to-output-port</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(render-to-output xml-clause output-port [prolog epilog])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the XML clause (an AST) to output-port. output-port is assumed to be open. output-port will not be closed by this procedure. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-port</td> <td colspan="3" class="manual-plain-parameter-description">an open output port</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">prolog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol prolog, in which case (standard-prolog) is inserted, or a prolog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">epilog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol epilog in which case (standard-epilog) is inserted, or a epilog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#render-to-output-port">render-to-output-port</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">standard-prolog</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#standard-prolog">laml.scm</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">standard-epilog</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#standard-epilog">laml.scm</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pretty-render-to-output-port"></a> pretty-render-to-output-port</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pretty-render-to-output-port xml-clause output-port [prolog epilog])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Pretty print the XML clause (an AST) to output-port. output-port is assumed to be open. output-port will not be closed by this procedure. The constants preferred-maximum-width and indentation-delta affect the pretty printing. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-port</td> <td colspan="3" class="manual-plain-parameter-description">an open output port</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">prolog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol prolog, in which case (standard-prolog) is inserted, or a prolog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">epilog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol epilog in which case (standard-epilog) is inserted, or a epilog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#pretty-render-to-output-port">pretty-render-to-output-port</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">standard-prolog</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#standard-prolog">laml.scm</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">standard-epilog</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#standard-epilog">laml.scm</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="render-start-tag-to-output-port"></a> render-start-tag-to-output-port</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(render-start-tag-to-output-port xml-clause output-port)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the start-tag of xml-clause (a LAML AST) to output-port. With this function, only the start tag and the attributes of the top-level element is rendered to the port. This function is primarily useful for stepwise imperative processing of an XML document. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-port</td> <td colspan="3" class="manual-plain-parameter-description">an open output port</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#render-start-tag-to-output-port">render-start-tag-to-output-port</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="render-end-tag-to-output-port"></a> render-end-tag-to-output-port</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(render-end-tag-to-output-port xml-clause output-port)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the end-tag of xml-clause (a LAML AST) and return the rendered string. With this function, only the end tag of the top-level element is rendered to the port. This function is primarily useful for stepwise imperative processing of an XML document. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-port</td> <td colspan="3" class="manual-plain-parameter-description">an open output port</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#render-end-tag-to-output-port">render-end-tag-to-output-port</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-render"></a> xml-render</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-render xml-clause [prolog epilog])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the xml-clause (a LAML AST) and return the rendered string. In this context, rendering means linearization of the AST to its textual form. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">prolog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol prolog, in which case (standard-prolog) is inserted, or a prolog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">epilog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol epilog in which case (standard-epilog) is inserted, or a epilog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-render">xml-render</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pretty-xml-render"></a> pretty-xml-render</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pretty-xml-render xml-clause [prolog epilog])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Pretty print xml-clause (a LAML AST) and return the rendered string. In this context, rendering means linearization of the AST to its textual, pretty printed form. The constants preferred-maximum-width and indentation-delta affect the pretty printing. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">prolog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol prolog, in which case (standard-prolog) is inserted, or a prolog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">epilog</td> <td colspan="3" class="manual-plain-parameter-description">The symbol epilog in which case (standard-epilog) is inserted, or a epilog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#pretty-xml-render">pretty-xml-render</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="start-tag-of"></a> start-tag-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(start-tag-of xml-clause)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the start-tag of xml-clause (a LAML AST) and return the rendered string. With this function, only the start tag and the attributes of the top-level element is rendered and returned. This function is primarily useful for stepwise imperative processing of an XML document. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#start-tag-of">start-tag-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="end-tag-of"></a> end-tag-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(end-tag-of xml-clause)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the end-tag of xml-clause (a LAML AST) and return the rendered string. With this function, only the end tag of the top-level element is rendered and returned. This function is primarily useful for stepwise imperative processing of an XML document. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#end-tag-of">end-tag-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-render-as-laml"></a> xml-render-as-laml</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-render-as-laml contents)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">An rendering function which delivers a source-like Scheme expression as result (as a text string). Can be used for error message purposes, and other purposes as well. This function is slow due to use of heavy recursive string concatenation.   See the faster alternative referred below. If you write the resulting string to a file, with write-text-file, it is often useful to pretty-print this file with scheme-pp. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">contents</td> <td class="manual-plain-parameter-description" colspan="2">An AST, textual contents (a string) (and others), or a list of such content items.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A text string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-render-as-laml">xml-render-as-laml</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Faster alternative</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#render-as-laml-string">render-as-laml-string</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Output port alternative</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#render-as-laml-to-output-port">render-as-laml-to-output-port</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Writing text string to file</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../lib/man/file-read.html#write-text-file">write-text-file</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">Useful post processing function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../man/laml.html#scheme-pp">scheme-pp</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">This function actually accepts an optional parameter, which we do not document.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="render-as-laml-to-output-port"></a> render-as-laml-to-output-port</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(render-as-laml-to-output xml-clause output-port)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the XML clause (an AST) as a (non-pretty printed) LAML source text to output-port. output-port is assumed to be open. output-port will not be closed by this procedure. As of June 2007, this function is still experimental. Some aspects of the AST may not yet be handled correctly.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">output-port</td> <td colspan="3" class="manual-plain-parameter-description">an open output port</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">prolog</td> <td colspan="3" class="manual-plain-parameter-description">a prolog string to be inserted (a prefix)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">epilog</td> <td colspan="3" class="manual-plain-parameter-description">an epilog string to be inserted (a suffix)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#render-as-laml-to-output-port">render-as-laml-to-output-port</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">A variant that returns a string</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#render-as-laml-string">render-as-laml-string</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="render-as-laml-string"></a> render-as-laml-string</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(render-as-laml-new xml-clause [prolog epilog])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Render the xml-clause (a LAML AST) as a (non-pretty printed) LAML source text to output-port and return the rendered string. As of June 2007, this function is still experimental. Some aspects of the AST may not yet be handled correctly.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">xml-clause</td> <td class="manual-plain-parameter-description" colspan="2">an AST</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">prolog</td> <td colspan="3" class="manual-plain-parameter-description">A prolog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">epilog</td> <td colspan="3" class="manual-plain-parameter-description">An epilog string to be inserted</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#render-as-laml-string">render-as-laml-string</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">A much slower version</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-render-as-laml">xml-render-as-laml</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">A variant that renders to port</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#render-as-laml-to-output-port">render-as-laml-to-output-port</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-render-as-simple-text"></a> xml-render-as-simple-text</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-render-as-simple-text contents)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Pure textual rendering of contents. Strips all markup. Suppress all superfluous white spacing. No formatting is provided at all. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">contents</td> <td class="manual-plain-parameter-description" colspan="2">An AST, textual contents (a string, CDATA), char-ref, etc, and a list of such content items.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">a text string without markup and without any formatting.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-render-as-simple-text">xml-render-as-simple-text</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="element-mod"></a> <a name="SECTION22"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION21"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION23"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">22</span> <span class="manual-section-title">Element related functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">This section contains (mostly) higher-order functions that are related to  the mirrors of the XML elements.   </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-modify-element"></a> xml-modify-element</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-modify-element element  . attributes-and-contents)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Bind some attributes content elements of element (the first parameter) and return a new, &#39;modified element function&#39;. With this, some attributes and some content elements are pre-bound to certain values in the modified element. The parameter attributes-and-contents is of the same form as the parameters to a LAML surface mirror functions. In fact, attributes-and-contents is appended to the actual parameters, which are passed to the modified element function. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">an attribute-modified mirror function</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Examples</td> <td class="manual-plain-example" colspan="3">(define a-main (modify-element a &#39;target "main"))</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-modify-element">xml-modify-element</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-modify-element-prepend">xml-modify-element-prepend</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-modify-element-prepend"></a> xml-modify-element-prepend</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-modify-element-prepend element  . attributes-and-contents)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A function similar to xml-modify-element, but instead of appending attributes-and-contents to the actual parameters of the modified function, it prepends attributes-and-contents. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-modify-element-prepend">xml-modify-element-prepend</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-modify-element">xml-modify-element</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="abstraction-fu"></a> <a name="SECTION23"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION22"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION24"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">23</span> <span class="manual-section-title">XML in LAML abstraction functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions in this category are higher-order functions which generate functions that obey XML-in-LAML parameter passing rules. In other words, the function that are generated use the same parameter conventions as the mirror functions of the HTML and XML elements. The most useful function is xml-in-laml-abstraction.  xml-in-laml-positional-abstraction is a generalized version of  xml-in-laml-abstraction. The function xml-in-laml-parametrization is only useful if you want to interface between XML-in-LAML parameter passing rules and a function with simple, conventional, positional parameter passing. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-in-laml-abstraction"></a> xml-in-laml-abstraction</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-in-laml-abstraction f [parameter-validator! f-name language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generate a function with XML-in-LAML parameter passing rules, which passes its contents to the first parameter of f, and its attributes to the second parameter of f. The function f can call and XML-in-LAML mirror function, or another XML-in-LAML abstraction. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">Parameters</td> <td class="manual-plain-parameter-name">f</td> <td class="manual-plain-parameter-description" colspan="2">A transformer function of two parameters - contents and the attribute property list. The generated function returns the value of f applied on contents and attributes.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">parameter-validator!</td> <td colspan="3" class="manual-plain-parameter-description">A checking procedure of two parameters - contents and the attribute property list. Must report errors explicitly by xml-check-error.
                                Defaults to a validator that always returns #t.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the abstraction - used for error message purposes only. A string.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">language</td> <td colspan="3" class="manual-plain-parameter-description">The name of the XML language to which the generated xml-in-laml abstraction belongs.
                    If you wish the most precise warnings or error messages you should pass this parameter. A symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="6">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-in-laml-abstraction">xml-in-laml-abstraction</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">internally applied function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-sort-superficially-tag-parameters">xml-sort-superficially-tag-parameters</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-in-laml-parametrization">xml-in-laml-parametrization</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">generalized function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-in-laml-positional-abstraction">xml-in-laml-positional-abstraction</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">useful par. validator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#required-implied-attributes">required-implied-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">LAML tutorial</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../tutorial/higher-order-authoring/html/index.html">Web authoring with higher-order functions</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">See the LAML tutorial referenced above for additional discussion and examples. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-in-laml-positional-abstraction"></a> xml-in-laml-positional-abstraction</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-in-laml-positional-abstraction n m f [parameter-validator! f-name language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generate a function with XML-in-LAML parameter passing rules, together with a number of required parameters before and after the XML-in-LAML parameters. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">n + m is less than or equal to the length of parameterlist of the generated function. (Condition checked by this function).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="6">Parameters</td> <td class="manual-plain-parameter-name">n</td> <td class="manual-plain-parameter-description" colspan="2">The number of positional parameters before the XML-in-LAML parameter section.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">m</td> <td colspan="3" class="manual-plain-parameter-description">The number of positional parameters after the XML-in-LAML parameter section.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f</td> <td colspan="3" class="manual-plain-parameter-description">A transformer function of n + 2 + m parameters. The two parameters in the middle are the contents and the attributes. The generated function returns the value of f applied on contents and attributes together with the positional parameters.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">parameter-validator!</td> <td colspan="3" class="manual-plain-parameter-description">A checking procedure of two parameters - contents and the attribute property list. Must report errors explicitly by xml-check-error. Cannot validate the positional parameters.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the abstraction - used for error message purposes only.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">language</td> <td colspan="3" class="manual-plain-parameter-description">The name of the XML language to which the generated xml-in-laml abstraction belongs.
                    If you wish the most precise warnings or error messages you should pass this parameter. A symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-in-laml-positional-abstraction">xml-in-laml-positional-abstraction</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">specialized function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-in-laml-abstraction">xml-in-laml-abstraction</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">useful par. validator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#required-implied-attributes">required-implied-attributes</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-in-laml-parametrization"></a> xml-in-laml-parametrization</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(xml-in-laml-parametrization f parameter-mediator [parameter-validator! f-name language])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generate a function with XML-in-LAML parameter passing rules which sends its input to an ordinary function, f, with positional parameters via a parameter mediator. The first parameter, f, is typically a web-related function with positional parameter correspondence (such as an existing, old-style &#39;conveninece function&#39;). The parameter parameter-mediator is a function that generates a parameter list for f from content-list and the attributes property list, which is produced by the function xml-sort-tag-parameters. Thus, the parameter-mediator function translates the &#39;new parameter profile&#39; to the &#39;old one&#39;, which is associated with f. The optional procedure parameter-validator! validates the contents-list and the attribute-list by reporting problems via xml-check-error. The optional f-name parameter is a string corresponding to the name of f (used for error message purposes only). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">Parameters</td> <td class="manual-plain-parameter-name">f</td> <td class="manual-plain-parameter-description" colspan="2">An &#39;old style&#39; fuction web function with positional parameters. Is applied on the result of parameter-mediator.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">parameter-mediator</td> <td colspan="3" class="manual-plain-parameter-description">a function of two parameters (contents-list and attribute property list) which transforms the new style parameters to the old style. f is applied on the output of parameter-mediator!</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">parameter-validator!</td> <td colspan="3" class="manual-plain-parameter-description">a procedure of two parameters (contents-list and attribute property list) which validates the input of the generated function.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">f-name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the generated function. Solely used for error message purposes.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">language</td> <td colspan="3" class="manual-plain-parameter-description">The name of the XML language to which the generated xml-in-laml parametrization belongs. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-in-laml-parametrization">xml-in-laml-parametrization</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-sort-tag-parameters">xml-sort-tag-parameters</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-in-laml-abstraction">xml-in-laml-abstraction</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">useful par. validator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#required-implied-attributes">required-implied-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">LAML tutorial</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-external-reference" href="../../../tutorial/higher-order-authoring/html/index.html">Web authoring with higher-order functions</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">See the LAML tutorial referenced above for additional discussion and examples.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="required-implied-attributes"></a> required-implied-attributes</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(required-implied-attributes required-attribute-names implied-attribute-names [tag-name])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function which returns an attribute checker. Report problems via xml-check-error. Check that all required-attribute-names are present and that the actual attributes are covered by required-attribute-names and implied-attribute-names together. The generated functions can be used as parameter valdiator procedures in xml-in-laml-abstraction and xml-in-laml-parametrization </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">required-attribute-names</td> <td class="manual-plain-parameter-description" colspan="2">A list of attribute names (symbols) which are required.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">implied-attribute-names</td> <td colspan="3" class="manual-plain-parameter-description">A list of additional attribute names (symbols) which are allowed, or the list (*) - a singleton list with the symbol * - in the meaning of any attribute.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#required-implied-attributes">required-implied-attributes</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">relevant context of use</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-in-laml-abstraction">xml-in-laml-abstraction</a>  <a class="manual-plain-internal-reference" href="#xml-in-laml-parametrization">xml-in-laml-parametrization</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">error function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#xml-check-error">xml-check-error</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="ast-transf"></a> <a name="SECTION24"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION23"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION25"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">24</span> <span class="manual-section-title">AST traversal and AST transformation functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The AST traversal functions extract information from AST by means of traversal and searching. The "find" functions use guided search, aided by the XML navigation information which is derived from the XML DTD. The "traverse-and-collect" functions are slightly more general (with a node-interesting? predicate), but they do not (and cannot) make use of the XML navigation information. Thus, these function do an exhaustive search. The "find" and "transverse-and-collect" functions in this section constitute a &#39;minimalistic transformation framework&#39; in LAML, which is useful for target-controlled transformation of an AST. The function transform-ast is useful for comprehensive, recursive, source-controlled transformation of an AST (similar to a typical use of XSLT). The following section contains more sophisticated locator functions. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="find-asts"></a> find-asts</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(find-asts ast el-name [ast-transformer])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Find and return a list of transformed sub ASTs of ast (first parameter) each with a root element of name el-name. The search is guided by the XML navigation information, hereby pruning the tree traversal.  The AST is traversed in pre-order. The transformation of the resulting sub-ASTS is done by the optional ast-transformer. If a sub-ast is returned as a part of the result then the sub-ast is not searched internally for recursive matches. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">An AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">el-name</td> <td colspan="3" class="manual-plain-parameter-description">A name of an element in the language of ast (a string or symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ast-transformer</td> <td colspan="3" class="manual-plain-parameter-description">An optional AST transformation function, which defaults to the identity function id-1.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A list of transformed ASTs.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#find-asts">find-asts</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a>  <a class="manual-plain-internal-reference" href="#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a>  <a class="manual-plain-internal-reference" href="#find-first-ast">find-first-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">related functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a>  <a class="manual-plain-internal-reference" href="#find-first-ast">find-first-ast</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="find-first-ast"></a> find-first-ast</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(find-first-ast ast el-name [ast-transformer])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Find and return a sub-AST of ast (first parameter) with a root element of name el-name. The search is guided by the XML navigation information, hereby pruning the tree traversal. The AST is traversed in pre-order. When an appropriate sub-AST is found, the search is terminated. The transformation of the resulting sub-ASTS is done by the optional ast-transformer. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">An AST.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">el-name</td> <td colspan="3" class="manual-plain-parameter-description">A name of an element in the language of ast (a string or symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ast-transformer</td> <td colspan="3" class="manual-plain-parameter-description">An optional AST transformation function, which defaults to the identity function id-1.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A transformed AST, or #f</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#find-first-ast">find-first-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">related functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a>  <a class="manual-plain-internal-reference" href="#find-asts">find-asts</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="unique-ast-attribute"></a> unique-ast-attribute</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(unique-ast-attribute ast name [default-attribute-value])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the value of the attribute name in ast, or in one of the subtrees of ast. If, from a static consideration, the attribute is not unique in ast, a fatal error occurs.  The default attribute value is only applied if the attribute could occur, but if it does NOT in the actual AST. This function is useful for extraction of deep attributes given the fact that they only can occur once in the document, according to both the actual document structure and the statically extracted XML navigation information. The navigation towards a deep, unique attribute is efficient. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">Statically, only one occurence of attr-name can appear in ast.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">The AST in which to look for the attribute</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">name</td> <td colspan="3" class="manual-plain-parameter-description">The name of the attribute (symbol or string)</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">default-attribute-value</td> <td colspan="3" class="manual-plain-parameter-description">The default value, used if no attribute of name is found, but only if it is allowed to occur. A string.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#unique-ast-attribute">unique-ast-attribute</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">related function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-attribute">ast-attribute</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="traverse-and-collect-all-from-ast"></a> traverse-and-collect-all-from-ast</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(traverse-and-collect-all-from-ast ast-tree node-interesting? ast-transformer)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Traverse all nodes of the AST ast-tree, and return transformed subtrees that satisfy the node-interesting? predicate. No traversal takes place inside subtrees that sastify the node-interesting? predicate. The transformation of the interesting subtree is done with ast-transformer (the third parameter). Non-AST constituents of the AST (CDATA and white space markers) are not visited during the traversal, and delayed procedural content items are not taken into account. The traversal is done in pre-order. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast-tree</td> <td class="manual-plain-parameter-description" colspan="2">The AST to be traversed.  May also be a content list (such as a list of ASTs) as returned by the function ast-subtrees.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">node-interesting?</td> <td colspan="3" class="manual-plain-parameter-description">The AST predicate that identifies the ASTs of interest.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ast-transformer</td> <td colspan="3" class="manual-plain-parameter-description">The function which is applied on the ASTs identified by node-interesting?</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The mapping of the function ast-transformer on the list of interesting subtrees.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">useful as parameter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-of-type?">ast-of-type?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">sibling function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#find-asts">find-asts</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">The higher-order function ast-of-type? generates useful node-interesting? functions.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="traverse-and-collect-first-from-ast"></a> traverse-and-collect-first-from-ast</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(traverse-and-collect-first-from-ast ast-tree node-interesting? ast-transformer)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Traverse the AST ast-tree, and return a transformation of the first subtree which satisfies the predicate node-interesting. The transformation of the interesting subtree is done with ast-transformer (the third parameter). Non-AST constituents of the AST (CDATA and white space markers) are not visited during the traversal. The traversal is done in pre-order. Return #f in case no match is found. In fact, return the transformed AST, applying ast-transformer on the returned tree. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast-tree</td> <td class="manual-plain-parameter-description" colspan="2">The AST to be traversed. May also be a content list (such as a list of ASTs) as returned by the function ast-subtrees.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">node-interesting?</td> <td colspan="3" class="manual-plain-parameter-description">The AST predicate that identifies the ASTs of interest.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">ast-transformer</td> <td colspan="3" class="manual-plain-parameter-description">The function which is applied on the ASTs identified by node-interesting?</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">(ast-transformer TR), where TR is the first encounted tree matched by node-interesting? or #f if no tree is matched.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="4">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">useful as parameter</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-of-type?">ast-of-type?</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">sibling function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#find-first-ast">find-first-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">The higher-order function ast-of-type? generates useful node-interesting? functions.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="transform-ast"></a> transform-ast</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(transform-ast transform-specs source-items)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Transform source item(s) by means of transform-specs.  The first applicable transformation in transform-specs is applied.   Applies the function positive-to-negative-ast-spacing on any AST before the transformation process. Recursive transformations, initiated in the transformation functions of transform-specs, should be done by means of the function apply-transformation-on. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">ASTs in source are positive spaced. At least one transformation in the transform-spec MUST be applicable.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">source-items</td> <td class="manual-plain-parameter-description" colspan="2">A content item, a list of content items. This can be an AST, or a list of ASTs. It can also be CDATA (a text string or a list of text strings).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">transform-spec</td> <td colspan="3" class="manual-plain-parameter-description">A list of transformation specifications. Each transformation specification is itself a list of length 2: (input-predicate transformation-function).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">The transformed source (such as an AST or a list of ASTs).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#transform-ast">transform-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">recursive transformation</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#apply-transformation-on">apply-transformation-on</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">applied function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#positive-to-negative-ast-spacing">positive-to-negative-ast-spacing</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">Notice that it is up to the transformation specifications to decide if recursive transformation is done.
      Organize transformation-spec with the most specialized transformations first, and the most general transformations last.
      Be sure that at least one transformation is applicable.
      It is possible to to ignore &#39;non-matched source items&#39; by having (list (lambda (x) #t) (lambda (source) &#39;())) as the last element in the transformation specification.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="apply-transformation-on"></a> apply-transformation-on</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(apply-transformation-on source-items)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Do recursive transformation on a content source item, or a list of content source items (such as an AST, or a list of ASTs). At top level, always apply the function transform-ast.  Within the transformation functions (of a transform-specs of transform-ast) perform recursive transformations by apply-transformation-on. This function uses the same transformation specification as the original call of transform-ast. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">Parameters</td> <td class="manual-plain-parameter-name">source-items</td> <td class="manual-plain-parameter-description" colspan="2">A content item, a list of content items. This includes an AST, and a list of ASTs. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#apply-transformation-on">apply-transformation-on</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">top-level transformation</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#transform-ast">transform-ast</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="transform-ast-list"></a> transform-ast-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(transform-ast-list input-list  . transform-specs)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply the transformation-specs on input-list and return a list of transformed input elements. This function can, for instance, be applied on the subtree list of an AST. A single transformation spec is a list of two element: A predicate and a transformation function. A transformation function is applied if the corresponding predicate holds on the input element. If no predicate holds on an input element, the input element is returned (not copied) without being transformed. No recursive transformations are done by this function. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">input-list</td> <td class="manual-plain-parameter-description" colspan="2">Each element in input-list can be an AST, a string, a character reference, or a white space related marker</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">transform-spec</td> <td colspan="3" class="manual-plain-parameter-description">A list of transformation specifications, each of which is a list of length 2: (input-predicate transformation-function)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A list of the same length of input-list. Some elements in the returned list are transformed as requested by transform-spec.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="5">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#transform-ast-list">transform-ast-list</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">similar, and better function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#transform-ast">transform-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">related functions</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a>  <a class="manual-plain-internal-reference" href="#traverse-and-collect-first-from-ast">traverse-and-collect-first-from-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">usefully applied on results of</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-subtrees">ast-subtrees</a>  <a class="manual-plain-internal-reference" href="#traverse-and-collect-all-from-ast">traverse-and-collect-all-from-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">useful predicate generator</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#ast-of-type?">ast-of-type?</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">This is an older, ad-hoc transformation function. I recommend that you use the function transform-ast instead.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="positive-to-negative-ast-spacing"></a> positive-to-negative-ast-spacing</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(positive-to-negative-ast-spacing ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Given an AST with positive white spacing (such as an AST returned by mirror function). Thus, the input AST may hold a number of explicit-space values (#t values), but no explicit-space-suppress values (no #f values). Return a copy of the AST with negative white spacing, akin to the source forms of the mirror functions. Thus, the output AST may hold a number of explicit-space-suppress values (#f values), but no explicit-space values (no #t values) </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#positive-to-negative-ast-spacing">positive-to-negative-ast-spacing</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="location-path-step"></a> <a name="SECTION25"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION24"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION26"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">25</span> <span class="manual-section-title">LAML location path and steps.</span></td></tr> <tr><td colspan="4" class="manual-section-description">  This section contains <a href = "http://www.w3.org/TR/xpath.html">Xpath</a> inspirred matching, extraction, and transformation functions. The definitions in this section make up an alternative to the minimalistic AST traversal and transformation functions in the previous section. Eventually, there will be additional documentation and examples of the LAML location path framework. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="match-ast"></a> match-ast</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(match-ast ast  . locator-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Apply each function in locator-list sequentially on the list of ASTs resulting from previous location step. Flatten the resulting lists, and ensure that a given content element is at most returned once. A locator function is a function from content element (such as an AST) to a single content element, or (more typcially) to a list of content elements. A locator function may, in fact, perform some tranformation on the list of content elements.  This function sets the variable xml-root-node to ast, if the variable is not already assigned explitly. If this function assigns xml-root-node, it also resets xml-root-node to value #f afterwards. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">A single AST that represents a single XML document.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">locator-list</td> <td colspan="3" class="manual-plain-parameter-description">is a list of AST locator functions. Each such function works on a single content element (an AST for instance) and it returns a list of content elements. (For convenience, it is also possible to return a single contents element, which automatically is nested into a list). The function location-step is the primary generator of locator-path functions.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Returns</td> <td colspan="3" class="manual-plain-returns">A list of content elements (ASTs, for instance).</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#match-ast">match-ast</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">locator path generation function</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#location-step">location-step</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="xml-root-node"></a> xml-root-node</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">xml-root-node</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">The XML root node, used to determine some of the reverse axes. It is possible to assign xml-root-node explicitly via set!. If you set xml-root-node explicitly, remember to reset its value to #f when you are done. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#xml-root-node">xml-root-node</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="location-step"></a> location-step</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(location-step axis [node-test filtering])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates and returns a location step procedure for a given axis, name, and filtering. Use of the axes following-sibling, preceding-sibling, following, preceding, ancestor, and parent requires that the xml-root-node is assigned in advance. These axes correspond to the axes known from <a href = "http://www.w3.org/TR/xpath.html">Xpath</a>.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">axis</td> <td class="manual-plain-parameter-description" colspan="2">One of the axes self, child, descendant, attribute, following-sibling, preceding-sibling, following, preceding, ancestor, and parent (a symbol).</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">node-test</td> <td colspan="3" class="manual-plain-parameter-description">A node test which is relevant in the context of the axis. Typcically a name of an XML element, or an attribute name.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">filtering</td> <td colspan="3" class="manual-plain-parameter-description">Some filtering applied realtive to axis and name. Typically a boolean function from (content-element node-position context-size). For the attribute axis, filtering may be a text string (the attribute value).  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#location-step">location-step</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="negate-step"></a> negate-step</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(negate-step location-step-procedure)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function that negates a single location-step procedure.  Negated steps are primarily useful in filtering contexts, because it is not possible to turn an empty result back to something useful. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#negate-step">negate-step</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="and-steps"></a> and-steps</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(and-steps  . location-step-procedure-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function that conjuncts (ands) some location steps to a single location step. Does each location step in location-step-procedure-list succeed?  Returns a boolean-like result: If yes, return (list #t), else return (). Only useful within the  filtering position in a location step. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#and-steps">and-steps</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="or-steps"></a> or-steps</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(or-steps  . location-step-procedure-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A higher-order function that disjuncts (ors) some location steps to a single location step. Does at least one location step in location-step-procedure-list succeed? Returns a boolean-like result: If yes, return (list #t), else return (). Only useful within the  filtering position in a location step. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#or-steps">or-steps</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="compose-steps"></a> compose-steps</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(compose-steps  . location-step-procedure-list)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Compose the locatation steps in location-step-procedure-list to a single location step. Useful in contexts where only a single location step is allowed. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#compose-steps">compose-steps</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="identifier-of-predicate"></a> identifier-of-predicate</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(identifier-of-predicate p)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the identifier function of the predicate p. An identifier function returns x if p holds on x, else the it returns the empty list. Via this function, a predicate can act as a location step. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#identifier-of-predicate">identifier-of-predicate</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-text-containing"></a> ast-text-containing</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-text-containing str)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a location step that test if str is part of the immediate textual content.  The generated procedure can be used as the last step in location path (a list of location steps). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-text-containing">ast-text-containing</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-text-deep-containing"></a> ast-text-deep-containing</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-text-deep-containing str)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a location step that tests if str is part of the deep textual content.  The generated procedure can be used as the last step in location path (a list of location steps). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-text-deep-containing">ast-text-deep-containing</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-node"></a> ast-node</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-node)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Generates a location step that tests for x being a node.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-node">ast-node</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="nt:last"></a> nt:last</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(nt:last)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A filtering function that tests if the node is the last in its context. Filtering functions are used in location steps. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#nt:last">nt:last</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="nt:child-number"></a> nt:child-number</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(nt:child-number q)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A filtering function that tests if the node is number q in its context. Filtering functions are used in location steps. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#nt:child-number">nt:child-number</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="nt:child-name"></a> nt:child-name</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(nt:child-name name)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A filtering function that tests if the node has name. Filtering functions are used in location steps. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#nt:child-name">nt:child-name</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="nt:attribute"></a> nt:attribute</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(nt:attribute name value)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A filtering function that tests if the node has an attribute name with the given value. Filtering functions are used in location steps. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#nt:attribute">nt:attribute</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="nt:for-which-predidate-holds"></a> nt:for-which-predidate-holds</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(nt:for-which-predidate-holds pred  . location-steps)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A filtering function which applies a list of location steps on the node, a passes the results of these steps to the predicate pred. Operationally: Apply location steps on node in question (n), giving a list of results. Test if the result fulfills the predicate pred (which must be some list predicate). Filtering functions are used in location steps. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#nt:for-which-predidate-holds">nt:for-which-predidate-holds</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="nt:for-which"></a> nt:for-which</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(nt:for-which  . location-steps)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A filtering function which test if the list of location steps leads success (leads to a non-empty result). Filtering functions are used in location steps. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#nt:for-which">nt:for-which</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="content-models"></a> <a name="SECTION26"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION25"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION27"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">26</span> <span class="manual-section-title">Element content models.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The functions in this section make the content models of the XML elements available. As an example, this allows us to find out if an element is empty. The element content models are defined by the XML DTDs, and as such they are used for generation of the XML validation procedures. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="content-model-map-of"></a> content-model-map-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(content-model-map-of language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Returns the content model map (an association list) of a given XML language. A content model map of an XML language is an sorted associative vector that maps  element names (strings) to the parsed content models of the element, as provided by the the LAML XML-DTD parser. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#content-model-map-of">content-model-map-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="content-model-of"></a> content-model-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(content-model-of element-name language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the content model of the element named element-name in XML language. The content model is the parsed content model, as delivered by the LAML XML-DTD parser. If the content model is not available for some reason (unknown element-name, unknown XML language) return #f. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#content-model-of">content-model-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="register-xml-in-laml-content-models"></a> register-xml-in-laml-content-models</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(register-xml-in-laml-content-models language content-model-structure)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Register the content model structure for XML language.  This function is called "automatically" when the Scheme mirror of the XML language is loaded.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#register-xml-in-laml-content-models">register-xml-in-laml-content-models</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="action-procedures"></a> <a name="SECTION27"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION26"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION28"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">27</span> <span class="manual-section-title">Action procedure map.</span></td></tr> <tr><td colspan="4" class="manual-section-description">   An action procedure map is a sorted associative vector that maps certain element names to  action procedures.  </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="action-procedure-map-of"></a> action-procedure-map-of</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(action-procedure-map-of language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the action procedure map of the XML language. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#action-procedure-map-of">action-procedure-map-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="action-procedure-of-language"></a> action-procedure-of-language</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(action-procedure-of-language element-name language)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the action procedure of the XML element named element-name in the XML language. If there is no action procedure associated with the element, or if the action procedure structure is not available for language, return #f. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#action-procedure-of-language">action-procedure-of-language</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="action-procedure-of-map"></a> action-procedure-of-map</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(action-procedure-of-map element-name action-procedure-map)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Return the action procedure of the XML element named element-name relative to the action procedure map action-procedure-map. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#action-procedure-of-map">action-procedure-of-map</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="register-xml-in-laml-action-procedures"></a> register-xml-in-laml-action-procedures</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(register-xml-in-laml-action-procedures language action-procedure-structure)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Register the action procedure structure for XML language.  An action procedure structure is a sorted, associative vector that maps XML elements (strings) to their action procedures. Notice that this is only a partial mapping. This function is called "automatically" when the Scheme mirror of the XML language is loaded.  </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#register-xml-in-laml-action-procedures">register-xml-in-laml-action-procedures</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="process-ast!"></a> process-ast!</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(process-ast! ast [given-language action-map])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Process the ast, the internal document representation, by means of the action procedures in action-map. The action map is a sorted associative vector that maps element names to action procedures. The default value of action-map is (action-procedure-map-of given-language). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="3">Parameters</td> <td class="manual-plain-parameter-name">ast</td> <td class="manual-plain-parameter-description" colspan="2">The internal representation of the document to be processed.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">given-language</td> <td colspan="3" class="manual-plain-parameter-description">The language to which ast belongs. Bound at root level. Defaults to (ast-language ast). A symbol.</td></tr> <tr class="manual-row"><td class="manual-plain-parameter-name">action-map</td> <td colspan="3" class="manual-plain-parameter-description">The action map that maps elements in the XML language to action procedure. Defaults to (action-procedure-map-of given-language). A sorted associative vector. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="2">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#process-ast!">process-ast!</a></td></tr> <tr class="manual-row"><td class="manual-plain-reference-role">action procedure access</td> <td colspan="3" class="manual-plain-reference-anchor"><a class="manual-plain-internal-reference" href="#action-procedure-map-of">action-procedure-map-of</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION28"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION27"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION29"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">28</span> <span class="manual-section-title">Expansion of delayed procedural content items.</span></td></tr> <tr><td colspan="4" class="manual-section-description">It is possible to embed a Scheme procedure (with a certain given signature) in an XML-in-LAML document. This allows for simple and direct handling of context-sensitive aspects of a document. The function expand-procedural-content-items-in-ast calls such procedures, hereby expanding the AST.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="expand-procedural-content-items-in-ast"></a> expand-procedural-content-items-in-ast</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(expand-procedural-content-items-in-ast ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Expand all delayed procedural content items (recursively) inside the ast. Traverses the entire ast and looks for procedural content item constituents. Return an expanded AST (a copy of ast) in which procedural content elements have been activated  and thereby expanded. If ast does not contain any delayed procedural content items, ast is just returned (without copying it). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#expand-procedural-content-items-in-ast">expand-procedural-content-items-in-ast</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="has-procedural-content-items-deep?"></a> has-procedural-content-items-deep?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(has-procedural-content-items-deep? ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is there any procedure content items in ast. Traverses the entire ast if necessary. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#has-procedural-content-items-deep?">has-procedural-content-items-deep?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="has-procedural-content-items?"></a> has-procedural-content-items?</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(has-procedural-content-items? x)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Is there any procedure content items among the immediate constituents of x (usually an AST). No AST traversal is involved to find out. This function also work on a (flat) element content list x (of text, space, comment, CDATA etc). </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#has-procedural-content-items?">has-procedural-content-items?</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="others-functions"></a> <a name="SECTION29"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION28"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <img src="../../../images/small-next-blind.gif" title="" alt="" border="0" /></span> <br /> <span class="manual-section-number">29</span> <span class="manual-section-title">Other useful functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description"> In this section there are non-mirror functions which are useful in in the context of XML and LAML. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="ast-to-parse-tree"></a> ast-to-parse-tree</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(ast-to-parse-tree ast)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Convert an abtract syntax tree to a parse tree. Abstract syntax trees are produced by the validating mirror functions. Parse trees are used as an internal format in the HTML and the XML pretty printing procedures. You can use the function pretty-print-html-parse-tree on the parse tree returned by ast-to-parse-tree. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Precondition</td> <td colspan="3" class="manual-plain-condition">The LAML tool html-support (for parsing and pretty printing) must be loaded for this function to work.</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="xml-in-laml-ep/xml-in-laml-1.html#ast-to-parse-tree">ast-to-parse-tree</a></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Note</td> <td colspan="3" class="manual-plain-misc">To load html-support: <kbd>(laml-tool-load "xml-html-support/html-support.scm")</kbd></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr></table> <div class="manual-end-remark">Generated: Monday, November 14, 2011, 09:18:53 <br /> Generated by LAML <a href="http://www.cs.aau.dk/~normark/schemedoc/index.html" style="color:inherit;">SchemeDoc</a> using LAML Version 38.0 (November 14, 2011, full) <br /> </div> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></body></html>