
<html><head><title> Porting LAML</title></head><body bgcolor = "#ffffbf" text = "#000000" link = "#0000ff" vlink = "#0000ff" ><table border = "0" cellpadding = "0" cellspacing = "0" width = "100%" ><tr><td width = "33%" align = "left" valign = "top" ><font size = 2>Generated: Friday, January 27, 2006, 22:30:39</font></td><td width = "34%" align = "center" valign = "top" ><font size = 2>Copyright &copy; 2006, Kurt Nørmark</font></td><td width = "33%" align = "right" valign = "top" ><font size = 2><a href = "../index.html" title = "The local LAML software home page" target = "_top" ><img src = "../images/laml-home.gif" alt = "The local LAML software home page" border = "0" ></a></font></td></tr></table><h1>Porting LAML to another Scheme System</h1>LAML is prepared for porting to other Scheme systems, operating systems, or platforms.
     I have isolated the parts of LAML that depend on a particular Scheme System in well-defined files.
     Also the platform dependent aspects have been isolated. Below you will find a list with advice on how to port
     LAML.<ol><li><b>Register the platform and/or the Scheme system in the LAML configuration descriptions</b><p><ul><li type = disc>In <a href = "../laml-config/laml-config-internal.scm">laml-config/laml-config-internal.scm</a> 'extend' the variables <kbd>supported-platforms</kbd>, <kbd>supported-scheme-systems</kbd>, and
            <kbd>supported-operating-systems</kbd> to reflect a new platform, scheme-system, or operating-system<p></li><li type = disc>Make an LAML configuration for your Scheme system by adapting <a href = "../laml-config/configuration">laml-config/configuration</a>.<p></li></ul><p><li><b>Define non-standard Scheme functions</b><p><ul><li type = disc>As noticed in the LAML index file, the LAML software uses <a href = "../index.html#non-standard">a number of non-R4RS/R5RS functions which must be implemented somehow</a>. Some Scheme systems happen to support some of them.
            The compatibility files for various platforms, operating systems and scheme systems are located in the directory <kbd>lib/compatibility</kbd>. 
            In this directory you should define the file<p><ul><li type = disc><em>&lt;laml-platform&gt;_&lt;operating-system&gt;_&lt;scheme-system&gt;</em>.scm<p></li></ul>This is the <em>compatibility file</em> of a specific Scheme system on a given platform and operating system.
            See the file <a href = "../laml-config/laml-config-internal.scm">laml-config-internal.scm</a> for information about platforms, operating systems, and scheme systems.
            Take a look at the
            existing compatibility files, such as <a href = "../lib/compatibility/unix_solaris-7_scm.scm">lib/compatibility/unix_solaris-7_scm.scm</a> and <a href = "../lib/compatibility/windows_win2000_mzscheme.scm">lib/compatibility/windows_win2000_mzscheme.scm</a> for inspiration and information.<p>Notice that the compatibility
            file contains a couple of functions <kbd>laml-canonical-command-line</kbd> and <kbd>fake-startup-parameters</kbd>
            which are LAML specific, but Scheme system dependent. See <a href = "../laml-config/templates/laml.scm">laml-config/templates/laml.scm</a> for a specification of these<p></li></ul><p><li><b>Define the laml command file</b><p><ul><li type = disc>If you want to initiate LAML from a command prompt, you must make
            an appropriate command file (shell script) in <a href = "../laml-config/exec-stuff/">laml-config/exec-stuff/</a>. 
            The name of the file must be <p><ul><li type = disc><em>&lt;laml-platform&gt;</em>_<em>&lt;operating-system&gt;</em>_<em>&lt;scheme-system&gt;</em>_laml<p></li></ul>Take a look at the existing laml files in laml-config/exec-stuff/
            to get inspiration, such as <a href = "../laml-config/exec-stuff/unix_solaris-6_scm_laml">the unix laml shell scrip.</a>The strings enclosed in <kbd>@...@</kbd> delimiters are automatically substituted by appropriate strings
            during the LAML configuration process. The configuration process will copy your command file
            to the bin directory of the LAML distribution.<p></li></ul><p><li><b>Define the LAML Emacs Lisp execution functions</b><p><ul><li type = disc>If you want to initiate LAML processing from emacs you must define
            ways to start/call a LAML process (asynchronously/synchronously) from Emacs.
            This is done in the file <kbd>emacs-support/laml-execute.el</kbd> by extending the <kbd>cond</kbd>s in 
            the functions <kbd>start-laml-process</kbd> and <kbd>call-laml-process</kbd>.<p><p></li></ul><p><li><b>In case you want to use Scheme for CGI programming purposes</b><p><ul><li type = disc>The <a href = "../lib/cgi.scm">CGI library</a> requires that the function <kbd>(getenv &lt;environment-variable&gt;)</kbd> returns the value of
          <kbd>&lt;environment-variable&gt;</kbd> (a string).<p></li><li type = disc>In addition, the CGI programs developed locally at the Computer Science Department requires that all <a href = "../index.html#non-standard">the required functions mentioned in
          the LAML index files</a> are defined, including <kbd>make-directory-in-directory</kbd> and <kbd>mail</kbd>. But this is, of course, not a general requirement
          for using Scheme in CGI programs.<p></li></ul><p></ol><p>When you are done, try <a href = "laml-easy-installation.html">configure LAML</a>, and try out the <a href = "../examples/">examples</a>.You can run them all by processing the file <kbd>process-all.laml</kbd> in the example dir.<p><em>If you manage to port LAML to a new platform, operating system or Scheme system, I would like to receive the following
              from you in order to extend future LAML distributions with your contributions:<ol><li>A zipped version of the <kbd>laml-config</kbd> directory<li>A zipped version of the <kbd>lib/compatibility</kbd> directory</ol>please email these directories to me, see email address below.</em>&nbsp;<p>Kurt Nørmark <br> Aalborg University <br> normark@cs.aau.dk&nbsp;<p>&nbsp;<p><font size = 1 color = "#ff0000">Generated: January 27, 2006, 22:30:39</font></body> </html>
<!-- Generated from an LAML (Lisp Abstracted Markup Language) source file. Version 31.0 (January 27, 2006, full, alpha). LAML is designed and implemented by Kurt Nørmark, normark@cs.auc.dk. Time of generation: January 27, 2006 22:30:39-->

