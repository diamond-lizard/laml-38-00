<html><head><link href="stylesheets/program.css" rel="stylesheet" title="program" type="text/css"/> <title>Source file</title></head><body bgcolor = "#ffffff" text = "#000000" link = "#000000" vlink = "#000000"  ><font size = "2"  ><pre><a name="bikes-mirror-dir"></a><span class = "comment"  >; The LAML bikes style, including the transformaton to HTML</span><br/>
<a name="bikes-mirror-dir"></a><span><span><a href="bikes-style-LARGE.html#bikes-mirror-dir"><img src="./images/small-square.gif" title="Show source file in large font" alt="" border="0"/></a></span> <span><a href="cross-reference-index-b.html#bikes-mirror-dir" target="control-frame"><img src="./images/small-green-up-triangle.gif" title="In bikes-style: Link from bikes-mirror-dir to it&#39;s cross reference table entry" alt="" border="0"/></a></span> </span><br/>(<a class="scheme-syntax-name" href="../../../r5rs/r5rs_7.html#IDX173" target="documentation-frame" title="R5RS Scheme form">define</a> <span class = "signature"  >bikes-mirror-dir</span> 
  (<a class="scheme-procedure-name" href="../../../r5rs/r5rs_8.html#IDX392" target="documentation-frame" title="R5RS Scheme form">string-append</a> laml-dir
    "examples/tutorial/xml-in-laml/mirrors/bikes/"))

<span class = "comment"  >; Load the share XML-in-LAML library</span><br/>(<a class="schemedoc-name" href="../../../man/laml.html#lib-load" target="documentation-frame" title="Manual: laml">lib-load</a> "xml-in-laml/xml-in-laml.scm")

<span><span><a href="bikes-style-LARGE.html#xhtml-loading"><img src="./images/small-square.gif" title="Show source file in large font" alt="" border="0"/></a></span> <span><a href="cross-reference-index-x.html#xhtml-loading" target="control-frame"><img src="./images/small-green-up-triangle.gif" title="In bikes-style: Link from xhtml-loading to it&#39;s cross reference table entry" alt="" border="0"/></a></span> <a href="documentation.html#mirror-trans" target="documentation-frame"><img src="./images/doc-left.gif" title="4.1. Transformation of the mirror AST" alt="" border="0"/></a></span><br/><div class = "sectional-comment"  >; <span><a name="xhtml-loading"></a> <b><font color="#ff0000">xhtml-loading</font></b></span>
; XHTML miror loading</div>(<a class="schemedoc-name" href="../../../man/laml.html#lib-load" target="documentation-frame" title="Manual: laml">lib-load</a> "xml-in-laml/mirrors/xhtml10-transitional-mirror.scm")


<a name="bikes!"></a><span class = "comment"  >; Define the action procedure</span><br/><a name="bikes!"></a><span><span><a href="bikes-style-LARGE.html#bikes!"><img src="./images/small-square.gif" title="Show source file in large font" alt="" border="0"/></a></span> <span><a href="cross-reference-index-b.html#bikes!" target="control-frame"><img src="./images/small-green-up-triangle.gif" title="In bikes-style: Link from bikes! to it&#39;s cross reference table entry" alt="" border="0"/></a></span> <a href="documentation.html#mirror-making-sec" target="documentation-frame"><img src="./images/doc-left-weak.gif" title="3.2. The resulting mirror" alt="" border="0"/></a> <a href="documentation.html#mirror-trans" target="documentation-frame"><img src="./images/doc-left.gif" title="4.1. Transformation of the mirror AST" alt="" border="0"/></a></span><br/>(<a class="scheme-syntax-name" href="../../../r5rs/r5rs_7.html#IDX173" target="documentation-frame" title="R5RS Scheme form">define</a> <span class = "signature"  >(bikes! ast)</span>
 (<a class="scheme-syntax-name" href="../../../r5rs/r5rs_6.html#IDX122" target="documentation-frame" title="R5RS Scheme form">let*</a> ((<span class = "local-name-binding"  >bike-table-list</span>  <span class = "comment"  >; <span><a name="bikes!-@a"></a> <a href="documentation.html#mirror-trans-@a" target="documentation-frame"><img src="./images/source-mark-red.gif" title="A linked program source marker to section 4.1:
&#39;Transformation of the mirror AST&#39;
Mark char: a" alt="" border="0"/></a></span></span><br/>          (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#traverse-and-collect-all-from-ast" target="documentation-frame" title="Manual: xml-in-laml">traverse-and-collect-all-from-ast</a> ast 
             (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#ast-of-type?" target="documentation-frame" title="Manual: xml-in-laml">ast-of-type?</a> 'element-name "bike") <a class="applied-name" href="bikes-style.html#bike-table" title="bikes-style">bike-table</a>))
        (<span class = "local-name-binding"  >table-with-border</span> (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-modify-element" target="documentation-frame" title="Manual: xml-in-laml">xml-modify-element</a> <a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#table" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">table</a> 'border "1")) <span class = "comment"  >; <span><a name="bikes!-@b"></a> <a href="documentation.html#mirror-trans-@b" target="documentation-frame"><img src="./images/source-mark-green.gif" title="A linked program source marker to section 4.1:
&#39;Transformation of the mirror AST&#39;
Mark char: b" alt="" border="0"/></a></span></span><br/>       )
  (<a class="schemedoc-name" href="../../../man/laml.html#write-html" target="documentation-frame" title="Manual: laml">write-html</a> '(pp prolog)
   (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#html" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">html</a> 
     (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#head" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">head</a> (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#title" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">title</a> "Bike Report"))
     (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#body" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">body</a>
       (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#map" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">map</a> table-with-border bike-table-list))))))


<a name="bike-table"></a><span><span><a href="bikes-style-LARGE.html#bike-table"><img src="./images/small-square.gif" title="Show source file in large font" alt="" border="0"/></a></span> <span><a href="cross-reference-index-b.html#bike-table" target="control-frame"><img src="./images/small-green-up-triangle.gif" title="In bikes-style: Link from bike-table to it&#39;s cross reference table entry" alt="" border="0"/></a></span> <a href="documentation.html#mirror-trans" target="documentation-frame"><img src="./images/doc-left.gif" title="4.1. Transformation of the mirror AST" alt="" border="0"/></a></span><br/>(<a class="scheme-syntax-name" href="../../../r5rs/r5rs_7.html#IDX173" target="documentation-frame" title="R5RS Scheme form">define</a> <span class = "signature"  >(bike-table bike-ast)</span>
 (<a class="scheme-syntax-name" href="../../../r5rs/r5rs_6.html#IDX121" target="documentation-frame" title="R5RS Scheme form">let</a> ((<span class = "local-name-binding"  >frame-number</span> 
          (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#traverse-and-collect-first-from-ast" target="documentation-frame" title="Manual: xml-in-laml">traverse-and-collect-first-from-ast</a>
            bike-ast (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#ast-of-type?" target="documentation-frame" title="Manual: xml-in-laml">ast-of-type?</a> 'element-name "frame")
            (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#attribute-getter" target="documentation-frame" title="Manual: xml-in-laml">attribute-getter</a> 'frame-number)))
       (<span class = "local-name-binding"  >wheel-sizes</span> 
          (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#traverse-and-collect-all-from-ast" target="documentation-frame" title="Manual: xml-in-laml">traverse-and-collect-all-from-ast</a>
            bike-ast (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#ast-of-type?" target="documentation-frame" title="Manual: xml-in-laml">ast-of-type?</a> 'element-name "wheel")
            (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#attribute-getter" target="documentation-frame" title="Manual: xml-in-laml">attribute-getter</a> 'size)))
       (<span class = "local-name-binding"  >insurance-approved-list</span>
          (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#traverse-and-collect-all-from-ast" target="documentation-frame" title="Manual: xml-in-laml">traverse-and-collect-all-from-ast</a>
            bike-ast (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#ast-of-type?" target="documentation-frame" title="Manual: xml-in-laml">ast-of-type?</a> 'element-name "lock")
            (<a class="schemedoc-name" href="../../../lib/man/general.html#compose" target="documentation-frame" title="Manual: general">compose</a> <a class="schemedoc-name" href="../../../lib/man/general.html#as-boolean" target="documentation-frame" title="Manual: general">as-boolean</a> (<a class="schemedoc-name" href="../../../lib/xml-in-laml/man/xml-in-laml.html#attribute-getter" target="documentation-frame" title="Manual: xml-in-laml">attribute-getter</a> 'insurance-approved))))
      )
  (<a class="scheme-procedure-name" href="../../../r5rs/r5rs_8.html#IDX332" target="documentation-frame" title="R5RS Scheme form">list</a>
    (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#tr" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">tr</a> (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">td</a> "Frame number") 
        (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">td</a> frame-number))
    (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#tr" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">tr</a> (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">td</a> "Wheel sizes")
        (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">td</a> (<a class="schemedoc-name" href="../../../lib/man/general.html#list-to-string" target="documentation-frame" title="Manual: general">list-to-string</a> wheel-sizes ", ")))
    (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#tr" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">tr</a> (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">td</a> "Approved locks")
        (<a class="schemedoc-name" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-transitional-mirror.html#td" target="documentation-frame" title="Manual: xhtml10-transitional-mirror">td</a> (<a class="scheme-syntax-name" href="../../../r5rs/r5rs_6.html#IDX103" target="documentation-frame" title="R5RS Scheme form">if</a> (<a class="schemedoc-name" href="../../../lib/man/general.html#accumulate-right" target="documentation-frame" title="Manual: general">accumulate-right</a> and-fn #t insurance-approved-list) "yes" "no"))))))


<span class = "comment"  >; Load the language-specific mirror and validation stuff</span><br/>(<a class="scheme-procedure-name" href="../../../r5rs/r5rs_8.html#IDX468" target="documentation-frame" title="R5RS Scheme form">load</a> (<a class="scheme-procedure-name" href="../../../r5rs/r5rs_8.html#IDX392" target="documentation-frame" title="R5RS Scheme form">string-append</a> <a class="applied-name" href="bikes-style.html#bikes-mirror-dir" title="bikes-style">bikes-mirror-dir</a> "bike-management-mirror.scm"))


        







</pre></font><div>&nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></div></body></html>