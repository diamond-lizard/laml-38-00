<html><head><link href="stylesheets/documentation.css" rel="stylesheet" title="documentation" type="text/css" /> <title>documentation</title></head><body bgcolor="#ffecd9" text="#000000" link="#000000" vlink="#000000"><a name="START"></a><h1><font color="#0000ff">LAML SchemeDoc</font></h1><h3><span>Kurt N&#248;rmark   &copy;</span> &nbsp; &nbsp; normark@cs.aau.dk <br /> Department of Computer Science, Aalborg University</h3><p></p><div class="elucidator-abstract"><b>Abstract.</b> <p>In this part of the tutorial we describe LAML SchemeDoc, which is a tool for production of interface documentation of Scheme libraries. The tool can also be use to document and XML DTDs. SchemeDoc is similar of similar nature as <a href="http://java.sun.com/j2se/javadoc/index.html" target="new">Javadoc</a> tool for Java and <a href="www.doxygen.org/ ">Doxygen</a>.</p> <p>As for the other LAML tutorials, a separate <a href="../../../examples/tutorial/schemedoc/index.html" target="program-frame" title="LAML example"><font color="#000000">directory with SchemeDoc and Manual examples</font></a> is available.</p> <p>There is a strong connection between SchemeDoc, LAML, and Emacs. The most convenient way to work with SchemeDoc goes via Emacs. As of version 32, we have we described how to profit from SchemeDoc WITHOUT using Emacs. There exists separate guides for use of SchemeDoc <a target="program-frame" href="http://www.cs.aau.dk/~normark/schemedoc/getting-started-from-interpreter.html">from a Scheme interpreter</a>, or <a target="program-frame" href="http://www.cs.aau.dk/~normark/schemedoc/getting-started-from-command-prompt.html">from an operating system command prompt</a>.</p></div><div>&nbsp; <p></p></div><div class="elucidator-section"><a name="schemedoc-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#man-sec"><img src="./images/small-next.gif" title="The SchemeDoc Document Style" alt="" border="0" /></a></div><div><b><font size="5"><span>1 &nbsp; &nbsp; SchemeDoc</span></font></b></div><div class="body-normal">We start with an introduction and discussion of the SchemeDoc tool.</div><div style="margin-left:10px;"><font size="2"><span>1.1 &nbsp; &nbsp; <a href="documentation.html#schemedoc" target="documentation-frame"><font color="#000000">SchemeDoc</font></a></span></font> <br /> <font size="2"><span>1.2 &nbsp; &nbsp; <a href="documentation.html#more-schemedoc" target="documentation-frame"><font color="#000000">SchemeDoc internal tags</font></a></span></font> <br /> <font size="2"><span>1.3 &nbsp; &nbsp; <a href="documentation.html#schemedoc-laml" target="documentation-frame"><font color="#000000">Using SchemeDoc from a LAML script</font></a></span></font> <br /> <font size="2"><span>1.4 &nbsp; &nbsp; <a href="documentation.html#scheme-source-linking" target="documentation-frame"><font color="#000000">Scheme Source linking</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="schemedoc"></a><div class="elucidator-entry-head"><a href="documentation.html#schemedoc-sec"><img src="./images/small-up.gif" title="SchemeDoc" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#more-schemedoc"><img src="./images/small-next.gif" title="SchemeDoc internal tags" alt="" border="0" /></a>  <br /> <b><font size="4"><span>1.1 &nbsp; &nbsp; SchemeDoc</span></font></b></div><div class="body-normal"><p>The file <a class="program-file-reference-strong" href="prog1-1.html" target="program-frame" title="Link to program file: prog1">prog1</a> is a very simple Scheme program with a few <kbd>define</kbd> forms. (Red, blue and green names are clickable in this tutorial. Try click on the red name now!) A number of comment blocks are used. A <em>comment block</em> is a sequence of comment lines. Recall that a comment line in a Scheme program starts with a semicolon and runs to the end of the line. Some comment blocks are considered as <em>documentation comments</em>. The SchemeDoc tool uses the following commenting conventions</p> <ol><li><span>Comments started with a single semicolon are not taken into account by SchemeDoc.</span> <p></p></li> <li><span>Comments started with a double semicolon in front of a define form are <em>definition comment</em>. A definition comment is intended to define the calling or application conventions of an abstraction.</span> <p></p></li> <li><span>Comments started with a triple semicolon are <em>sectional comments</em>. A sectional comment serves as an introduction to a number of related definitions, which come after the sectional comment.</span> <p></p></li> <li><span>A four semicolon comment serves the role as an introduction or an abstract to the Scheme source file - <em>the introductory comment</em>. There should only be one introductory comment, and it should be found at the very beginning of the Scheme source file.</span> <p></p></li></ol> <p>The commenting conventions described above are relative to the so-called <em>multi-semicolon commenting style</em>.  LAML SchemeDoc also supports a <em>documentation-mark commenting style</em>. Please consult the details of both commeting styles in the <a target="program-frame" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#doc-comments">SchemeDoc reference manual</a>.</p> <p>Definition comments, sectional comments, and introductory comments are processed by SchemeDoc.</p> <p>We can use SchemeDoc to process <a class="program-file-reference-strong" href="prog1-1.html" target="program-frame" title="Link to program file: prog1">prog1</a>. The resulting manual is <a href="../../../examples/tutorial/schemedoc/man/prog1.html" target="program-frame" title="LAML example"><font color="#000000">here</font></a>. The processing can be done in different ways. If you are an Emacs use, the easiest way is to use the <b>Scheme &gt; SchemeDoc &gt; Run SchemeDoc</b> menu item for activation of SchemeDoc on the Scheme source file. The last five lines of the initial ;;;; comment are setup parameters to SchemeDoc. The last one, <kbd>.source-destination-delta</kbd>, request that the HTML files are located in a <kbd>man</kbd> subdirectory. you are supposed to create the directory <kbd>man</kbd> yourself before you run SchemeDoc.</p> <p>As an alternative processing technique, you can use the <a class="manual-reference" href="../../../man/laml.html#schemedoc" target="program-frame" title="Manual: laml">schemedoc</a> procedure from a LAML enabled Scheme read-eval-print loop:</p> <blockquote><pre style="font-size:11px;">   
 (schemedoc &quot;prog1.scm&quot;)</pre></blockquote> <p>In order to process <a class="program-file-reference-weak" href="prog1-1.html" target="program-frame" title="Link to program file: prog1">prog1</a> it may be attractive to pass the full and absolute file path to the schemedoc procedure, such as:</p> <blockquote><pre style="font-size:11px;">   
 (schemedoc &quot;/user/normark/scheme/examples/tutorial/schemedoc/&quot;)</pre></blockquote> <p> The manual title and the manual author are given by &#39;dot initiated tags&#39; in <a class="program-file-reference-weak" href="prog1-1.html" target="program-frame" title="Link to program file: prog1">prog1</a>. In addition we provide values of a number of SchemeDoc processing attributes (processing parameters to SchemeDoc). These are <kbd>.laml-resource</kbd>... <kbd>.source-destination-path</kbd>. They correspond to a (rather limited) subset the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-front-matters" target="program-frame" title="Manual: schemedoc">manual-front-matters</a> attributes. Please consult the description of these. The internal dot-initiated tag lines and the introductory text can appear in any order. Normally, internal tagging is line oriented. It is, however, possible to have multi-lined internal tagging by ending the line with a <em>line continuation character</em> (normally a backslash).</p> <p>Take a look at the manual entry of <a class="manual-reference" href="../../../man/laml.html#schemedoc" target="program-frame" title="Manual: laml">schemedoc</a> (click the name to see the manual page of the <kbd>schemedoc</kbd> command). The first required parameter is the Scheme program to process, and the next (optional) tells SchemeDoc which commenting style to use ( <kbd>multi-semicolon</kbd> or <kbd>documentation-mark</kbd> ).</p> <p>In order to call the <a class="manual-reference" href="../../../man/laml.html#schemedoc" target="program-frame" title="Manual: laml">schemedoc</a> procedure, start an LAML session in your favorite Scheme System. I most often use PLT MzScheme from Emacs. In this setting, just say <b>M-x run-laml-interactively</b>. This starts an interactive Scheme session (Inferior Lisp process in Emacs jargon) and it loads a number of useful LAML libraries. Use <kbd>(laml-cd &quot;dir&quot;)</kbd> and <kbd>(laml-pwd)</kbd> to navigate the file system in a Unix-like fashion. Alternatively, provide a full and absolute file path to your Scheme source file.</p> <p>The <a class="manual-reference" href="../../../man/laml.html#schemedoc" target="program-frame" title="Manual: laml">schemedoc</a> command reads a Scheme source file, extracts the documentation comments and relevant parts of the Scheme program, and it presents this information as an XHTML file. It may be convenient to use native XHTML markup in definition comments, sectional comments, and introductory comments. Notice however, that the use of such textual HTML markup is not validated in the context of the target XHTML document, as generated by the LAML manual document style. In other words, if you use HTML markup in documentation comments in your Scheme program, you are on your own with respect to validation of the resulting manual. <em>I recommend that you only use very simple markup in documentation comments.</em></p> <p>At this point in time, you can also take a look at the <a class="manual-file-reference-strong" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html" target="program-frame" title="Link to SchmeDoc manual: schemedoc">SchemeDoc Reference Manual</a>. You should pay special attention to the description of <a class="manual-file-reference-strong" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#doc-comments" target="program-frame" title="Link to SchmeDoc manual: schemedoc">Documentation Comments</a> and the <a class="manual-file-reference-strong" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#internal-tagging" target="program-frame" title="Link to SchmeDoc manual: schemedoc">Internal Tags</a> in the first two sections of the manual.</p></div></div><div class="elucidator-entry"><a name="more-schemedoc"></a><div class="elucidator-entry-head"><a href="documentation.html#schemedoc-sec"><img src="./images/small-up.gif" title="SchemeDoc" alt="" border="0" /></a> <a href="documentation.html#schemedoc"><img src="./images/small-prev.gif" title="SchemeDoc" alt="" border="0" /></a> <a href="documentation.html#schemedoc-laml"><img src="./images/small-next.gif" title="Using SchemeDoc from a LAML script" alt="" border="0" /></a>  <br /> <b><font size="4"><span>1.2 &nbsp; &nbsp; SchemeDoc internal tags</span></font></b></div><div class="body-normal"><p>In order to exercise finer control of the produced interface documentation, SchemeDoc supports a number of special &#39;internal tags&#39; in the Scheme comments. They are all described in the section about  <a class="manual-file-reference-strong" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#internal-tagging" target="program-frame" title="Link to SchmeDoc manual: schemedoc">Internal SchemeDoc tags</a> of the SchemeDoc Reference Manual. We summarize the possible internal tags in definition comments (2 semicolon comments) here:</p> <blockquote><pre style="font-size:11px;">   
.form (form-name par1 par2)
.pre-condition Some Precondition
.post-condition Some Postcondition
.parameter par-name parameter description
.returns Return value description
.example some example
.reference &quot;category&quot; &quot;anchor&quot; &quot;url&quot;
.internal-references &quot;category&quot; &quot;ref1&quot; &quot;ref2&quot; ...
.misc Miscelaneous information
.comment Internal comment
</pre></blockquote> <p>In a sectional comment (3 semicolons) the following internal tag can be used to give a section id:</p> <blockquote><pre style="font-size:11px;">   
.section-id some-id
</pre></blockquote> <p>Finally, in a introductory comment (4 semicolons) the following tags are possible:</p> <blockquote><pre style="font-size:11px;">   
.title Manual title
.author Manual author(s)
.affiliation Affiliation of the manual author(s)
</pre></blockquote> <p>In addition, the following processing tags are available for use in introdoctory comments:</p> <blockquote><pre style="font-size:11px;">   
.laml-resource                 true/false
.css-prestylesheet             compact/normal
.css-stylesheet                original/fancy
.css-stylesheet-copying        true/false
.keep-syntactical-comment-file true/false
.source-destination-delta      relative-path
.scheme-source-linking         true/false
</pre></blockquote> <p>The program <a class="program-file-reference-strong" href="prog2-1.html" target="program-frame" title="Link to program file: prog2">prog2</a> extends <a class="program-file-reference-weak" href="prog1-1.html" target="program-frame" title="Link to program file: prog1">prog1</a>, and it illustrates a number of the special SchemeDoc tags in definition comments. You should study <a href="../../../examples/tutorial/schemedoc/man/prog2.html" target="program-frame" title="LAML example"><font color="#000000">the resulting manual page</font></a>.</p> <p>Like <a class="program-file-reference-weak" href="prog1-1.html" target="program-frame" title="Link to program file: prog1">prog1</a>, we produced <a class="program-file-reference-weak" href="prog2-1.html" target="program-frame" title="Link to program file: prog2">prog2</a> with the interactive LAML command in a Scheme prompt:</p> <blockquote><pre style="font-size:11px;">   
 (schemedoc &quot;prog2.scm&quot;)</pre></blockquote> <p>We could, as well just activate SchemeDoc from Emacs as explained above. In <a class="program-file-reference-strong" href="prog2-1.html" target="program-frame" title="Link to program file: prog2">prog2</a> and <a href="../../../examples/tutorial/schemedoc/man/prog2.html" target="program-frame" title="LAML example"><font color="#000000">the resulting manual page</font></a> you should in particular notice the use of the <kbd>scheme-source-linking</kbd> attribute. With use of this attribute, SchemeDoc generates an HTML version of the Scheme source program, and it provides links from the SchemeDoc manual to this source file. Try follow the &quot;See also Scheme source files&quot; links. </p> <p>We illustrate additional SchemeDoc details in <a class="program-file-reference-strong" href="prog4-1.html" target="program-frame" title="Link to program file: prog4">prog4</a> and in the corresponding, generated <a href="../../../examples/tutorial/schemedoc/man/prog4.html" target="program-frame" title="LAML example"><font color="#000000">HTML file</font></a>. These are the use of <kbd>.affiliation</kbd> in the introductory comment, use of <kbd>.section-id</kbd> in sectional comments. Notice that we do not in <a class="program-file-reference-weak" href="prog4-1.html" target="program-frame" title="Link to program file: prog4">prog4</a> provide the processing options like in  <a class="program-file-reference-weak" href="prog1-1.html" target="program-frame" title="Link to program file: prog1">prog1</a> and <a class="program-file-reference-weak" href="prog2-1.html" target="program-frame" title="Link to program file: prog2">prog2</a>.  In this example we use the escaping character, which is the dollar character. The escaping character is necessary if you need to start a comment with a &#39;.&#39;. If this is not the case, you can probably forget about it. The resulting manual page is.</p></div></div><div class="elucidator-entry"><a name="schemedoc-laml"></a><div class="elucidator-entry-head"><a href="documentation.html#schemedoc-sec"><img src="./images/small-up.gif" title="SchemeDoc" alt="" border="0" /></a> <a href="documentation.html#more-schemedoc"><img src="./images/small-prev.gif" title="SchemeDoc internal tags" alt="" border="0" /></a> <a href="documentation.html#scheme-source-linking"><img src="./images/small-next.gif" title="Scheme Source linking" alt="" border="0" /></a>  <br /> <b><font size="4"><span>1.3 &nbsp; &nbsp; Using SchemeDoc from a LAML script</span></font></b></div><div class="body-normal"><p>As we have seen above, it is possible to activate SchemeDoc from an interactive LAML command called <a class="manual-reference" href="../../../man/laml.html#schemedoc" target="program-frame" title="Manual: laml">schemedoc</a>. In some situations it is more convenient to define a LAML script which defines the parameters and the context of the manual. This is what we have done for all the LAML manual pages in the LAML distribution.</p> <p>The LAML script <a class="program-file-reference-strong" href="prog3-script-1.html" target="program-frame" title="Link to program file: prog3-script">prog3-script</a>, stored in file <kbd>prog3.sdoc</kbd> in the <kbd>man/</kbd> directory, produces <a href="../../../examples/tutorial/schemedoc/man/prog3.html" target="program-frame" title="LAML example"><font color="#000000">laml/prog3.html</font></a>. Files with extension sdoc are supposed to contain SchemeDoc stuff. Notice that the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-front-matters" target="program-frame" title="Manual: schemedoc">manual-front-matters</a> attributes in <a class="program-file-reference-weak" href="prog3-script-1.html" target="program-frame" title="Link to program file: prog3-script">prog3-script</a> take precedence over the similar internal tags found in the introductory comment of the Scheme source file <a class="program-file-reference-weak" href="prog3-1.html" target="program-frame" title="Link to program file: prog3">prog3</a>.</p> <p>Using the Emacs command <b><kbd>M-x make-laml-schemedoc-manual</kbd></b> it is easy to make a LAML script like <a class="program-file-reference-weak" href="prog3-script-1.html" target="program-frame" title="Link to program file: prog3-script">prog3-script</a>. The Emacs command <kbd>make-laml-schemedoc-manual</kbd> is also found in the <b>Tools &gt; SchemeDoc</b> menu in Emacs.</p> <p>With this setup, there is no need for issuing an interactive LAML command. Just process the script <a class="program-file-reference-weak" href="prog3-script-1.html" target="program-frame" title="Link to program file: prog3-script">prog3-script</a>. There are many ways to so: a From the LAML menu in Emacs, via the Emacs keyboard shortcut <b><kbd>C-c C-o</kbd></b>, via the Scheme procedure <kbd>laml</kbd>, or via the operating system command prompt using the <kbd>laml</kbd> command. I always process laml scripts from Emacs via <b><kbd>C-c C-o</kbd></b> with hygienic emacs keybindings (or <b><kbd>C-o</kbd></b> in case the orginal keybindings are used.) The keybinding policy is controlled at LAML installation time via the file <kbd>laml-config/configuration</kbd>.</p> <p>A few words about <a class="program-file-reference-weak" href="prog3-script-1.html" target="program-frame" title="Link to program file: prog3-script">prog3-script</a>. First, it allows the setting of both the title, author, affiliation, and abstract by subforms <kbd>(manual-title &quot;...&quot;)</kbd>, <kbd>(manual-author &quot;...&quot;)</kbd>, <kbd>(manual-affiliation &quot;...&quot;)</kbd> and <kbd>(manual-abstract &quot;...&quot;)</kbd> of the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-front-matters" target="program-frame" title="Manual: schemedoc">manual-front-matters</a> form. In the concrete example these informations are taken from the internal tags of the introductory comment in the Scheme source file, <a class="program-file-reference-weak" href="prog3-1.html" target="program-frame" title="Link to program file: prog3">prog3</a>.</p> <p>Second, the attributes of the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-front-matters" target="program-frame" title="Manual: schemedoc">manual-front-matters</a> make it possible to set a number of processing options via the attributes. Notice in particular the CSS stylesheet settings.</p> <p>The <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual" target="program-frame" title="Manual: schemedoc">manual</a>, <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-front-matters" target="program-frame" title="Manual: schemedoc">manual-front-matters</a> and <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-from-scheme-file" target="program-frame" title="Manual: schemedoc">manual-from-scheme-file</a> forms in <a class="program-file-reference-weak" href="prog3-script-1.html" target="program-frame" title="Link to program file: prog3-script">prog3-script</a> are mirror functions of XML elements in the SchemeDoc XML language. The SchemeDoc document style is up for discussion and explanation later in this tutorial.</p></div></div><div class="elucidator-entry"><a name="scheme-source-linking"></a><div class="elucidator-entry-head"><a href="documentation.html#schemedoc-sec"><img src="./images/small-up.gif" title="SchemeDoc" alt="" border="0" /></a> <a href="documentation.html#schemedoc-laml"><img src="./images/small-prev.gif" title="Using SchemeDoc from a LAML script" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>1.4 &nbsp; &nbsp; Scheme Source linking</span></font></b></div><div class="body-normal"><p><a class="program-file-reference-strong" href="prog5-1.html" target="program-frame" title="Link to program file: prog5">prog5</a> and in particular the <a class="program-file-reference-weak" href="prog5-script-1.html" target="program-frame" title="Link to program file: prog5-script">LAML script</a> that generates the manual, shows how to generate a SchemeDoc manual with Scheme source linking. The generated SchemeDoc manual is <a href="../../../examples/tutorial/schemedoc/man/prog5.html" target="program-frame" title="LAML example"><font color="#000000">here</font></a>. The Scheme source file, in turn, is able to refer to a number of other SchemeDoc manuals.</p> <p>You should in particular notice the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#scheme-source-linking-manual" target="program-frame" title="Manual: schemedoc">scheme-source-linking-manual</a> clause in the <a class="program-file-reference-weak" href="prog5-script-1.html" target="program-frame" title="Link to program file: prog5-script">LAML script</a> and in the <a href="../../../examples/tutorial/schemedoc/man/prog5.html" target="program-frame" title="LAML example"><font color="#000000">generated manual</font></a>. The &quot;See also Scheme source&quot; clauses give access to the Scheme source file. Within the Scheme source files all colored names are anchored links. Notice in particular the slightly green names, which give access to entries in the fundamental LAML library and in the general LAML library. The green links are made via use of the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#scheme-source-linking-manual" target="program-frame" title="Manual: schemedoc">scheme-source-linking-manual</a> clauses mentioned above.</p> <p>Notice also the brown names in the Scheme source files, which link to details in the Scheme R4RS or R5RS manual.</p> <p>The function <a class="manual-reference" href="../../../man/laml.html#laml-library-source-linking" target="program-frame" title="Manual: laml">laml-library-source-linking</a> in the LAML fundamental library returns a number of scheme-source-linking-manual clauses, which provide for source linking to a collection of LAML libraries. Simply insert a call of <a class="manual-reference" href="../../../man/laml.html#laml-library-source-linking" target="program-frame" title="Manual: laml">laml-library-source-linking</a> in a <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-front-matters" target="program-frame" title="Manual: schemedoc">manual-front-matters</a> element.</p> <p>The Scheme source files are produced by the Scheme Elucidator, which also has been used to make this tutorial.</p></div></div><div class="elucidator-section"><a name="man-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#schemedoc-sec"><img src="./images/small-prev.gif" title="SchemeDoc" alt="" border="0" /></a> <a href="documentation.html#dtd-doc-sec"><img src="./images/small-next.gif" title="Making a manual of XML-in-LAML functions" alt="" border="0" /></a></div><div><b><font size="5"><span>2 &nbsp; &nbsp; The SchemeDoc Document Style</span></font></b></div><div class="body-normal">We have described the SchemeDoc tool above. SchemeDoc extracts information from Scheme source programs. The extracted information is rendered HTML files. The SchemeDoc document style can be used to produce highly structured reference manuals for collection of Scheme procedures and functions.</div><div style="margin-left:10px;"><font size="2"><span>2.1 &nbsp; &nbsp; <a href="documentation.html#man" target="documentation-frame"><font color="#000000">The Manual Document Style</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="man"></a><div class="elucidator-entry-head"><a href="documentation.html#man-sec"><img src="./images/small-up.gif" title="The SchemeDoc Document Style" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>2.1 &nbsp; &nbsp; The Manual Document Style</span></font></b></div><div class="body-normal"><p>The original SchemeDoc document style (once called the Manual document style) is one of the oldest LAML document styles. It is also one of the most important, because all the LAML software is documented by use of it, as described in section <a class="documentation-reference" href="documentation.html#schemedoc-sec" target="documentation-frame" title="SchemeDoc">1</a>. From LAML version 22, the LAML manual document style has been reengineered as a mirror of an XML manual language. The original LAML manual facility is now obsolete.</p> <p>The reference manual of <a href="error-page.html#program-reference-error" target="program-frame" class="program-reference-error" title="This name is not recognized. Click for details."></a> is made with use of the SchemeDoc document style itself. From the parsed XML manual DTD it is possible to create a SchemeDoc manual very easily. (See below for details). We have augmented the DTD-derived information with element and attribute descriptions to obtain <a class="manual-file-reference-weak" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html" target="program-frame" title="Link to SchmeDoc manual: schemedoc">The SchemeDoc Reference Manual</a>.</p> <p>We will now show how to use the LAML SchemeDoc language to write software manuals from scratch, and without use of automatically extracted information from a Scheme source file. It should be noticed that we do not very often write manuals in this way. The only real good in example in the LAML distribution is the documentation of the so-called <a target="program-frame" href="../../../lib/compatibility/man/compatibility.html">LAML compatibility</a> file. The SchemeDoc approach illustrated above, and exercised widely with JavaDoc, Doxygen and similar tools, is much easier to deal with, and it usually gives much more accurate manuals.</p> <p>The first example of a manual is called <a class="program-file-reference-strong" href="manual-example-1.html" target="program-frame" title="Link to program file: manual-example">manual-example</a>. Please click on it to bring it up in the rightmost frame of the elucidator. Also notice that you can actually navigate from the example manual (in the frame which probably is located to the right) to the reference manual. (The slightly green names are all links!) Please also take a look at the <a href="../../../examples/tutorial/schemedoc/manual-example.html" target="program-frame" title="LAML example"><font color="#000000">HTML version of the processed manual</font></a>.</p> <p>After the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-front-matters" target="program-frame" title="Manual: schemedoc">manual-front-matters</a> element comes a number of <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-section" target="program-frame" title="Manual: schemedoc">manual-section</a> and <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-page" target="program-frame" title="Manual: schemedoc">manual-page</a> elements. As described above, a <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-section" target="program-frame" title="Manual: schemedoc">manual-section</a> is an introduction to the following manual pages. A <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-page" target="program-frame" title="Manual: schemedoc">manual-page</a> describes the characteristica of a single abstraction (function, variable, etc).</p> <p>Concretely, in <a class="program-file-reference-strong" href="manual-example-1.html" target="program-frame" title="Link to program file: manual-example">manual-example</a> we document the interface of two imaginary functions <kbd>f</kbd> and <kbd>g</kbd> with <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#form" target="program-frame" title="Manual: schemedoc">form</a>, <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#description" target="program-frame" title="Manual: schemedoc">description</a>, <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#precondition" target="program-frame" title="Manual: schemedoc">precondition</a>, <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#postcondition" target="program-frame" title="Manual: schemedoc">postcondition</a>, <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#parameters" target="program-frame" title="Manual: schemedoc">parameters</a>, <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#returns" target="program-frame" title="Manual: schemedoc">returns</a>, and more.</p></div></div><div class="elucidator-section"><a name="dtd-doc-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#man-sec"><img src="./images/small-prev.gif" title="The SchemeDoc Document Style" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" /></div><div><b><font size="5"><span>3 &nbsp; &nbsp; Making a manual of XML-in-LAML functions</span></font></b></div><div class="body-normal"><p>In this section we will see how to make a LAML SchemeDoc reference manual of a set of mirror functions, which are generated from an XML DTD. In particular, we shall see how to make good use of the information in the DTD in the reference manual.</p></div><div style="margin-left:10px;"><font size="2"><span>3.1 &nbsp; &nbsp; <a href="documentation.html#dtd-doc" target="documentation-frame"><font color="#000000">Making a manual of XML-in-LAML functions</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="dtd-doc"></a><div class="elucidator-entry-head"><a href="documentation.html#dtd-doc-sec"><img src="./images/small-up.gif" title="Making a manual of XML-in-LAML functions" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>3.1 &nbsp; &nbsp; Making a manual of XML-in-LAML functions</span></font></b></div><div class="body-normal"><p>In another part of the tutorial - in the <a href="../../xml-in-laml/xml-in-laml.html" target="_top">the XML-in-LAML chapter</a> we explain how to make a mirror of an XML language in Scheme. This is the so-called XML-in-LAML framework. It is often relevant to make a reference manual of the Scheme mirror functions produced in this way. The manual document style supports this. In this section, we will give an example.</p> <p>We will make a manual of the example bikes DTD from <a href="../../xml-in-laml/xml-in-laml.html" target="_top">the XML-in-LAML chapter</a>. When such a DTD is parsed, an internal Lisp representation is generated. The file with this representation contains a lot of useful information, which can be merged with manually writen explanations.</p> <p>If you wish, you can bring the DTD up in the right frame of this elucidator by clicking <a href="../../../examples/tutorial/xml-in-laml/dtds/bikes/bikes-dtd.html" target="program-frame">here</a>.</p> <p>You can also take a look at the derived, internal Lisp representation <a class="program-file-reference-weak" href="parsed-bikes-dtd-1.html" target="program-frame" title="Link to program file: parsed-bikes-dtd">parsed-bikes-dtd</a> file of the bikes DTD.</p> <p>We are now about to document the bikes XML DTD. This is done in two steps. In step one we make a naked manual of the bikes XML language, which only contains the information in the DTD. The generation of the naked manual spins off a template of a fulfledged manual, which we refine in step two.</p> <p>In step one we make the naked XML documentation, by means of the script <a class="program-file-reference-strong" href="bikes.laml-1.html" target="program-frame" title="Link to program file: bikes.laml">bikes.laml</a>. A script like this can easily be made by the Emacs command <b><kbd>M-x make-laml-schemedoc-manual</kbd></b>. This script holds the title and author information in the top part, and a reference to XML DTD in the <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-from-xml-dtd" target="program-frame" title="Manual: schemedoc">manual-from-xml-dtd</a> element below. Notice the attribute <kbd>make-dtd-manual-template</kbd>, which has the value true. The precesence of this particular attribute causes the creation of <a class="program-file-reference-strong" href="manual-template.laml-1.html" target="program-frame" title="Link to program file: manual-template.laml">manual-template.laml</a> when <a class="program-file-reference-weak" href="bikes.laml-1.html" target="program-frame" title="Link to program file: bikes.laml">bikes.laml</a> is processed.</p> <p>As the second step, we now transfer the title, author, and front-matters attributes of <a class="program-file-reference-weak" href="bikes.laml-1.html" target="program-frame" title="Link to program file: bikes.laml">bikes.laml</a> to <a class="program-file-reference-weak" href="manual-template.laml-1.html" target="program-frame" title="Link to program file: manual-template.laml">manual-template.laml</a>. We also fill in the the information in the <kbd>description</kbd> and <kbd>attribute-description</kbd> clauses. Hereby we get <a class="program-file-reference-strong" href="augmented-bikes.laml-1.html" target="program-frame" title="Link to program file: augmented-bikes.laml">augmented-bikes.laml</a> which process with LAML in one of the usual ways. You should consult the <a href="../../../examples/tutorial/schemedoc/augmented-bikes.html" target="program-frame" title="LAML example"><font color="#000000">augmented bikes XML DTD manual</font></a> to see the result of our efforts. At the end of <a class="program-file-reference-weak" href="augmented-bikes.laml-1.html" target="program-frame" title="Link to program file: augmented-bikes.laml">augmented-bikes.laml</a> notice the use of <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#merged-manual-from-xml-dtd" target="program-frame" title="Manual: schemedoc">merged-manual-from-xml-dtd</a> instead of <a class="manual-reference" href="../../../styles/xml-in-laml/schemedoc-2/man/schemedoc.html#manual-from-xml-dtd" target="program-frame" title="Manual: schemedoc">manual-from-xml-dtd</a> in <a class="program-file-reference-weak" href="bikes.laml-1.html" target="program-frame" title="Link to program file: bikes.laml">bikes.laml</a> .</p> <p>This ends the description of SchemeDoc and LAML manuals. If you want more information, you should consider the academic paper <a href="http://www.cs.aau.dk/~normark/laml/papers/documentation-tools.pdf" target="paper"><em>Scheme Program Documentation Tools</em></a>. Half of that paper is about Schemedoc.</p></div></div><div>&nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></div></body></html>