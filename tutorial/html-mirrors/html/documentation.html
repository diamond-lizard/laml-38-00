<html><head><link href="stylesheets/documentation.css" rel="stylesheet" title="documentation" type="text/css" /> <title>documentation</title></head><body bgcolor="#ffecd9" text="#000000" link="#000000" vlink="#000000"><a name="START"></a><h1><font color="#0000ff">Using the HTML Mirror Functions</font></h1><h3><span>Kurt N&#248;rmark   &copy;</span> &nbsp; &nbsp; normark@cs.aau.dk <br /> Department of Computer Science, Aalborg University</h3><p></p><div class="elucidator-abstract"><b>Abstract.</b> In this chapter we will take a systematic look at the HTML mirror functions, which are derived from an XML DTD (Document Type Definition).</div><div>&nbsp; <p></p></div><div class="elucidator-section"><a name="what-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#mirrorpar-sec"><img src="./images/small-next.gif" title="Parameters to mirror functions" alt="" border="0" /></a></div><div><b><font size="5"><span>1 &nbsp; &nbsp; What is a HTML mirror function</span></font></b></div><div class="body-normal">We first describe what makes a function an HTML mirror function. </div><div style="margin-left:10px;"><font size="2"><span>1.1 &nbsp; &nbsp; <a href="documentation.html#what" target="documentation-frame"><font color="#000000">What is a HTML mirror function</font></a></span></font> <br /> <font size="2"><span>1.2 &nbsp; &nbsp; <a href="documentation.html#context" target="documentation-frame"><font color="#000000">The context of a HTML mirror fragment.</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="what"></a><div class="elucidator-entry-head"><a href="documentation.html#what-sec"><img src="./images/small-up.gif" title="What is a HTML mirror function" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#context"><img src="./images/small-next.gif" title="The context of a HTML mirror fragment." alt="" border="0" /></a>  <br /> <b><font size="4"><span>1.1 &nbsp; &nbsp; What is a HTML mirror function</span></font></b></div><div class="body-normal"><p>The building blocks of HTML are called elements. In the following HTML document we see instances of the <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#head" target="program-frame" title="Manual: xhtml10-strict-mirror">head</a>, <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#title" target="program-frame" title="Manual: xhtml10-strict-mirror">title</a>, <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#body" target="program-frame" title="Manual: xhtml10-strict-mirror">body</a> and <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#p" target="program-frame" title="Manual: xhtml10-strict-mirror">p</a> elements.</p> <blockquote><pre style="font-size:11px;">
 &lt;html&gt;
   &lt;head&gt;&lt;title&gt;Doc Title&lt;/title&gt;&lt;/head&gt;
   &lt;body&gt;&lt;h1&gt;Title&lt;/h1&gt; 
      &lt;p&gt; First paragraph &lt;/p&gt;
   &lt;/body&gt;
 &lt;/html&gt;</pre></blockquote> <p>LAML provides a specialized function for each element in HTML. In the early days of LAML these functions were programmed manually, in an ad hoc fashion. In the current version of LAML, they are all generated automatically from the formal definition of an XML language, such as XHTML. In <a href="../../xml-in-laml/xml-in-laml.html" target="_top">another chapter of the tutorial</a> we will see how to generate such function from our own XML languages. The HTML mirror functions are pretty advanced, not least because they carry out a comprehensive validation of the generated HTML code. As we will see below, the mirror functions all observe some special parameter passing and interpretation rules.</p> <p>In this tutorial we use and explain the most recent version of the HTML mirrors in Scheme. These are the family of mirrors known as XHTML 1.0 transitional, strict, and frameset. We recommend that all LAML users stick to the XHTML mirrors, and more generally to the software based on &#39;XML in LAML&#39;. Only use the HTML 4 mirrors if you absolutely need to due to legacy concerns.</p> <p>The document above corresponds to <a class="program-file-reference-strong" href="doc0-1-LARGE.html" target="program-frame" title="Link to program file: doc0">doc0</a> . (As always in the LAML tutorial, click on the red or blue name to make the document appear in the other big frame of the browser). Take at look at the <a class="program-reference-strong" href="doc0-1-LARGE.html#write-clause" target="program-frame" title="doc0">write-clause</a> (more specifically the html clause at <span><a href="doc0-1-LARGE.html#write-clause-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in write-clause" alt="" border="0" /></a><a name="what-@a"></a></span>). (The color dots - source markers - appear in pairs: One in this frame and a similar one in the other frame. You can click on both of them for navigation purposes). As we see, the direct counterpart to the HTML fragment shown above is:</p> <blockquote><pre style="font-size:11px;">(html 
   (head 
    (title &quot;Doc Title&quot;) 
   )
  
   (body
    (h1 &quot;Title&quot;)
    (p &quot;First paragraph&quot;)
   )
 )</pre></blockquote> <p>We notice the following:</p> <ul><li><span>The names of the mirror functions correspond directly to the name of the HTML elements.</span> <p></p></li> <li><span>Textual contents is passed as normal (quoted) Scheme strings.</span> <p></p></li> <li><span>There is no notion of end tags in LAML. The end parenthesis of the calling form makes up the end tag.</span> <p></p></li></ul></div></div><div class="elucidator-entry"><a name="context"></a><div class="elucidator-entry-head"><a href="documentation.html#what-sec"><img src="./images/small-up.gif" title="What is a HTML mirror function" alt="" border="0" /></a> <a href="documentation.html#what"><img src="./images/small-prev.gif" title="What is a HTML mirror function" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>1.2 &nbsp; &nbsp; The context of a HTML mirror fragment.</span></font></b></div><div class="body-normal"><p>It is easy to recognize the HTML mirror fragment in <a class="program-reference-strong" href="doc0-1-LARGE.html#write-clause" target="program-frame" title="doc0">write-clause</a> of <a class="program-file-reference-strong" href="doc0-1-LARGE.html" target="program-frame" title="Link to program file: doc0">doc0</a> (<span><a href="doc0-1-LARGE.html#write-clause-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in write-clause" alt="" border="0" /></a><a name="context-@a"></a></span>). But what about the other aspects of <a class="program-file-reference-strong" href="doc0-1-LARGE.html" target="program-frame" title="Link to program file: doc0">doc0</a>? Let us explain each of them, from first to last line.</p> <ul><li><span>We first load <a class="manual-file-reference-strong" href="../../../man/laml.html" target="program-frame" title="Link to SchmeDoc manual: laml">laml.scm</a> in which the most fundamental LAML stuff resides. (Please navigate to it - it will show the manual page of the Scheme source file <kbd>&quot;laml.scm&quot;</kbd>).</span> <p></p></li> <li><span>We then load a document style <a class="manual-file-reference-strong" href="../../../styles/man/simple-xhtml1.0-strict-validating.html" target="program-frame" title="Link to SchmeDoc manual: simple-xhtml10-strict">simple-xhtml10-strict</a> which in turn will load a number of libraries, among these <a class="manual-file-reference-strong" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html" target="program-frame" title="Link to SchmeDoc manual: xhtml10-strict">xhtml10-strict</a> - the XHTML mirror library. In general we use the term &#39;simple-...&#39; for pseudo document styles which just represent a batch of load commands. Thus, the use of this document style is for pure convenience! It loads the XHTML strict mirror and the common XML-in-LAML library. It also loads other useful libraries. If you want to handle this yourself you can load libraries more selectively - see <a class="program-file-reference-strong" href="mirror1-1-LARGE.html" target="program-frame" title="Link to program file: mirror1">mirror1</a> for an illustration.</span> <p></p></li> <li><span>On the next three lines of <a class="program-file-reference-strong" href="doc0-1-LARGE.html" target="program-frame" title="Link to program file: doc0">doc0</a> we define the <em>LAML processing parameters</em> <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-validate-contents?" target="program-frame" title="Manual: xml-in-laml">xml-validate-contents?</a>, <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-check-attributes?" target="program-frame" title="Manual: xml-in-laml">xml-check-attributes?</a>, and the variable which controls character transliteration. The meaning of these parameters is described in the SchemeDoc section <a class="manual-file-reference-strong" href="../../../lib/xml-in-laml/man/xml-in-laml.html#SECTION2" target="program-frame" title="Link to SchmeDoc manual: xml-in-laml">XML-in-LAML Processing Parameters</a>. Notice that there are other variables than the mentioned ones that control the the validation, and in a broader sense, the working of the mirror functions. <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-validate-contents?" target="program-frame" title="Manual: xml-in-laml">xml-validate-contents?</a> controls &#39;on the fly&#39; validation of the generated HTML document. If the value of the variable is <em>true</em> (in Scheme <em>true</em> is denoted #t), violations of the HTML content model (context free grammar of HTML) will be reported. The second controls whether we check the attributes (required, presence, value). In this examples, there is no HTML attributes, however.</span> <p></p></li> <li><span>The last parameter in <a class="program-file-reference-strong" href="doc0-1-LARGE.html" target="program-frame" title="Link to program file: doc0">doc0</a> is set by means of a setter procedure, <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#set-xml-transliterate-character-data-in" target="program-frame" title="Manual: xml-in-laml">set-xml-transliterate-character-data-in</a>. It controls if all characters in the generated HTML document is translated by means of the <a class="manual-reference" href="../../../man/laml.html#html-char-transformation-table" target="program-frame" title="Manual: laml">html-char-transformation-table</a>. This mechanism is explained in section <a class="documentation-reference" href="documentation.html#trans-sec" target="documentation-frame" title="Character transformation ">5</a> of this tutorial. In general we recommend that you use <kbd>set!</kbd> instead of <kbd>define</kbd> to change the default values of the LAML processing parameters. If you, for some reason, misspell the names, you will get an error if you use the assignment set!. This is not the case if you (re)define.</span> <p></p></li> <li><span>Then follows <a class="program-reference-strong" href="doc0-1-LARGE.html#write-clause" target="program-frame" title="doc0">write-clause</a> with the HTML fragment in LAML syntax, which we discussed above. The first parameter to <a class="manual-reference" href="../../../man/laml.html#write-html" target="program-frame" title="Manual: laml">write-html</a> is the list <kbd>(raw prolog)</kbd> - a list of symbols. The symbol <span class="none-reference">raw</span> asks for non-pretty printed HTML output. As an alternative you can use the symbol <span class="none-reference">pp</span>. The symbol <span class="none-reference">prolog</span> asks for generation of an appropriate document front matters clause - in this case consisting of an XML declaration and a document type definition. (Take a look at the generated HTML document to see what it looks like). <p></p> The form <kbd>(html ...)</kbd> actually returns a syntax tree, which by use of <a class="manual-reference" href="../../../man/laml.html#write-html" target="program-frame" title="Manual: laml">write-html</a> is rendered as text and written to a file. Using <a class="manual-reference" href="../../../man/laml.html#write-html" target="program-frame" title="Manual: laml">write-html</a> it is possible to control the name of the HTML target file. In the example, no target file is given, however. In that case - and as the default rule - <a class="manual-reference" href="../../../man/laml.html#write-html" target="program-frame" title="Manual: laml">write-html</a> writes the HTML file on <kbd>doc0.html</kbd> in the same directory as the laml source file, provided that the LAML source file is located in <kbd>doc0.laml</kbd>. Thus, using the default file name rule, a file <kbd>f.laml</kbd> gives rise to a file <kbd>f.html</kbd> when it is processed.</span> <p></p></li> <li><span>The last line in <a class="program-file-reference-strong" href="doc0-1-LARGE.html" target="program-frame" title="Link to program file: doc0">doc0</a> says goodbye to LAML. LAML will report on time consumption etc. It is a good and recommended habit always to call <a class="manual-reference" href="../../../man/laml.html#end-laml" target="program-frame" title="Manual: laml">end-laml</a> at the end of the document.</span> <p></p></li></ul> <p>Please notice that all the LAML processing parameters, like <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-validate-contents?" target="program-frame" title="Manual: xml-in-laml">xml-validate-contents?</a> and <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-check-attributes?" target="program-frame" title="Manual: xml-in-laml">xml-check-attributes?</a> have default values. Therefore you do probably not need them explicitly in most of your documents.</p></div></div><div class="elucidator-section"><a name="mirrorpar-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#what-sec"><img src="./images/small-prev.gif" title="What is a HTML mirror function" alt="" border="0" /></a> <a href="documentation.html#val-sec"><img src="./images/small-next.gif" title="Validation aspects" alt="" border="0" /></a></div><div><b><font size="5"><span>2 &nbsp; &nbsp; Parameters to mirror functions</span></font></b></div><div class="body-normal">In this section we will study the basic parameter passing conventions of the HTML mirror functions</div><div style="margin-left:10px;"><font size="2"><span>2.1 &nbsp; &nbsp; <a href="documentation.html#mirrorpar" target="documentation-frame"><font color="#000000">Parameters</font></a></span></font> <br /> <font size="2"><span>2.2 &nbsp; &nbsp; <a href="documentation.html#mirrorpar1" target="documentation-frame"><font color="#000000">More Parameters</font></a></span></font> <br /> <font size="2"><span>2.3 &nbsp; &nbsp; <a href="documentation.html#whitespace" target="documentation-frame"><font color="#000000">Whitespace handling</font></a></span></font> <br /> <font size="2"><span>2.4 &nbsp; &nbsp; <a href="documentation.html#char-refs" target="documentation-frame"><font color="#000000">Character references</font></a></span></font> <br /> <font size="2"><span>2.5 &nbsp; &nbsp; <a href="documentation.html#css" target="documentation-frame"><font color="#000000">CSS attributes</font></a></span></font> <br /> <font size="2"><span>2.6 &nbsp; &nbsp; <a href="documentation.html#comments-cdatasec-pi" target="documentation-frame"><font color="#000000">HTML Comments, CDATA Sections, and Processing Instructions</font></a></span></font> <br /> <font size="2"><span>2.7 &nbsp; &nbsp; <a href="documentation.html#delayed-procedural-content-items" target="documentation-frame"><font color="#000000">Delayed Procedural Content Items</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="mirrorpar"></a><div class="elucidator-entry-head"><a href="documentation.html#mirrorpar-sec"><img src="./images/small-up.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#mirrorpar1"><img src="./images/small-next.gif" title="More Parameters" alt="" border="0" /></a>  <br /> <b><font size="4"><span>2.1 &nbsp; &nbsp; Parameters</span></font></b></div><div class="body-normal"><p>Now that we have seen the overall picture we will study the parameter conventions of the HTML mirror functions in LAML. At the raw Scheme level, HTML mirror functions accept an arbitrary parameter list by virtue of <kbd>(lambda parameter-list ...)</kbd> At the LAML level, however, <kbd>parameter-list</kbd> is interpreted and error checked in a number of ways. In this section we will concentrate on the interpretation of <kbd>parameter-list</kbd>.</p> <p>We will turn our interest to another document, namely <a class="program-file-reference-strong" href="mirror1-1-LARGE.html" target="program-frame" title="Link to program file: mirror1">mirror1</a>. As promised, we load the necessary libraries directly, thus circumventing the use of the simple document style &#39;simple-xhtml1.0-strict-validating&#39;.</p> <p>The resulting - and frankly - not very interesting HTML document is <a href="../../../examples/tutorial/html-mirrors/mirror1.html" target="program-frame" title="LAML example"><font color="#000000">mirror1.html</font></a></p> <p>The most basic parameter passing rules are the following:</p> <ul><em><b>Rule 1:</b> Symbols in Scheme represent HTML attributes which should be followed by a string that plays the role as the value of the attribute.</em> <p></p> <em><b>Rule 2:</b> Parameters which do not follow a symbol are content elements (strings or instances of elements).</em> <p></p></ul> <p>For a concrete illustration take a look at item one in <a class="program-reference-strong" href="mirror1-1-LARGE.html#the-write-clause" target="program-frame" title="mirror1">the-write-clause</a> (<span><a href="mirror1-1-LARGE.html#the-write-clause-@b" target="program-frame"><img src="./images/source-mark-green.gif" title="A link to a program source marker in the-write-clause" alt="" border="0" /></a><a name="mirrorpar-@b"></a></span>), namely:</p> <blockquote><pre style="font-size:11px;">(a &#39;href laml-url &quot;LAML&quot;)</pre></blockquote> <p>This corresponds to the HTML fragment:</p> <blockquote><pre style="font-size:11px;">&lt;a href=&quot;laml-url&quot;&gt;LAML&lt;/a&gt;</pre></blockquote> <p>The first parameter of the Scheme form is the symbol <kbd>href</kbd>, which plays the role of an attribute name. Therefore, the following parameter should be a string, and it serves as the attribute value. And it is, namely the value of the variable <kbd>laml-url</kbd>. The third parameter is a string which is not preceded by a symbol; As such, the third parameter &quot;LAML&quot; is part of the contents of the instance of the <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#a" target="program-frame" title="Manual: xhtml10-strict-mirror">a</a> element.</p> <p>The XML-in-LAML processing parameter <span class="none-reference">xml-accept-only-string-valued-attributes</span> is normally true (#t). This parameter is set by the procedure <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#set-xml-accept-only-string-valued-attributes-in" target="program-frame" title="Manual: xml-in-laml">set-xml-accept-only-string-valued-attributes-in</a>, because it needs a language argument. (If you mix two or more XML-in-LAML languages, you can have different values of <kbd>xml-accept-only-string-valued-attributes</kbd> for the languages involved). As the name indicates, this variable controls the rigidness of LAML with respect to the attribute values. If you set this variable to <em>false</em> (#f) LAML will use the function <a class="manual-reference" href="../../../lib/man/general.html#as-string" target="program-frame" title="Manual: general">as-string</a> on the parameter which follows an attribute name (a symbol). </p> <p>In the second list element of <a class="program-reference-strong" href="mirror1-1-LARGE.html#the-write-clause" target="program-frame" title="mirror1">the-write-clause</a> (<span><a href="mirror1-1-LARGE.html#the-write-clause-@c" target="program-frame"><img src="./images/source-mark-blue.gif" title="A link to a program source marker in the-write-clause" alt="" border="0" /></a><a name="mirrorpar-@c"></a></span>) we have rotated the parameters, but still there is one contents parameter, &quot;LAML&quot; and a single attribute, <kbd>href</kbd>. In LAML is OK to have the attributes after the element contents as long as Rule 1 os obeyed. You can even have some attributes before, some in the middle, and some after the element contents.</p> <p>Notice one difference between</p> <blockquote><pre style="font-size:11px;">(a &#39;href laml-url &quot;LAML&quot;)</pre></blockquote> <p>and</p> <blockquote><pre style="font-size:11px;">&lt;a href=&quot;laml-url&quot;&gt;LAML&lt;/a&gt;</pre></blockquote> <p>In the Scheme form <a class="program-reference-strong" href="mirror1-1-LARGE.html#laml-url" target="program-frame" title="mirror1">laml-url</a> is a variable, the value of which is the string <kbd>&quot;http://www.cs.auc.dk/~normark/laml/&quot;</kbd>. The corresponding HTML fragment is much longer:</p> <blockquote><pre style="font-size:11px;">&lt;a href=&quot;http://www.cs.auc.dk/~normark/laml/&quot;&gt;LAML&lt;/a&gt;</pre></blockquote> <p>In XML it is generally not allowed to apply the same attribute more than once in a given element instance. Therefore, we issue a warning if you attempt so. Thus</p> <blockquote><pre style="font-size:11px;">(a &#39;href laml-url &#39;href &quot;http://www.google.com&quot; &quot;Google&quot;)</pre></blockquote> <p>will give a warning. From a pragmatic point of view, this XML convention is in fact not very practical. We have found that it sometimes is quite useful to pass an attribute more than once. (This is the case if we work with elements that have many attributes, some of which are set at a general level). At mirror generation time it is decided if all attributes (even duplicates) are passed on, if only the first is passed on, or if only the last is passed. The function <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-duplicated-attribute-handling" target="program-frame" title="Manual: xml-in-laml">xml-duplicated-attribute-handling</a>  informs you about the handling of duplicated attributes in a given XML language. In all three XHTML mirrors, duplicated attributes are passed on.</p> <p>We see that LAML/Scheme programs can use all Scheme forms and functions side by side with use of the HTML mirror functions. This is useful in many cases, such as in situations where URLs are defined as symbolic constants, and used several times in a document.</p></div></div><div class="elucidator-entry"><a name="mirrorpar1"></a><div class="elucidator-entry-head"><a href="documentation.html#mirrorpar-sec"><img src="./images/small-up.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <a href="documentation.html#mirrorpar"><img src="./images/small-prev.gif" title="Parameters" alt="" border="0" /></a> <a href="documentation.html#whitespace"><img src="./images/small-next.gif" title="Whitespace handling" alt="" border="0" /></a>  <br /> <b><font size="4"><span>2.2 &nbsp; &nbsp; More Parameters</span></font></b></div><div class="body-normal"><p>Let us now illustrate another mirror function parameter rule:</p> <ul><em><b>Rule 3:</b> Every place an attribute or a content element is accepted we also accept a list, the elements of which are processed recursively and spliced into the result.</em></ul> <p>We still look at <a class="program-file-reference-strong" href="mirror1-1-LARGE.html" target="program-frame" title="Link to program file: mirror1">mirror1</a> document, which is rendered as <a href="../../../examples/tutorial/html-mirrors/mirror1.html" target="program-frame" title="LAML example"><font color="#000000">mirror1.html</font></a> (and part of the tutorial example documents.)</p> <p>In the third unordered list item in <a class="program-reference-strong" href="mirror1-1-LARGE.html#the-write-clause" target="program-frame" title="mirror1">the-write-clause</a> (<span><a href="mirror1-1-LARGE.html#the-write-clause-@d" target="program-frame"><img src="./images/source-mark-black.gif" title="A link to a program source marker in the-write-clause" alt="" border="0" /></a><a name="mirrorpar1-@d"></a></span>) we pass a single list to the mirror function, namely</p> <blockquote><pre style="font-size:11px;">(list &quot;LAML&quot; &#39;href laml-url)</pre></blockquote> <p>In the fourth item at line <span><a href="mirror1-1-LARGE.html#the-write-clause-@e" target="program-frame"><img src="./images/source-mark-maroon.gif" title="A link to a program source marker in the-write-clause" alt="" border="0" /></a><a name="mirrorpar1-@e"></a></span> only the attributes, as bound to the local variable <span class="none-reference">my-attributes</span>, are passed as a list, and this line is therefore identical with the previous line, <span><a href="mirror1-1-LARGE.html#the-write-clause-@d" target="program-frame"><img src="./images/source-mark-black.gif" title="A link to a program source marker in the-write-clause" alt="" border="0" /></a><a name="mirrorpar1-@d"></a></span> . By use of a variable like <span class="none-reference">my-attributes</span> a collection of attributes can be handled as a first class citizen.</p> <p>This parameter convention just describes makes it possible to organize part of the content, or a collection of attributes, in lists, and just pass the list as a parameter side by side with content and attribute parameters. This is important for a flexible handling of Lisp data, which typically is organized in lists.</p> <p>Let us finally see a more elaborate example at the last line <span><a href="mirror1-1-LARGE.html#the-write-clause-@g" target="program-frame"><img src="./images/source-mark-purple.gif" title="A link to a program source marker in the-write-clause" alt="" border="0" /></a><a name="mirrorpar1-@g"></a></span>. Here the variable <span class="none-reference">target-attributes</span> is bound to the list</p> <blockquote><pre style="font-size:11px;">(target &quot;t&quot; href &quot;http://www.cs.auc.dk/~normark/laml/&quot;)</pre></blockquote> <p>in the surrounding <a class="scheme-syntax-name" href="../../../r5rs/r5rs_6.html#IDX122" target="program-frame" title="R5RS Scheme form">let*</a> special form. The textual contents of the given <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#a" target="program-frame" title="Manual: xhtml10-strict-mirror">a</a> element mirror function is</p> <blockquote><pre style="font-size:11px;">LAML Power</pre></blockquote> <p>By the way, you will find out that the <kbd>target</kbd> attribute of the a element is not valid in XHTML1.0 strict. LAML tells you that when you process the document. We should really use XHTML1.0 transitional if we want a valid document. <em>Try it out yourself!</em></p> <p>In summary, we have seen that data, which is organized in lists, can be easily passed as both contents, attributes, and mixed contents/attributes.</p> <p>To see more advanced, but extremely useful examples of this, please take a look at a set of <a href="../../../examples/jfp/index.html" target="program-frame">additional examples</a>, especially those about tables. (These additional examples accompany one of the papers we I have written about LAML). Notice that these particular examples use the HTML4.01 transitional mirror.</p></div></div><div class="elucidator-entry"><a name="whitespace"></a><div class="elucidator-entry-head"><a href="documentation.html#mirrorpar-sec"><img src="./images/small-up.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <a href="documentation.html#mirrorpar1"><img src="./images/small-prev.gif" title="More Parameters" alt="" border="0" /></a> <a href="documentation.html#char-refs"><img src="./images/small-next.gif" title="Character references" alt="" border="0" /></a>  <br /> <b><font size="4"><span>2.3 &nbsp; &nbsp; Whitespace handling</span></font></b></div><div class="body-normal"><p>Let us now turn to a crucial detail, namely the handling of white space. We illustrate the discussion with yet another document namely <a class="program-file-reference-strong" href="mirror2-1-LARGE.html" target="program-frame" title="Link to program file: mirror2">mirror2</a>. You can also see <a href="../../../examples/tutorial/html-mirrors/mirror2.html" target="program-frame" title="LAML example"><font color="#000000">the rendering of the document</font></a>. In this document we have not given any LAML processing attributes at all. It means that we use the default values.</p> <p>The relevant mirror rules are:</p> <ul><em><b>Rule 4:</b> All content elements are implicitly separated by white space.</em> <p></p> <em><b>Rule 5:</b> A boolean false value (which we conveniently bind to a variable named underscore  <b>_</b>  ) suppresses white space at the location where the boolean value appears.</em> <p></p></ul> <p>First notice that the choice of boolean value false (#f) as the space suppress value is rather arbitrary. Any value which can be distinguished (via a type predicate) from symbols and strings at run time would be equally good. (The value of the variable <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#explicit-space-suppress" target="program-frame" title="Manual: xml-in-laml">explicit-space-suppress</a> controls which value to use for white space suppressing).</p> <p>In the first paragraph of <a class="program-reference-strong" href="mirror2-1-LARGE.html#html-write-clause" target="program-frame" title="mirror2">html-write-clause</a> three content strings are passed to the mirror of the <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#p" target="program-frame" title="Manual: xhtml10-strict-mirror">p</a> element <span><a href="mirror2-1-LARGE.html#html-write-clause-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in html-write-clause" alt="" border="0" /></a><a name="whitespace-@a"></a></span>. Notice that the interspacing after &quot;the&quot; and before &quot;paragraph&quot; is due to the first of the rules.</p> <p>Normally there is no space just in front of punctuations. The second line  <span><a href="mirror2-1-LARGE.html#html-write-clause-@b" target="program-frame"><img src="./images/source-mark-green.gif" title="A link to a program source marker in html-write-clause" alt="" border="0" /></a><a name="whitespace-@b"></a></span> </p> <blockquote><pre style="font-size:11px;">(p &quot;This is the second&quot; (b &quot;paragraph&quot;) _ &quot;.&quot;)</pre></blockquote> <p>illustrates the second rule, where the space between &quot;paragraph&quot; and &quot;.&quot; is suppressed by the variable named underscore.</p> <p>The third line <span><a href="mirror2-1-LARGE.html#html-write-clause-@c" target="program-frame"><img src="./images/source-mark-blue.gif" title="A link to a program source marker in html-write-clause" alt="" border="0" /></a><a name="whitespace-@c"></a></span> shows that the space handling also applies in the case where the contents is passed as a list of words:</p> <blockquote><pre style="font-size:11px;">(p (list (kbd &quot;This&quot;) &quot;is&quot; &quot;the&quot; &quot;third&quot; 
   &quot;paragraph&quot; _ &quot;.&quot;))</pre></blockquote> <p>Again, take a look at <a href="../../../examples/tutorial/html-mirrors/mirror2.html" target="program-frame" title="LAML example"><font color="#000000">the rendered HTML page</font></a> .</p> <p>The fourth paragraph at <span><a href="mirror2-1-LARGE.html#html-write-clause-@d" target="program-frame"><img src="./images/source-mark-black.gif" title="A link to a program source marker in html-write-clause" alt="" border="0" /></a><a name="whitespace-@d"></a></span> shows that we can have attributes, here a class attribute, side by side with the elements of the list.</p> <p>The fifth paragraph <span><a href="mirror2-1-LARGE.html#html-write-clause-@e" target="program-frame"><img src="./images/source-mark-maroon.gif" title="A link to a program source marker in html-write-clause" alt="" border="0" /></a><a name="whitespace-@e"></a></span> illustrates that the lists can be nested, and - in <span><a href="mirror2-1-LARGE.html#html-write-clause-@f" target="program-frame"><img src="./images/source-mark-grey.gif" title="A link to a program source marker in html-write-clause" alt="" border="0" /></a><a name="whitespace-@f"></a></span> - that the attributes can be buried in the inner list.</p> <p>The last, and seventh paragraph <span><a href="mirror2-1-LARGE.html#html-write-clause-@g" target="program-frame"><img src="./images/source-mark-purple.gif" title="A link to a program source marker in html-write-clause" alt="" border="0" /></a><a name="whitespace-@g"></a></span> (a very strange example, I should admit) shows that white space suppress work well together with content lists.</p></div></div><div class="elucidator-entry"><a name="char-refs"></a><div class="elucidator-entry-head"><a href="documentation.html#mirrorpar-sec"><img src="./images/small-up.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <a href="documentation.html#whitespace"><img src="./images/small-prev.gif" title="Whitespace handling" alt="" border="0" /></a> <a href="documentation.html#css"><img src="./images/small-next.gif" title="CSS attributes" alt="" border="0" /></a>  <br /> <b><font size="4"><span>2.4 &nbsp; &nbsp; Character references</span></font></b></div><div class="body-normal"><p>Character references are used to denote special characters, which cannot be typed directly due to the limitation of the keyboards in normal use. Character references are also used to get access to characters such as &lt;, &gt; and &amp; which have special meanings in HTML.</p> <p>In LAML there is no technical need to give special interpretations of <b><kbd>&lt;</kbd></b>, <b><kbd>&gt;</kbd></b>, and <b><kbd>&amp;</kbd></b>. Therefore these characters are transformed behind the scene, such that they appear in the HTML document as entered in the input. This is done through use of the so-called character transformation table. The transformations are as follows:</p> <div style="margin-left:10px;"><table border="0"><tr><td><b><kbd>&lt;</kbd></b></td> <td>is transformed to</td> <td><b><kbd>&amp;lt;</kbd></b></td></tr> <tr><td><b><kbd>&gt;</kbd></b></td> <td>is transformed to</td> <td><b><kbd>&amp;gt;</kbd></b></td></tr> <tr><td><b><kbd>&amp;</kbd></b></td> <td>is transformed to</td> <td><b><kbd>&amp;amp;</kbd></b></td></tr></table></div> <p>The HTML character transformation table is described in in section <a class="documentation-reference" href="documentation.html#trans-sec" target="documentation-frame" title="Character transformation ">5</a> .</p> <p>Imagine that <b><kbd>&lt;</kbd></b>, <b><kbd>&gt;</kbd></b> and <b><kbd>&amp;</kbd></b> were output verbatim in the HTML text. This would compromise the validation (see section <a class="documentation-reference" href="documentation.html#val-sec" target="documentation-frame" title="Validation aspects">3</a>) because we in that way could emit unbalanced an arbitrary HTML markup. Using LAML, the only way to produce markup is via use of the HTML mirror functions.</p> <p>In XHTML a character reference is denoted <kbd>(<a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#char-ref" target="program-frame" title="Manual: xml-in-laml">char-ref</a> x)</kbd>. The parameter <kbd>x</kbd> can be a number or a symbolic name. The document <a class="program-file-reference-strong" href="char-ref-1-LARGE.html" target="program-frame" title="Link to program file: char-ref">char-ref</a> shows a number of examples. You can see the resulting HTML page <a href="../../../examples/tutorial/html-mirrors/char-ref-ex.html" target="program-frame" title="LAML example"><font color="#000000">here</font></a>. Internally, a character reference is a structural entity in the same way as element instances and white space markers. When the structure (the AST) is linearized to text, the character references are translated to HTML character references.</p> <p>XML attribute values may also contain (native, HTML) character references. The document <a class="program-file-reference-strong" href="char-ref-1-LARGE.html" target="program-frame" title="Link to program file: char-ref">char-ref</a> shows a couple of examples. In order to make this available, the XML-in-LAML rendering functions enforces that character number 38 (&#39;&amp;&#39;) is never transformed within attribute values. This ensures that textually represented XML character entities within attribute values are rendered exactly as they are written in the LAML source.</p> <p>Character references in CSS attribute values are currently treated in the same way, but it is probably not meaningful to have character references in CSS attributes. CSS follows its own rules, and CSS validation is currently not supported by LAML.</p> <p>As a somewhat related issue, XML prescribes attribute normalization. In the current version of LAML (version 24) attribute normalization is not implemented. In a future version we may implement this normalization.</p></div></div><div class="elucidator-entry"><a name="css"></a><div class="elucidator-entry-head"><a href="documentation.html#mirrorpar-sec"><img src="./images/small-up.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <a href="documentation.html#char-refs"><img src="./images/small-prev.gif" title="Character references" alt="" border="0" /></a> <a href="documentation.html#comments-cdatasec-pi"><img src="./images/small-next.gif" title="HTML Comments, CDATA Sections, and Processing Instructions" alt="" border="0" /></a>  <br /> <b><font size="4"><span>2.5 &nbsp; &nbsp; CSS attributes</span></font></b></div><div class="body-normal"><p>Inline CSS attributes are handled in a special way in a LAML document. Such attributes are often useful when we form HTML presentational abstractions in which we want to make use of the special rendering made possible with Cascading Style Sheet attributes.</p> <p>The CSS mirror rule in LAML is the following:</p> <ul><em><span><b>Rule 6:</b> An attribute with the name <kbd>css:a</kbd> refers to the <kbd>a</kbd> attribute in CSS.</span></em></ul> <p>Let us now study a document with CSS attributes, namely <a class="program-file-reference-strong" href="mirror3-1-LARGE.html" target="program-frame" title="Link to program file: mirror3">mirror3</a>. You can also see <a href="../../../examples/tutorial/html-mirrors/mirror3.html" target="program-frame" title="LAML example"><font color="#000000">the rendering of the document</font></a> and hereby get a concrete feeling for the effect of the CSS attributes in the document.</p> <p>Take a look at <a class="program-reference-strong" href="mirror3-1-LARGE.html#a-write-clause" target="program-frame" title="mirror3">a-write-clause</a>. When we use inline CSS attributes in a HTML document it normally happens through the HTML <kbd>style</kbd> attribute. The value of a style attribute is a CSS fragment which uses a slightly different syntax than HTML and XML. At <span><a href="mirror3-1-LARGE.html#a-write-clause-@b" target="program-frame"><img src="./images/source-mark-green.gif" title="A link to a program source marker in a-write-clause" alt="" border="0" /></a><a name="css-@b"></a></span> we illustrate this.</p> <p>In the fragment at <span><a href="mirror3-1-LARGE.html#a-write-clause-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in a-write-clause" alt="" border="0" /></a><a name="css-@a"></a></span> we show the preferred LAML handling of CSS attributes in LAML. We see that CSS attributes can be given side by side with HTML attributes. In other words, all attributes are handled uniformly, and in the same syntax.</p> <p>Notice that LAML does not currently check that the names of the CSS attributes makes sense. Thus, the attribute checking does only apply to the HTML attributes.</p></div></div><div class="elucidator-entry"><a name="comments-cdatasec-pi"></a><div class="elucidator-entry-head"><a href="documentation.html#mirrorpar-sec"><img src="./images/small-up.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <a href="documentation.html#css"><img src="./images/small-prev.gif" title="CSS attributes" alt="" border="0" /></a> <a href="documentation.html#delayed-procedural-content-items"><img src="./images/small-next.gif" title="Delayed Procedural Content Items" alt="" border="0" /></a>  <br /> <b><font size="4"><span>2.6 &nbsp; &nbsp; HTML Comments, CDATA Sections, and Processing Instructions</span></font></b></div><div class="body-normal"><p>When you use LAML your document source is written in Scheme, and therefore it is natural to use Scheme Comments in you documents:</p> <blockquote><pre style="font-size:11px;">
 (p &quot;Some text&quot;) ; Some comment</pre></blockquote> <p>If you wish to use native XML comments in your XHTML documents this can also be done:</p> <blockquote><pre style="font-size:11px;">
 (p &quot;Some text&quot;) (xml-comment &quot;Some comment&quot;)</pre></blockquote> <p>This generates the following XHTML fragment:</p> <blockquote><pre style="font-size:11px;">
 &lt;p&gt;Some text&lt;/p&gt; &lt;!--Some comment--&gt;</pre></blockquote> <p>CDATA sections can be used for portions of a document that contains scripting program fragments. As an example, the LAML fragment</p> <blockquote><pre style="font-size:11px;">
 (cdata-section &quot;if (x &lt; y) &amp;x else &amp;y&quot;)</pre></blockquote> <p>generates</p> <blockquote><pre style="font-size:11px;">
 &lt;![CDATA[if (x &lt; y) &amp;x else &amp;y]]&gt;</pre></blockquote> <p>CDATA Sections are not rendered by browsers.</p> <p>XML Processing Instructions is &quot;a rarely used XML technicality&quot;. Processing instructions also be dealt with in LAML. I have never used them, however... See the function <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#processing-instruction" target="program-frame" title="Manual: xml-in-laml">processing-instruction</a> for some details.</p> <p>You can consult the <a href="../../../examples/xhtml1.0-transitional-validating/extra.laml" target="program-frame">extra.laml</a> document an its rendering <a href="../../../examples/xhtml1.0-transitional-validating/extra.html" target="program-frame">extra.html</a>  in the <a href="../../../examples/xhtml1.0-transitional-validating/index.html" target="program-frame">XHTML1.0 transitional example directory</a> if you wish to explore XML comments, CDATA sections, and processing instructions.</p></div></div><div class="elucidator-entry"><a name="delayed-procedural-content-items"></a><div class="elucidator-entry-head"><a href="documentation.html#mirrorpar-sec"><img src="./images/small-up.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <a href="documentation.html#comments-cdatasec-pi"><img src="./images/small-prev.gif" title="HTML Comments, CDATA Sections, and Processing Instructions" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>2.7 &nbsp; &nbsp; Delayed Procedural Content Items</span></font></b></div><div class="body-normal"><p>A LAML document is constructed bottom up, because each (mirror) function needs its parameters (content items) before it can construct their surrounding document structure. In some situations it is useful to include some document part that depend on its context. In this section we will show how to produce an index of all links from the current document. </p> <p><em>Delayed procedural content items</em> give rise to the following mirror rule:</p> <ul><em><span><b>Rule 7:</b> A Scheme procedure represents a delayed content item. Despite its name, such an item can cover both document content and document attributes. The delayed procedural content item is a Scheme procedure of two parameters: the root AST and the immediate parent AST. The delayed procedural content item is expanded by calling the Scheme procedure on the root document and on the parent document of the document part, which holds the procedure. The procedure can return a single element content item, a list of content items, or a mixed list of content items and attributes. The resulting content items and/or attributes are spliced into the document at the location of the procedure.</span></em></ul> <p>Let us study the example document <a class="program-file-reference-strong" href="procedural-items-1-LARGE.html" target="program-frame" title="Link to program file: procedural-items">procedural-items</a> and <a href="../../../examples/tutorial/html-mirrors/procedural-items.html" target="program-frame" title="LAML example"><font color="#000000">the rendered HTML page</font></a>. Most important, notice that the function <a class="program-reference-strong" href="procedural-items-1-LARGE.html#link-index" target="program-frame" title="procedural-items">link-index</a> is inserted at the very top of the document, as the first constituent of body <span><a href="procedural-items-1-LARGE.html#link-index-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in link-index" alt="" border="0" /></a><a name="delayed-procedural-content-items-@a"></a></span>. Please observe, that is not called explicitly. The procedural object (the closure) is simply referred as one of the document content items, side by side with for instance (<a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#hr" target="program-frame" title="Manual: xhtml10-strict-mirror">hr</a>) (which becomes a LAML AST), text strings, and white space markers.</p> <p>When the entire html document is built, it is scanned for delayed procedural content items. The procedure <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#expand-procedural-content-items-in-ast" target="program-frame" title="Manual: xml-in-laml">expand-procedural-content-items-in-ast</a> does that. <a class="manual-reference" href="../../../man/laml.html#write-html" target="program-frame" title="Manual: laml">write-html</a> calls <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#expand-procedural-content-items-in-ast" target="program-frame" title="Manual: xml-in-laml">expand-procedural-content-items-in-ast</a>,  so the document author does not have to be concerned with this. In case the document is not handled by write-html or write-xml, the document author is resposible of calling <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#expand-procedural-content-items-in-ast" target="program-frame" title="Manual: xml-in-laml">expand-procedural-content-items-in-ast</a>. When <a class="program-reference-strong" href="procedural-items-1-LARGE.html#link-index" target="program-frame" title="procedural-items">link-index</a> is called it traverses the entire (root) document by means of <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#find-asts" target="program-frame" title="Manual: xml-in-laml">find-asts</a>, it locates all <a class="manual-reference" href="../../../lib/xml-in-laml/mirrors/man/xhtml10-strict-mirror.html#a" target="program-frame" title="Manual: xhtml10-strict-mirror">a</a> elements, and it produces a table by means of the XHTML convenience function  <a class="manual-reference" href="../../../lib/man/xhtml10-convenience.html#multi-column-list" target="program-frame" title="Manual: xhtml10-convenience">multi-column-list</a>. The table is inserted instead of the procedure in the document - at <span><a href="procedural-items-1-LARGE.html#link-index-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in link-index" alt="" border="0" /></a><a name="delayed-procedural-content-items-@a"></a></span>. Thats it! And that is the way LAML provides for context sensitive document items.</p> <p>Delayed procedural content items have been introduced in LAML version 29. In LAML version 33, delayed procedure content items have been enabled in empty elements. (Actually, this corrects an error in earlier versions). This supports &quot;delayed attributes&quot; in elements without contents.</p></div></div><div class="elucidator-section"><a name="val-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#mirrorpar-sec"><img src="./images/small-prev.gif" title="Parameters to mirror functions" alt="" border="0" /></a> <a href="documentation.html#twomir-sec"><img src="./images/small-next.gif" title="Using more than one mirror" alt="" border="0" /></a></div><div><b><font size="5"><span>3 &nbsp; &nbsp; Validation aspects</span></font></b></div><div class="body-normal">Here we will discuss the validation aspects of the XHTML mirrors.</div><div style="margin-left:10px;"><font size="2"><span>3.1 &nbsp; &nbsp; <a href="documentation.html#val" target="documentation-frame"><font color="#000000">Validation</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="val"></a><div class="elucidator-entry-head"><a href="documentation.html#val-sec"><img src="./images/small-up.gif" title="Validation aspects" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>3.1 &nbsp; &nbsp; Validation</span></font></b></div><div class="body-normal"><p>As one of the attractive properties of the XHTML mirror functions in Scheme (an similarly mirrors of other XML languages) these functions validate the generated HTML code on the fly.</p> <p>Take a look at the document in <a class="program-file-reference-strong" href="mirror4-1-LARGE.html" target="program-frame" title="Link to program file: mirror4">mirror4</a>. Please notice that this document is invalid in several respects. Can you already now spot the problematic places in the document?</p> <p>Well, if not, LAML will help you. We get the following feedback when processing the document:</p> <blockquote><pre style="font-size:11px;">LAML Emacs Processing with mzscheme-200
Welcome to MzScheme version 205, Copyright (c) 1995-2003 PLT
Welcome to LAML Version 24.00 (December, 2003, development).
(C) Kurt Normark, Aalborg University, Denmark.
XML Warning: Encountered a misplaced  em  element within a  head  element: 
    (title &quot;An Invalid document&quot;)  (em &quot;Emphasis not allowed here&quot;)
XML Warning: The XML attribute  x  is not valid in the  p  element.
XML Warning: The attribute  id  is not allowed to appear more than once in a  p  element.
XML Warning: Encountered a misplaced  ol  in a  p  element. 
    (ol (li &quot;Ordered list not allowed here&quot;))
XML Warning: Encountered a misplaced  li  element within a  body  element: 
    (p &#39;x &quot;y&quot; &quot;A paragraph with an invalid attribute&quot;)  (p &#39;id &quot;p1&quot; &#39;id &quot;p2&quot; (ol (li &quot;Ordered list not allowed here&quot;)))  (li &quot;li item ...
LAML processing time: 470 milliseconds.
End of LAML processing</pre></blockquote> <p>You can control the amount of checking via the boolean variables and settings in the top of the document. Try it out yourself by processing the file  <kbd>mirror4.laml</kbd>  in the  <a href="../../../examples/tutorial/html-mirrors/" target="program-frame" title="LAML example"><font color="#000000">accompanying example directory.</font></a></p> <p>The variable  <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-check-error" target="program-frame" title="Manual: xml-in-laml">xml-check-error</a>, which originally is defined in the common part of XML-in-LAML, determines the system&#39;s reaction on validation errors. As the default value, LAML displays a warning. You can reassign or redefine it, however:</p> <blockquote><pre style="font-size:11px;">
(set! xml-check-error laml-error)</pre></blockquote> <p>The procedure  <a class="manual-reference" href="../../../lib/man/general.html#laml-error" target="program-frame" title="Manual: general">laml-error</a>  is a function akin to Scheme&#39;s  <kbd>error</kbd>  procedure.</p> <p>With this redefinition, the first encountered validation error stops the LAML processing. Try it out!</p> <p>You can also control the length of the error messages via the variable  <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-error-truncation-length" target="program-frame" title="Manual: xml-in-laml">xml-error-truncation-length</a>.</p></div></div><div class="elucidator-section"><a name="twomir-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#val-sec"><img src="./images/small-prev.gif" title="Validation aspects" alt="" border="0" /></a> <a href="documentation.html#trans-sec"><img src="./images/small-next.gif" title="Character transformation " alt="" border="0" /></a></div><div><b><font size="5"><span>4 &nbsp; &nbsp; Using more than one mirror</span></font></b></div><div class="body-normal">In this section we will show how to use more than one mirror in the same document.</div><div style="margin-left:10px;"><font size="2"><span>4.1 &nbsp; &nbsp; <a href="documentation.html#twomir" target="documentation-frame"><font color="#000000">Using more than one mirror</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="twomir"></a><div class="elucidator-entry-head"><a href="documentation.html#twomir-sec"><img src="./images/small-up.gif" title="Using more than one mirror" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>4.1 &nbsp; &nbsp; Using more than one mirror</span></font></b></div><div class="body-normal"><p>The XML-in-LAML facilities of LAML permit use of two or more sets of mirror functions in the same document. In this section we will illustrate an often occurring situation where both the XHTML 1.0 transitional and the XHTML1.0 frameset mirrors are used (loaded) in the same LAML document.</p> <p>The LAML document  <a class="program-file-reference-strong" href="frameset-1-1-LARGE.html" target="program-frame" title="Link to program file: frameset-1">frameset-1</a>  serves as the example. See also  <a href="../../../examples/tutorial/html-mirrors/frameset-1.html" target="program-frame" title="LAML example"><font color="#000000">the resulting web page.</font></a> Three documents are generated:  <a class="program-reference-weak" href="frameset-1-1-LARGE.html#frameset-doc" target="program-frame" title="frameset-1">frameset-doc</a> ,  <a class="program-reference-weak" href="frameset-1-1-LARGE.html#left-doc" target="program-frame" title="frameset-1">left-doc</a> , and  <a class="program-reference-weak" href="frameset-1-1-LARGE.html#right-doc" target="program-frame" title="frameset-1">right-doc</a> . The frameset-doc uses the XHTML1.0 frameset mirror functions. The two others use the XHTML1.0 transitional mirror function. The crucial observation is that there is a substantial overlap between these two sets of mirror functions (in the meaning of similarly named functions).</p> <p>In order to deal with this, we need to use the so-called  <em>language map</em>.   As an example, the name  <kbd>html</kbd>  is ambiguous in the sense that it occurs in both the XHTML transitional mirror and in the XHTML frameset mirror. Using the language map, it is possible to get hold on a specific mirror function in the following way:</p> <blockquote><pre style="font-size:11px;">(xhtml10-frameset &#39;html)</pre></blockquote> <p>In  <a class="program-file-reference-strong" href="frameset-1-1-LARGE.html" target="program-frame" title="Link to program file: frameset-1">frameset-1</a>  we have used the respective language map to extract unambiguous mirror functions from both XHTML languages. See the functions such as  <a class="program-reference-weak" href="frameset-1-1-LARGE.html#fs:html" target="program-frame" title="frameset-1">fs:html</a>  and  <a class="program-reference-weak" href="frameset-1-1-LARGE.html#tr:html" target="program-frame" title="frameset-1">tr:html</a> .</p> <p>Strictly speaking, it is possible to use the language map for only the first loaded mirror library. In our example, this is the XHTML frameset library. LAML will complain or warn about possible language overlap when we use the transitional functions, but we can safely ignore the warnings. In  <a class="program-file-reference-strong" href="frameset-2-1-LARGE.html" target="program-frame" title="Link to program file: frameset-2">frameset-2</a>  we have turned off the language overlap checking, cf. the  <a class="program-reference-weak" href="frameset-2-1-LARGE.html#no-overlap-checking" target="program-frame" title="frameset-2">no-overlap-checking</a> by assigning the variable <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#xml-check-language-overlap?" target="program-frame" title="Manual: xml-in-laml">xml-check-language-overlap?</a>.</p></div></div><div class="elucidator-section"><a name="trans-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#twomir-sec"><img src="./images/small-prev.gif" title="Using more than one mirror" alt="" border="0" /></a> <a href="documentation.html#abstr-sec"><img src="./images/small-next.gif" title="Building abstractions on top of mirror functions" alt="" border="0" /></a></div><div><b><font size="5"><span>5 &nbsp; &nbsp; Character transformation </span></font></b></div><div class="body-normal">Here we will discuss use of the character transformation table.</div><div style="margin-left:10px;"><font size="2"><span>5.1 &nbsp; &nbsp; <a href="documentation.html#trans" target="documentation-frame"><font color="#000000">Transformations</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="trans"></a><div class="elucidator-entry-head"><a href="documentation.html#trans-sec"><img src="./images/small-up.gif" title="Character transformation " alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>5.1 &nbsp; &nbsp; Transformations</span></font></b></div><div class="body-normal"><p>We will now illustrate the impact of the <a class="manual-reference" href="../../../man/laml.html#html-char-transformation-table" target="program-frame" title="Manual: laml">html-char-transformation-table</a>.  Every character in the contents of a HTML document can be transformed through this table. Needless to say, most characters are mapped to themselves via the table. Only characters such as &lt; and &gt; are normally transformed to the corresponding character entities <b><kbd>&amp;lt;</kbd></b> and <b><kbd>&amp;gt;</kbd></b>. Let us return to <a class="program-file-reference-strong" href="mirror2-1-LARGE.html" target="program-frame" title="Link to program file: mirror2">mirror2</a> document, which is rendered as <a href="../../../examples/tutorial/html-mirrors/mirror2.html" target="program-frame" title="LAML example"><font color="#000000">mirror2.html</font></a>. We will play a little with the document by using a slightly non-standard <a class="manual-reference" href="../../../man/laml.html#html-char-transformation-table" target="program-frame" title="Manual: laml">html-char-transformation-table</a> .</p> <p>The <a class="program-file-reference-strong" href="mirror2-1-LARGE.html" target="program-frame" title="Link to program file: mirror2">mirror2</a> document is copied to <a class="program-file-reference-strong" href="mirror5-1-LARGE.html" target="program-frame" title="Link to program file: mirror5">mirror5</a>, which we now work on. Please consult it!</p> <p>In the fundamental LAML library <kbd>laml.scm</kbd> the HTML character transformation table, referred by <a class="manual-reference" href="../../../man/laml.html#html-char-transformation-table" target="program-frame" title="Manual: laml">html-char-transformation-table</a>, is created as the identity mapping</p> <blockquote><pre style="font-size:11px;">(define html-char-transformation-table
    (list-&gt;vector (make-list 256 #t)))</pre></blockquote> <p>which next is mutated at a few locations, such as</p> <blockquote><pre style="font-size:11px;">
  (set-html-char-transformation-entry! 
  html-char-transformation-table (char-&gt;integer #\&lt;) &quot;&amp;lt;&quot;)

 (set-html-char-transformation-entry!
  html-char-transformation-table (char-&gt;integer #\&gt;) &quot;&amp;gt;&quot;)</pre></blockquote> <p>You can find the actual mutations of the HTML character transformation table in the file lib/xml-in-laml/xml-in-laml.scm in your LAML directory.</p> <p>This situation reflects the default setup. Now we rotate all entries in <a class="manual-reference" href="../../../man/laml.html#html-char-transformation-table" target="program-frame" title="Manual: laml">html-char-transformation-table</a> :</p> <blockquote><pre style="font-size:11px;">(define html-char-transformation-table
    (list-&gt;vector (append (number-interval 1 255) (list 0)) ))</pre></blockquote> <p>The original definition corresponds to</p> <blockquote><pre style="font-size:11px;">(define html-char-transformation-table
    (list-&gt;vector (append (number-interval 0 255)) ))</pre></blockquote> <p>Numbers are possible entries in the table, cf. the documentation of <a class="manual-reference" href="../../../man/laml.html#html-char-transformation-table" target="program-frame" title="Manual: laml">html-char-transformation-table</a> (click the name).</p> <p>Now take a look at <a href="../../../examples/tutorial/html-mirrors/mirror5.html" target="program-frame" title="LAML example"><font color="#000000">mirror5.html</font></a> and compare it with <a href="../../../examples/tutorial/html-mirrors/mirror2.html" target="program-frame" title="LAML example"><font color="#000000">mirror2.html</font></a>. Can you read it?</p> <p>This exercise is - of course - just for fun. As a more serious application, we use the HTML character transformation table to convert national characters to the corresponding character entities in HTML. This is useful, because we can now type the national characters in our web documents, and they will be converted to safe and good values in the resulting HTML document. Because I often write in Danish, I have added the following to my <kbd>.laml</kbd> initialization file (which is loaded automatically at startup time when <a class="manual-file-reference-weak" href="../../../man/laml.html" target="program-frame" title="Link to SchmeDoc manual: laml">laml.scm</a> is loaded):</p> <blockquote><pre style="font-size:11px;">
 (set-html-char-transformation-entry! html-char-transformation-table 
                                      197 &quot;&amp;Aring&quot;)
 (set-html-char-transformation-entry! html-char-transformation-table
                                      198 &quot;&amp;AElig;&quot;)
 (set-html-char-transformation-entry! html-char-transformation-table
                                      216 &quot;&amp;Oslash;&quot;)

 (set-html-char-transformation-entry! html-char-transformation-table
                                      229 &quot;&amp;aring;&quot;)
 (set-html-char-transformation-entry! html-char-transformation-table
                                      230 &quot;&amp;aelig;&quot;)
 (set-html-char-transformation-entry! html-char-transformation-table
                                      248 &quot;&amp;oslash;&quot;)

   </pre></blockquote> <p>We control character transformation by <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#set-xml-transliterate-character-data-in" target="program-frame" title="Manual: xml-in-laml">set-xml-transliterate-character-data-in</a> and <a class="manual-reference" href="../../../lib/xml-in-laml/man/xml-in-laml.html#set-xml-char-transformation-table-in" target="program-frame" title="Manual: xml-in-laml">set-xml-char-transformation-table-in</a>. The first form enable character transformation if a boolean #t is passed as second parameter. The second one defines the transformation table. When we define a new XML in LAML language it is possible to define at set of element for which we never use character transformations.</p> <p>Character transformation works for both <kbd>raw</kbd> and <kbd>pp</kbd> writing mode.</p></div></div><div class="elucidator-section"><a name="abstr-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#trans-sec"><img src="./images/small-prev.gif" title="Character transformation " alt="" border="0" /></a> <a href="documentation.html#eip-sec"><img src="./images/small-next.gif" title="Epilogue" alt="" border="0" /></a></div><div><b><font size="5"><span>6 &nbsp; &nbsp; Building abstractions on top of mirror functions</span></font></b></div><div class="body-normal">We will here see how we can use the power of Scheme programming together with the HTML mirror functions.</div><div style="margin-left:10px;"><font size="2"><span>6.1 &nbsp; &nbsp; <a href="documentation.html#abstr" target="documentation-frame"><font color="#000000">Building abstractions</font></a></span></font> <br /> <font size="2"><span>6.2 &nbsp; &nbsp; <a href="documentation.html#cd1" target="documentation-frame"><font color="#000000">A CD archive</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="abstr"></a><div class="elucidator-entry-head"><a href="documentation.html#abstr-sec"><img src="./images/small-up.gif" title="Building abstractions on top of mirror functions" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="documentation.html#cd1"><img src="./images/small-next.gif" title="A CD archive" alt="" border="0" /></a>  <br /> <b><font size="4"><span>6.1 &nbsp; &nbsp; Building abstractions</span></font></b></div><div class="body-normal"><p>We have now seen how to write simple documents with the HTML mirror functions. More or less, the LAML documents are simple counterparts to the corresponding HTML documents. But this need not to be the case.</p> <p>The coast is clear for definition of all kinds of abstractions on top of the mirror functions. We have done a lot of work in this direction. Both LENO, the Scheme Elucidator, the Manual document styles, and others useful stuff have been created by writing abstractions on top of the mirror functions.</p> <p>You can probably imagine that a LAML source document, which makes heavy use of your own functions, can be quite difficult to approach for others than the original author and developer. The original LENO system is a good examples. In order to avoid arbitrary drifting of LAML document styles, we have come up with the <em>XML-in-LAML framework</em>. With this, the higher level abstractions are defined by an XML DTD (document type definition), which gives rise to a new XML-in-LAML language. As such, the high level LAML document is closely connected to XML. Still in the XML document, it is possible to develop arbitrary (non-XML related) abstractions - both on the content side and the attribute side. The Scheme Elucidator 2 (which is used to write the source of this tutorial) is a good example of non-trivial and high level document handling in LAML.</p> <p>We will discuss the XML in LAML framework in much more detail <a href="../../xml-in-laml/xml-in-laml.html" target="_top">later in this tutorial</a> .</p></div></div><div class="elucidator-entry"><a name="cd1"></a><div class="elucidator-entry-head"><a href="documentation.html#abstr-sec"><img src="./images/small-up.gif" title="Building abstractions on top of mirror functions" alt="" border="0" /></a> <a href="documentation.html#abstr"><img src="./images/small-prev.gif" title="Building abstractions" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>6.2 &nbsp; &nbsp; A CD archive</span></font></b></div><div class="body-normal"><p>In order to illustrate the <b>basic idea</b> of forming abstractions on top of the mirror functions we will make yet another document, namely  <a class="program-file-reference-strong" href="abstract1-1-LARGE.html" target="program-frame" title="Link to program file: abstract1">abstract1</a> . Our domain will be a CD archive overview. The final document,  <a href="../../../examples/tutorial/html-mirrors/abstract1.html" target="program-frame" title="LAML example"><font color="#000000">abstract1.html</font></a>  is also available for viewing. </p> <p>At the application level, <a class="program-reference-strong" href="abstract1-1-LARGE.html#document-body" target="program-frame" title="abstract1">document-body</a>, we see an instance of <kbd>cd-archive</kbd> (<span><a href="abstract1-1-LARGE.html#document-body-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in document-body" alt="" border="0" /></a><a name="cd1-@a"></a></span>) and three nested <kbd>cd-entry</kbd> clauses (<span><a href="abstract1-1-LARGE.html#document-body-@b" target="program-frame"><img src="./images/source-mark-green.gif" title="A link to a program source marker in document-body" alt="" border="0" /></a><a name="cd1-@b"></a></span>, <span><a href="abstract1-1-LARGE.html#document-body-@c" target="program-frame"><img src="./images/source-mark-blue.gif" title="A link to a program source marker in document-body" alt="" border="0" /></a><a name="cd1-@c"></a></span>, <span><a href="abstract1-1-LARGE.html#document-body-@d" target="program-frame"><img src="./images/source-mark-black.gif" title="A link to a program source marker in document-body" alt="" border="0" /></a><a name="cd1-@d"></a></span>). This is an example of a relative high level document that enumerates a small CD collection.</p> <p>The implementation of <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-archive" target="program-frame" title="cd-stuff">cd-archive</a> and <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-entry" target="program-frame" title="cd-stuff">cd-entry</a> is done in the separate file <a class="program-file-reference-strong" href="cd-stuff-1-LARGE.html" target="program-frame" title="Link to program file: cd-stuff">cd-stuff</a>. Let us first study the function <a class="program-reference-strong" href="cd-stuff-1-LARGE.html#cd-entry" target="program-frame" title="cd-stuff">cd-entry</a>. First it is noticed that <a class="program-reference-strong" href="cd-stuff-1-LARGE.html#cd-entry" target="program-frame" title="cd-stuff">cd-entry</a> takes a number of subentries, each of which is defined by its own function: <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-number" target="program-frame" title="cd-stuff">cd-number</a>, <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-artist" target="program-frame" title="cd-stuff">cd-artist</a>, <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-title" target="program-frame" title="cd-stuff">cd-title</a>, and <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-playing-time" target="program-frame" title="cd-stuff">cd-playing-time</a>. These simple functions just tags the parameter(s) by a unique symbol. Thus, these four functions serve as syntactic sugar, which makes the source document <a class="program-file-reference-strong" href="abstract1-1-LARGE.html" target="program-frame" title="Link to program file: abstract1">abstract1</a> nice and comprehensible. For internal purposes in <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-number" target="program-frame" title="cd-stuff">cd-number</a>, <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-artist" target="program-frame" title="cd-stuff">cd-artist</a>, <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-title" target="program-frame" title="cd-stuff">cd-title</a>, and <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-playing-time" target="program-frame" title="cd-stuff">cd-playing-time</a> the function <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#tag-data" target="program-frame" title="cd-stuff">tag-data</a> is used. As an example</p> <blockquote><pre style="font-size:11px;">(cd-playing-time 3 4)</pre></blockquote> <p>returns the list <kbd>(cd-playing-time &quot;3:4&quot;)</kbd>. <a class="program-reference-strong" href="cd-stuff-1-LARGE.html#cd-entry" target="program-frame" title="cd-stuff">cd-entry</a> binds the constituents to local names in the let clause (<span><a href="cd-stuff-1-LARGE.html#cd-entry-@a" target="program-frame"><img src="./images/source-mark-red.gif" title="A link to a program source marker in cd-entry" alt="" border="0" /></a><a name="cd1-@a"></a></span>) and it outputs a table (<span><a href="cd-stuff-1-LARGE.html#cd-entry-@b" target="program-frame"><img src="./images/source-mark-green.gif" title="A link to a program source marker in cd-entry" alt="" border="0" /></a><a name="cd1-@b"></a></span>), which is made by use of the XHTML mirror functions.</p> <p>In a real situation we would recommend to keep the data free of HTML markup until they are encountered by the top-level function, here <a class="program-reference-weak" href="cd-stuff-1-LARGE.html#cd-archive" target="program-frame" title="cd-stuff">cd-archive</a>. But for the demo purpose here, our solution is OK.</p> <p>The top-level function <a class="program-reference-strong" href="cd-stuff-1-LARGE.html#cd-archive" target="program-frame" title="cd-stuff">cd-archive</a> returns the &quot;HTML envelope&quot;. Due to the flexibility of the HTML mirror function parameter, the list at <span><a href="cd-stuff-1-LARGE.html#cd-archive-@e" target="program-frame"><img src="./images/source-mark-maroon.gif" title="A link to a program source marker in cd-archive" alt="" border="0" /></a><a name="cd1-@e"></a></span></p> <blockquote><pre style="font-size:11px;">(map spacy cd-entries)</pre></blockquote> <p>Can be passed as an HTML content contribution just after <kbd>(h1 page-title)</kbd> (<span><a href="cd-stuff-1-LARGE.html#cd-archive-@d" target="program-frame"><img src="./images/source-mark-black.gif" title="A link to a program source marker in cd-archive" alt="" border="0" /></a><a name="cd1-@d"></a></span>) .</p> <p>With these remarks we are about to end this example. Notice, however, that the CD example is only a simple example of how to form an ad hoc language (a CD archive language), and to implement it by means of Scheme functions. In this example we have not touched on XML-in-LAML at all. We will give an XML-in-LAML example <a href="../../xml-in-laml/xml-in-laml.html" target="_top">in a later part of this tutorial</a>.</p></div></div><div class="elucidator-section"><a name="eip-sec"></a><div><a href="documentation.html#START"><img src="./images/small-up.gif" title="" alt="" border="0" /></a> <a href="documentation.html#abstr-sec"><img src="./images/small-prev.gif" title="Building abstractions on top of mirror functions" alt="" border="0" /></a> <img src="./images/small-next-blind.gif" title="" alt="" border="0" /></div><div><b><font size="5"><span>7 &nbsp; &nbsp; Epilogue</span></font></b></div><div class="body-normal">We finally conclude and summarize this part of the tutorial</div><div style="margin-left:10px;"><font size="2"><span>7.1 &nbsp; &nbsp; <a href="documentation.html#eip" target="documentation-frame"><font color="#000000">Epilogue</font></a></span></font> <br /></div></div><div>&nbsp; <p></p></div><div class="elucidator-entry"><a name="eip"></a><div class="elucidator-entry-head"><a href="documentation.html#eip-sec"><img src="./images/small-up.gif" title="Epilogue" alt="" border="0" /></a> <img src="./images/small-prev-blind.gif" title="" alt="" border="0" /> <img src="./images/small-next-blind.gif" title="" alt="" border="0" />  <br /> <b><font size="4"><span>7.1 &nbsp; &nbsp; Epilogue</span></font></b></div><div class="body-normal"><p>We have now in relatively great detail studied various aspects of the XHTML 1.0 strict mirror. LAML also contains a fully validating HTML4.01 mirror, and XHTML 1.0 transitional and frameset mirrors. We strongly recommend that you stick to the XHTML mirrors! In addition there are a number of older mirrors, which you should <b>never</b> use for your development. They are only included in the distribution, because a number of document styles and tools still use them internally.</p> <p>And what is then the most important aspects of the HTML mirror functions? Well, here is my answer:</p> <ol><li>The flexible parameter passing conventions, most important the handling of attributes and data in lists.</li> <p></p> <li>The completeness of the mirror - all elements and all attributes are accounted for in a precise manner.</li> <p></p> <li>The validation done by the mirror - if you make an composition error or an attribute error in the document it will be discovered right away, at document generation time. You are either stopped or warned (your choice).</li> <p></p> <li>The possibility of programming your own functions and abstractions on top of the mirror functions. This can be done &#39;XML systematically&#39;, using the XML-in-LAML framework, or in a more ad hoc fashion, as illustrated by the CD archive example from above.</li> <p></p></ol> <p>This ends this part of the tutorial. Use the right arrow in the top bar to navigate to the next part of tutorial, or use the home icon to get back to the top level page of the tutorial.</p></div></div><div>&nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></div></body></html>