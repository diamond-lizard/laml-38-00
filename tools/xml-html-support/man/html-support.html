<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>Reference Manual of the HTML parser and pretty printer for LAML</title> <link href="../../../css-stylesheets/manual/manual-stylesheet.css" rel="stylesheet" type="text/css" /> <link rel="SHORTCUT ICON" href="../../../images/16-16-icon.ico" /></head> <body class="manual-body"><a name="MANUAL-TOP"></a> <table border="0px" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td width="33%" align="left" valign="top"><font size="2"><span class="manual-top-banner-when-generated">Generated: Monday, November 14, 2011, 09:19:58</span></font></td> <td width="34%" align="center" valign="top"><font size="2"><span>Copyright  &copy; 2011 , Kurt Nørmark</span></font></td> <td width="33%" align="right" valign="top"><font size="2"><a href="../../../index.html" title="The local LAML software home page" target="_top"><img src="../../../images/laml-home.gif" alt="The local LAML software home page" border="0" /></a></font></td></tr></tbody></table> <h1 class="manual-title">Reference Manual of the HTML parser and pretty printer for LAML</h1> <p></p> <h3><span class="manual-author-element"><span>Kurt Nørmark   &copy;</span> normark@cs.aau.dk</span> <span class="manual-affiliation-element">Department of Computer Science, Aalborg University, Denmark.</span></h3> <p></p>   <div class="manual-source-file-description">LAML Source file: tools/xml-html-support/html-support.scm</div> <p></p> <a name="MANUAL-ABSTRACT"></a> <div class="manual-abstract"> This is a non-validating HTML parser built on top of the simple XML parser for LAML.  In addition there are HTML pretty printing procedures in this tool. The implementation of the parser is done by redefining functions from the XML parser. Most of the xml-parser stuff is reused in this parser.<p> The top-level node is called a html-tree, which may hold top level comment nodes and declaration nodes (docttype nodes). The parser represents HTML comments within the document as special comment nodes.<p> The parser will be very confused if it meets a less than or greater than character which isn&#39;t part of tag symbol. Such character must be HTML protected (use the special character entities in HTML).<p> As of LAML version 31, the parser is able to parse certain non-wellfored HTML document (documents with crossing tags). This tool assumes that <kbd> laml.scm </kbd> and the general library are loaded.  The tool loads xml-support (which is the starting of this html support tool), collect-skip and file-read libraries.<p> See <a href="xml-support.html">the XML support</a> for information about the format of  parse trees and variables that control the pretty printing. See also the illustrative <a href="../../../examples/html-parser-and-pretty-printer/index.html">examples </a>  of the HTML parsing and pretty printing tools. <p> The typographical rebreaking and re-indenting of running text is still missing.<p> The LAML interactive tool procedures <kbd> html-pp </kbd> and <kbd> html-parse </kbd> in <kbd> laml.scm </kbd> are convenient top-level pretty printing and parse procedures respectively.<p>  Known problem: The handling of spaces after the start tag and before the end tag is not correct.<p> Please notice that this is not a production quality parser and pretty printer! It is currently used for internal purposes.</div> <p></p> <a name="MANUAL-TOC"></a> <div class="manual-table-of-contents-header">Table of Contents:</div> <div style="margin-left:12px;"><div><table border="0"><tbody><tr><td width="280" valign="top"><a href="#SECTION1"><font size="2">1.  Top level HTML parsing function.</font></a></td> <td width="280" valign="top"><a href="#SECTION2"><font size="2">2.  HTML pretty printing functions.</font></a></td> <td width="280" valign="top"> </td></tr></tbody></table></div></div> <p></p> <a name="MANUAL-INDEX"></a> <div class="manual-alphabetic-index-header">Alphabetic index:</div> <div style="margin-left:12px;"><table border="3" class="manual-alphabetic-index"><tr><td class="manual-header-title"><a href="#parse-html">parse-html</a></td> <td class="manual-header-form">(parse-html file-path)</td> <td class="manual-header-description">This function parses a file and return the parse tree.</td></tr> <tr><td class="manual-header-title"><a href="#parse-html-file">parse-html-file</a></td> <td class="manual-header-form">(parse-html-file in-file-path out-file-path)</td> <td class="manual-header-description">Parse the file in in-file-path, and deliver the parse tree in out-file-path.</td></tr> <tr><td class="manual-header-title"><a href="#parse-html-string">parse-html-string</a></td> <td class="manual-header-form">(parse-html-string str)</td> <td class="manual-header-description">Parse the string str which is supposed to contain a HTML document.</td></tr> <tr><td class="manual-header-title"><a href="#pretty-print-html-parse-tree">pretty-print-html-parse-tree</a></td> <td class="manual-header-form">(pretty-print-html-parse-tree parse-tree)</td> <td class="manual-header-description">Pretty prints a HTML parse tree, and return the result as a string.</td></tr> <tr><td class="manual-header-title"><a href="#pretty-print-html-parse-tree-file">pretty-print-html-parse-tree-file</a></td> <td class="manual-header-form">(pretty-print-html-parse-tree-file in-file-path [out-file-path])</td> <td class="manual-header-description">Pretty prints the HTML parse tree (lisp file) in in-file-path.</td></tr></table></div> <p></p> <table class="manual-table"><tr><td width="3000px" colspan="4"></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION1"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <img src="../../../images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="#SECTION2"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">1</span> <span class="manual-section-title">Top level HTML parsing function.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="parse-html-file"></a> parse-html-file</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(parse-html-file in-file-path out-file-path)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Parse the file in in-file-path, and deliver the parse tree in out-file-path. If in-file-path has an empty file extension, html is added. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="html-support-ep/html-support-1.html#parse-html-file">parse-html-file</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="parse-html"></a> parse-html</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(parse-html file-path)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">This function parses a file and return the parse tree. Thus, the difference between this function and parse-html-file is that this function returns the parse tree (no file output). file-path is a file path (relative or absolute). An html extension is added, if necessary. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="html-support-ep/html-support-1.html#parse-html">parse-html</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION2"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION1"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <img src="../../../images/small-next-blind.gif" title="" alt="" border="0" /></span> <br /> <span class="manual-section-number">2</span> <span class="manual-section-title">HTML pretty printing functions.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pretty-print-html-parse-tree-file"></a> pretty-print-html-parse-tree-file</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pretty-print-html-parse-tree-file in-file-path [out-file-path])</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Pretty prints the HTML parse tree (lisp file) in in-file-path. Outputs the pretty printed result in out-file-path,  which defaults to in-file-path if not explicitly passed. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="html-support-ep/html-support-1.html#pretty-print-html-parse-tree-file">pretty-print-html-parse-tree-file</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="pretty-print-html-parse-tree"></a> pretty-print-html-parse-tree</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(pretty-print-html-parse-tree parse-tree)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Pretty prints a HTML parse tree, and return the result as a string. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="html-support-ep/html-support-1.html#pretty-print-html-parse-tree">pretty-print-html-parse-tree</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="parse-html-string"></a> parse-html-string</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(parse-html-string str)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Parse the string str which is supposed to contain a HTML document.  The parsing is done by writing str to the temp dir in the LAML directory, and then using the function parse-html-file. Precondition: The temp dir of the LAML directory must exist. </td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind" rowspan="1">See also</td> <td class="manual-plain-reference-role">Scheme source file</td> <td class="manual-plain-reference-anchor" colspan="2"><a class="manual-plain-external-reference" href="html-support-ep/html-support-1.html#parse-html-string">parse-html-string</a></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr></table> <div class="manual-end-remark">Generated: Monday, November 14, 2011, 09:19:58 <br /> Generated by LAML <a href="http://www.cs.aau.dk/~normark/schemedoc/index.html" style="color:inherit;">SchemeDoc</a> using LAML Version 38.0 (November 14, 2011, full) <br /> </div> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></body></html>