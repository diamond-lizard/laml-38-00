<!-- Generated from an LAML (Lisp Abstracted Markup Language) source file. Version 30.2 (January 20, 2006, full, alpha). LAML is designed and implemented by Kurt Nørmark, normark@cs.auc.dk. Time of generation: January 21, 2006 16:32:03-->

<html><head><title>Source file</title></head><body bgcolor = "#ddffdd" text = "#000000" link = "#000000" vlink = "#000000" ><font size = "2"  ><pre><font color = "#70a800">;;;; This library supports buffered input stream. A buffered input stream is convenient for various kinds of parsing tasks. &lt;p&gt;
;;;; It is assumed that the variable ip references an open input port, or a string. The assignment of ip must be done
;;;; exernally to this library, and after the library is loaded. If ip references an open input stream (made by the Scheme function
;;;; open-input-file, for instance) input is read from that port. If ip is string, the variable pstring-ip-pointer is used as a pointer
;;;; into the string.&lt;p&gt;
;;;; The functions in section one are generic, low-level reading functions that either read from the open input port, or from a string (at the location 
;;;; determined by the variable pstring-ip-pointer). The functions in section two are the basic reading and peeking functions. 
;;;; In section three a number of convenient collection and skipping functions
;;;; are provided for.&lt;p&gt;
;;;; This library has been developed as part of an SGML/XML Document Type Definition (DTD) parser, but
;;;; it is useful in many other parsing situations.
;;;; There exists &lt;a href="http://www.cs.auc.dk/~normark/scheme/tools/dtd-parser/doc/html/index.html"&gt;som early internal documentation&lt;/a&gt;
;;;; of the DTD parser (on the www.cs.auc.dk site)
;;;; and as such also of some aspects of the functions in this library.&lt;p&gt;
;;;; In earlier versions of LAML, this library was called 'the text collection and skipping library'.
;;;; .title Reference Manual of Buffered Input Streams</font>

<a name="ip"><font color = "#70a800">; An open input port, or a string.</font><a name="ip"><a href = "collect-skip-LARGE.html#ip"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-i.html#ip" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from ip to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >ip</font></b> #f)

<a name="pstring-ip-pointer"><font color = "#70a800">; Only used if we use a string type ip. Points at the char to be read next.</font><a name="pstring-ip-pointer"><a href = "collect-skip-LARGE.html#pstring-ip-pointer"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#pstring-ip-pointer" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from pstring-ip-pointer to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >pstring-ip-pointer</font></b> 0)<font color = "#70a800">; </font><font color = "#70a800">; ========================================================================================================================</font><font color = "#70a800">;;; Low-level, generic input functions.
;;; The functions in this section reads from either an input port, or from a string.</font>
<a name="generic-read-char"><font color = "#70a800">;; Reads a single character from ip, and advances the input pointer.</font><a name="generic-read-char"><a href = "collect-skip-LARGE.html#generic-read-char"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-g.html#generic-read-char" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from generic-read-char to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(generic-read-char ip)</font></b>
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_8.htm#IDX583" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">input-port?</font></a> ip) (<a href = "r4rs_8.htm#IDX603" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">read-char</font></a> ip))
        ((<a href = "r4rs_8.htm#IDX482" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string?</font></a> ip) 
           (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a> (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> ip))
               #f
               (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((res (<a href = "r4rs_8.htm#IDX488" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-ref</font></a> ip <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a>)))
		 (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a>))
		 res)))
        (<a href = "r4rs_6.htm#IDX82" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>else</b></a> (laml-error "generic-read-char: ip must be a string or an input stream"))))

<a name="generic-eof-object?"><font color = "#70a800">;; Is x the designated end-of-file value relative to the implicitly given input port ip.</font><a name="generic-eof-object?"><a href = "collect-skip-LARGE.html#generic-eof-object?"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-g.html#generic-eof-object?" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from generic-eof-object? to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(generic-eof-object? x)</font></b>
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_8.htm#IDX583" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">input-port?</font></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a>) (<a href = "r4rs_8.htm#IDX616" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eof-object?</font></a> x))
        ((<a href = "r4rs_8.htm#IDX482" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string?</font></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a>) (<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX179" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">boolean?</font></a> x) (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> x)))
        (<a href = "r4rs_6.htm#IDX82" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>else</b></a> (laml-error "generic-eof-object?: ip must be a string or an input stream"))))

<a name="generic-at-eof?"><font color = "#70a800">; A non functional eof condition. Works only for string ip's</font><a name="generic-at-eof?"><a href = "collect-skip-LARGE.html#generic-at-eof?"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-g.html#generic-at-eof?" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from generic-at-eof? to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(generic-at-eof?)</font></b>
 (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a>  ((<a href = "r4rs_8.htm#IDX482" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string?</font></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a>) (<a href = "r4rs_8.htm#IDX351" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">=</font></a> <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a> (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a>)))
        (<a href = "r4rs_6.htm#IDX82" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>else</b></a> (laml-error "generic-at-eof?: ip must be a string for this function to work"))))
    


<font color = "#70a800">; ========================================================================================================================</font>
<font color = "#70a800">;;; Look ahead buffer and queue.
;;; The functions in this section manipulates a look ahead queue, which is in between the input port ip
;;; and the applications. Via this buffer it is possible to implement look ahead in the input port.&lt;p&gt;
;;; Imagine an input buffer of (actual) size n:
;;; &lt;pre&gt;    c1 c2 c3 ... cn &lt;/pre&gt;
;;; When characters are read from the input stream, they enter to the right (the peek end).
;;; When characters are read by an application they are taken from the left (the read end).
;;; Thus, cn is the last character read from the input port (or from the input string); This is done by peek-a-char.
;;; c1 is the next char to leave the buffer, and to be read by the client application; This will be done by read-a-char.&lt;p&gt;
;;;
;;;
;;; A few words about terminology in relation to R4RS or R5RS. The Scheme procedure read-char corresponds roughtly to read-a-char;
;;; The former always reads a character from an input port; The latter reads from an input stream via the buffer; 
;;; Only if the buffer is empty, a character is read from the port or string.
;;; The proper Scheme function peek-char returns the next char from the input port, without updating the 'input pointer'.
;;; The function peek-a-char of this library is different, because it reads a character from the file and puts it into the buffer.
;;; This use of terminology is unfortunate, and it may be confusing for some readers.</font>

<a name="max-look-ahead"><font color = "#70a800">;; The length of the cyclic look ahead buffer. Predefined to 2000 characters. A constant.</font><a name="max-look-ahead"><a href = "collect-skip-LARGE.html#max-look-ahead"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-m.html#max-look-ahead" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from max-look-ahead to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >max-look-ahead</font></b> 20000)

<a name="look-ahead-vector"><a href = "collect-skip-LARGE.html#look-ahead-vector"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-l.html#look-ahead-vector" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from look-ahead-vector to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >look-ahead-vector</font></b> (<a href = "r4rs_8.htm#IDX522" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">make-vector</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a> #\space))
<a name="next-write"><a href = "collect-skip-LARGE.html#next-write"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-n.html#next-write" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from next-write to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >next-write</font></b> 0)
<a name="next-read"><a href = "collect-skip-LARGE.html#next-read"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-n.html#next-read" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from next-read to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >next-read</font></b> 0)
<a name="look-ahead-length"><a href = "collect-skip-LARGE.html#look-ahead-length"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-l.html#look-ahead-length" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from look-ahead-length to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >look-ahead-length</font></b> 0)

<a name="end-of-file?"><a href = "collect-skip-LARGE.html#end-of-file?"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-e.html#end-of-file?" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from end-of-file? to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >end-of-file?</font></b> #f)

<a name="reset-look-ahead-buffer"><font color = "#70a800">;; Reset the look ahead buffer. 
;; You should always call this function after you have re-assigned ip to a new input stream.</font><a name="reset-look-ahead-buffer"><a href = "collect-skip-LARGE.html#reset-look-ahead-buffer"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-r.html#reset-look-ahead-buffer" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from reset-look-ahead-buffer to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(reset-look-ahead-buffer)</font></b>
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a> #f)
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a> 0)
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> 0)
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> 0)
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 0)
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> (<a href = "r4rs_8.htm#IDX522" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">make-vector</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a> #\space))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a> #f)
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#collection-buffer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collection-buffer</font></a> (<a href = "r4rs_8.htm#IDX483" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">make-string</font></a> <a href = "collect-skip.html#buffer-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">buffer-length</font></a> #\space))
)

<a name="get-look-ahead-buffer"><a href = "collect-skip-LARGE.html#get-look-ahead-buffer"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-g.html#get-look-ahead-buffer" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from get-look-ahead-buffer to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(get-look-ahead-buffer)</font></b>
  (pair-up
    '(ip pstring-ip-pointer next-write next-read look-ahead-length look-ahead-vector end-of-file? collection-buffer buffer-length)
    (<a href = "r4rs_8.htm#IDX265" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">list</font></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a> <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a> <a href = "collect-skip.html#collection-buffer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collection-buffer</font></a> <a href = "collect-skip.html#buffer-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">buffer-length</font></a>)))

<a name="put-look-ahead-buffer"><a href = "collect-skip-LARGE.html#put-look-ahead-buffer"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#put-look-ahead-buffer" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from put-look-ahead-buffer to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(put-look-ahead-buffer look-ahead-buffer-alist)</font></b>
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a> (get 'ip look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#pstring-ip-pointer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">pstring-ip-pointer</font></a> (get 'pstring-ip-pointer look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> (get 'next-write look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> (get 'next-read look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> (get 'look-ahead-length look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> (get 'look-ahead-vector look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a> (get 'end-of-file? look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#collection-buffer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collection-buffer</font></a> (get 'collection-buffer look-ahead-buffer-alist))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#buffer-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">buffer-length</font></a> (get 'buffer-length look-ahead-buffer-alist))
)


<a name="peek-a-char"><font color = "#70a800">;; Peek a character from the input port, but queues it for subsequent reading
;; at "the peek end".
;; This function always reads one character via generic-read-char, and puts in into the "peek end" of the buffer.</font><a name="peek-a-char"><a href = "collect-skip-LARGE.html#peek-a-char"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#peek-a-char" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from peek-a-char to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(peek-a-char)</font></b>
  (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#generic-read-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">generic-read-char</font></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a>)))
     (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "collect-skip.html#generic-eof-object?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">generic-eof-object?</font></a> ch)
         (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a> 
            (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a> #t)
            ch)
         (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a>
           (<a href = "r4rs_8.htm#IDX529" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">vector-set!</font></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> ch)
           (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a>))
           (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a>))
           (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a>) (error "Lookahead buffer capacity exceeded"))
           (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a>) (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> 0))
           ch))))

<a name="peek-chars"><font color = "#70a800">;; Peeks n charcters, by n calls of peek-a-char. 
;; In other words, the buffer is extended with n characters read from the input stream.
;; .internal-references "relies on" "peek-a-char"</font><a name="peek-chars"><a href = "collect-skip-LARGE.html#peek-chars"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#peek-chars" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from peek-chars to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(peek-chars n)</font></b>
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> n 0)
          (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a>
            (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#peek-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">peek-a-char</font></a>)))
              (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> (<a href = "collect-skip.html#generic-eof-object?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">generic-eof-object?</font></a> ch)) (<a href = "collect-skip.html#peek-chars" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">peek-chars</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> n 1))))))
        ((<a href = "r4rs_8.htm#IDX352" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&lt;</font></a> n 0) (error "peek-chars: Called with negative argument"))))

<a name="read-a-char"><font color = "#70a800">;; Read from the the look ahead buffer. Only if this buffer is empty, read from the port.
;; Reads from "the read end" of the queue.
;; In case the buffer is non-empty, this procedure takes a character out of the buffer in the "read end".
;; In any case, it advances the implicit input pointer of the input stream.</font><a name="read-a-char"><a href = "collect-skip-LARGE.html#read-a-char"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-r.html#read-a-char" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from read-a-char to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(read-a-char)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 0)
      (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "r4rs_8.htm#IDX527" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">vector-ref</font></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a>)))
        (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> 1))
        (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 1))
        (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a>) (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> 0))
        ch)
      (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#generic-read-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">generic-read-char</font></a> <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a>)))
        (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "collect-skip.html#generic-eof-object?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">generic-eof-object?</font></a> ch)
            (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a> #t))
        ch)))
            

<a name="read-a-string"><font color = "#70a800">;; Read and return a string of length n by means of repeated activations of read-a-char.
;; Takes eof into account such that a string shorter than n can be returned.</font><a name="read-a-string"><a href = "collect-skip-LARGE.html#read-a-string"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-r.html#read-a-string" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from read-a-string to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(read-a-string n)</font></b>
  (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((res (<a href = "r4rs_8.htm#IDX483" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">make-string</font></a> n #\space)))
    (<a href = "collect-skip.html#read-a-string-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-string-1</font></a> 0 n res)
    res))

<a name="read-a-string-1"><a href = "collect-skip-LARGE.html#read-a-string-1"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-r.html#read-a-string-1" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from read-a-string-1 to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(read-a-string-1 i n str)</font></b>
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> i n) str)
        (<a href = "r4rs_6.htm#IDX82" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>else</b></a> (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a>
                 (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> str i (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>))
                 (<a href = "collect-skip.html#read-a-string-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-string-1</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> i 1) n str)))))

<a name="look-ahead-prefix"><font color = "#70a800">;; Return a string of length lgt from the "read end" of the buffer. A proper function.
;; .pre-condition lgt cannot be larger than the number of characters in the buffer.</font><a name="look-ahead-prefix"><a href = "collect-skip-LARGE.html#look-ahead-prefix"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-l.html#look-ahead-prefix" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from look-ahead-prefix to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(look-ahead-prefix lgt)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> lgt)
      (<a href = "collect-skip.html#look-ahead-prefix-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix-1</font></a> 0 <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> lgt (<a href = "r4rs_8.htm#IDX483" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">make-string</font></a> lgt #\space))
      (error (<a href = "r4rs_8.htm#IDX510" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-append</font></a> "look-ahead-prefix: requires the look ahead to be in the queue, " (as-string lgt) ))))

<a name="look-ahead-prefix-1"><font color = "#70a800">; i is the index into the formed string.
; j is the index into the look-ahead queue
; lgt is the desired length of the extracted string
; res is the (tail recursive) result.</font><a name="look-ahead-prefix-1"><a href = "collect-skip-LARGE.html#look-ahead-prefix-1"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-l.html#look-ahead-prefix-1" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from look-ahead-prefix-1 to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(look-ahead-prefix-1 i j n res)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> i n)
      res
      (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a>
         (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> res i (<a href = "r4rs_8.htm#IDX527" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">vector-ref</font></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> j))
         (<a href = "collect-skip.html#look-ahead-prefix-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix-1</font></a>
            (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> i 1)
            (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX351" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">=</font></a> j (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a> 1)) 0 (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> j 1)) <font color = "#70a800">; <a name="look-ahead-prefix-1-@f"><img src = "./images/source-mark-grey.gif" alt = "A program source marker WITHOUT a link to the documentation" border = "0" ></font>            n
            res))))

<a name="max-look-ahead-prefix"><font color = "#70a800">;; Return the entire look ahead queue as a string. A proper function.</font><a name="max-look-ahead-prefix"><a href = "collect-skip-LARGE.html#max-look-ahead-prefix"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-m.html#max-look-ahead-prefix" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from max-look-ahead-prefix to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(max-look-ahead-prefix)</font></b>
  (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a>))

<a name="look-ahead-char"><font color = "#70a800">;; Return the first character from the "read end" of the buffer. A proper function.
;; .pre-condition The buffer is not empty.</font><a name="look-ahead-char"><a href = "collect-skip-LARGE.html#look-ahead-char"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-l.html#look-ahead-char" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from look-ahead-char to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(look-ahead-char)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 1)
      (<a href = "r4rs_8.htm#IDX527" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">vector-ref</font></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a>)
      (error "look-ahead-char: Cannot look ahead in emtpy look ahead queue")))
  
<a name="match-look-ahead?"><font color = "#70a800">;; Return whether the buffer matches the string str. Matching is done by the function equal? A proper function.</font><a name="match-look-ahead?"><a href = "collect-skip-LARGE.html#match-look-ahead?"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-m.html#match-look-ahead?" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from match-look-ahead? to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(match-look-ahead? str)</font></b>
  (<a href = "r4rs_6.htm#IDX107" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let*</b></a> ((lgt (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> str)))
    (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> lgt)
        (<a href = "r4rs_8.htm#IDX220" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">equal?</font></a> (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> lgt) str)
        #f)))

<a name="ensure-look-ahead"><font color = "#70a800">;; Make sure that there is at least n characters in the buffer.
;; If there are less than n characters, ented a sufficient number of characters with peek-chars.
;; .internal-references "relies on" "peek-chars"</font><a name="ensure-look-ahead"><a href = "collect-skip-LARGE.html#ensure-look-ahead"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-e.html#ensure-look-ahead" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from ensure-look-ahead to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(ensure-look-ahead n)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX352" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&lt;</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> n)
      (<a href = "collect-skip.html#peek-chars" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">peek-chars</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> n <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a>))))

<font color = "#70a800">; ----------------------------------------------------------------------------
; Put back facility at the write end. Part of the look ahead queue.
; Alternatively - and more useful - put back should take place at the read end.</font>
<a name="put-back-a-char-write-end"><font color = "#70a800">;; Put ch into the "peek end" of buffer (where peek-a-char operates).</font><a name="put-back-a-char-write-end"><a href = "collect-skip-LARGE.html#put-back-a-char-write-end"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#put-back-a-char-write-end" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from put-back-a-char-write-end to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(put-back-a-char-write-end ch)</font></b>
  (<a href = "r4rs_8.htm#IDX529" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">vector-set!</font></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> ch)
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a>))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a>))
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a>) (error "Lookahead buffer capacity exceeded"))
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a>) (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-write" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-write</font></a> 0)))

<a name="put-back-a-char-read-end"><font color = "#70a800">;; Put ch into the "read end" buffer (where read-a-char operates).</font><a name="put-back-a-char-read-end"><a href = "collect-skip-LARGE.html#put-back-a-char-read-end"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#put-back-a-char-read-end" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from put-back-a-char-read-end to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(put-back-a-char-read-end ch)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX354" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&lt;=</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> 0) (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a> 1)))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 1))
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a>) (error "Lookahead buffer capacity exceeded"))
  (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> 1))
  (<a href = "r4rs_8.htm#IDX529" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">vector-set!</font></a> <a href = "collect-skip.html#look-ahead-vector" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-vector</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> ch))

<a name="put-back-a-string"><font color = "#70a800">;; Put str back into the buffer. The second parameter which-end controls whether to put back
;; in read end or write end (equivalent to peek end). Possible values of which end are the symbols read-end or write-end.</font><a name="put-back-a-string"><a href = "collect-skip-LARGE.html#put-back-a-string"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#put-back-a-string" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from put-back-a-string to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(put-back-a-string str which-end)</font></b>
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_8.htm#IDX351" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">=</font></a> 0 (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> str)) 'nothing)
        ((<a href = "r4rs_8.htm#IDX204" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eq?</font></a> which-end 'write-end) 
           (<a href = "collect-skip.html#put-back-a-string-write-end" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">put-back-a-string-write-end</font></a> str 0 (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> str) 1)))
        ((<a href = "r4rs_8.htm#IDX204" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eq?</font></a> which-end 'read-end)
           (<a href = "collect-skip.html#put-back-a-string-read-end" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">put-back-a-string-read-end</font></a> str 0 (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> str) 1)))
        (<a href = "r4rs_6.htm#IDX82" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>else</b></a> (error "put-back-a-string: Unknown end indicator"))))

<a name="put-back-a-string-write-end"><a href = "collect-skip-LARGE.html#put-back-a-string-write-end"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#put-back-a-string-write-end" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from put-back-a-string-write-end to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(put-back-a-string-write-end str i max)</font></b>
  (<a href = "collect-skip.html#put-back-a-char-write-end" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">put-back-a-char-write-end</font></a> (<a href = "r4rs_8.htm#IDX488" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-ref</font></a> str i))
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX352" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&lt;</font></a> i <a href = "r4rs_8.htm#IDX363" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">max</font></a>)
      (<a href = "collect-skip.html#put-back-a-string-write-end" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">put-back-a-string-write-end</font></a> str (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> i 1) <a href = "r4rs_8.htm#IDX363" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">max</font></a>)))

<a name="put-back-a-string-read-end"><a href = "collect-skip-LARGE.html#put-back-a-string-read-end"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-p.html#put-back-a-string-read-end" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from put-back-a-string-read-end to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(put-back-a-string-read-end str min i)</font></b>
  (<a href = "collect-skip.html#put-back-a-char-read-end" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">put-back-a-char-read-end</font></a> (<a href = "r4rs_8.htm#IDX488" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-ref</font></a> str i))
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> i <a href = "r4rs_8.htm#IDX364" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">min</font></a>)
      (<a href = "collect-skip.html#put-back-a-string-read-end" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">put-back-a-string-read-end</font></a> str <a href = "r4rs_8.htm#IDX364" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">min</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> i 1))))


<a name="advance-look-ahead"><font color = "#70a800">;; Provided that there is at least n characters in the buffer, advance
;; next-read with n positions. Hereby n queued characters are skipped from the buffer at the "read end".</font><a name="advance-look-ahead"><a href = "collect-skip-LARGE.html#advance-look-ahead"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-a.html#advance-look-ahead" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from advance-look-ahead to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(advance-look-ahead n)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> n <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a>) (error (<a href = "r4rs_8.htm#IDX510" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-append</font></a> "Cannot advance the look ahead with " (as-string n) " positions")))
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> n 0)
      (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a>
        (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> 1))
        (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 1))
        (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> <a href = "collect-skip.html#max-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">max-look-ahead</font></a>) (<a href = "r4rs_6.htm#SEC32" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>set!</b></a> <a href = "collect-skip.html#next-read" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">next-read</font></a> 0))
        (<a href = "collect-skip.html#advance-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">advance-look-ahead</font></a> (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> n 1)))))

<font color = "#70a800">; End of look ahead buffer (queue)</font>
<font color = "#70a800">; -----------------------------------------------------</font><a name="buffer-length"><font color = "#70a800">;;; Collection and skipping functions.
;;; This section contains a number of higher level collection and skipping functions.
;;; These functions use the funtions from the previous section. The functions in this
;;; section are the most important of this library.</font>
<a name="buffer-length"><a href = "collect-skip-LARGE.html#buffer-length"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-b.html#buffer-length" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from buffer-length to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >buffer-length</font></b> 10000)
<a name="collection-buffer"><a href = "collect-skip-LARGE.html#collection-buffer"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#collection-buffer" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from collection-buffer to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >collection-buffer</font></b> (<a href = "r4rs_8.htm#IDX483" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">make-string</font></a> <a href = "collect-skip.html#buffer-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">buffer-length</font></a> #\space))

<a name="collect-until"><font color = "#70a800">;; Read and collect a string from the input, controlled by a predicate.
;; The collection stops when the predicate p holds on the character read.
;; The last read character (the first character on which p holds) is left as the oldest character in the queue.</font><a name="collect-until"><a href = "collect-skip-LARGE.html#collect-until"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#collect-until" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from collect-until to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(collect-until p)</font></b>
  (<a href = "collect-skip.html#collect-until-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-until-1</font></a> p <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a> <a href = "collect-skip.html#collection-buffer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collection-buffer</font></a> 0)
)

<a name="collect-until-1"><a href = "collect-skip-LARGE.html#collect-until-1"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#collect-until-1" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from collect-until-1 to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(collect-until-1 p ip buffer next)</font></b>
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> next <a href = "collect-skip.html#buffer-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">buffer-length</font></a>) (error "collect-until-1: Collection buffer is filled. You can enlarge it via the variable buffer-length"))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 0) (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1))))
            (<a href = "r4rs_8.htm#IDX508" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">substring</font></a> buffer 0 next))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 0) (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1)))))
          (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>)))
             (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> buffer next ch)
             (<a href = "collect-skip.html#collect-until-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-until-1</font></a> p ip buffer (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 next))))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX351" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">=</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 0))
          (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#peek-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">peek-a-char</font></a>)))
            (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (p ch)
                (<a href = "r4rs_8.htm#IDX508" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">substring</font></a> buffer 0 next)
                (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a>
                  (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> buffer next ch)
                  (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>)
                  (<a href = "collect-skip.html#collect-until-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-until-1</font></a> p ip buffer (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 next))))))))

<a name="collect-balanced-until"><font color = "#70a800">;; This collection procedure returns a balanced collection given two char predicates.
;; Return the string collected from the input port ip. The collection stops when the predicate char-pred-2 holds on the character read.
;; However, if char-pred-1 becomes true it has to be matched by char-pred-2 without causing a termination of the collection.
;; The last read character (the first character on which char-pred-2 holds) is processed by this function.
;; As a precondition assume that if char-pred-1 holds then char-pred-2 does not hold, and vice versa.</font><a name="collect-balanced-until"><a href = "collect-skip-LARGE.html#collect-balanced-until"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#collect-balanced-until" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from collect-balanced-until to it's cross reference table entry" border = "0" ></a>&nbsp;<a href = "documentation.html#front-and-white" target = documentation-frame><img src = "./images/doc-left-weak.gif" alt = "1.2. Handling white space, comments, and front matters." border = "0" ></a><br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(collect-balanced-until char-pred-1 char-pred-2)</font></b>
  (<a href = "collect-skip.html#collect-balanced-until-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-balanced-until-1</font></a> char-pred-1 char-pred-2 <a href = "collect-skip.html#ip" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ip</font></a> <a href = "collect-skip.html#collection-buffer" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collection-buffer</font></a> 0 0))

<a name="collect-balanced-until-1"><a href = "collect-skip-LARGE.html#collect-balanced-until-1"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#collect-balanced-until-1" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from collect-balanced-until-1 to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(collect-balanced-until-1 q p ip buffer next bal-count)</font></b>
  (<a href = "collect-skip.html#ensure-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ensure-look-ahead</font></a> 1)
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_8.htm#IDX355" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;=</font></a> next <a href = "collect-skip.html#buffer-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">buffer-length</font></a>) (<a href = "xml-parser.html#parse-error" title = "xml-parser" style = "{text-decoration: none;}" ><font color = "#000080">parse-error</font></a> "collect-until-1: Collection buffer is filled. You can enlarge it via the variable buffer-length"))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1))) (<a href = "r4rs_8.htm#IDX351" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">=</font></a> bal-count 0))
            (<a href = "xml-parser.html#parse-error" title = "xml-parser" style = "{text-decoration: none;}" ><font color = "#000080">parse-error</font></a> "End delimitor matched before start delimitor"))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1))) (<a href = "r4rs_8.htm#IDX351" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">=</font></a> bal-count 1))
            (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> buffer next (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>))
            (<a href = "r4rs_8.htm#IDX508" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">substring</font></a> buffer 0 (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> next 1)))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1))) (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> bal-count 1))
          (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>)))
             (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> buffer next ch)
             (<a href = "collect-skip.html#collect-balanced-until-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-balanced-until-1</font></a> q p ip buffer (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 next) (<a href = "r4rs_8.htm#IDX369" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">-</font></a> bal-count 1))))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (q (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1))))
          (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>)))
             (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> buffer next ch)
             (<a href = "collect-skip.html#collect-balanced-until-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-balanced-until-1</font></a> q p ip buffer (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 next) (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> bal-count 1))))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1)))) (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> (q (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1)))))
          (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((ch (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>)))
             (<a href = "r4rs_8.htm#IDX490" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-set!</font></a> buffer next ch)
             (<a href = "collect-skip.html#collect-balanced-until-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-balanced-until-1</font></a> q p ip buffer (<a href = "r4rs_8.htm#IDX367" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">+</font></a> 1 next) bal-count)))))



<a name="skip-while"><font color = "#70a800">;; Skip characters while p holds.
;; The first character on which p fails is left as the oldest character in the queue.
;; The predicate does not hold if end of file.</font><a name="skip-while"><a href = "collect-skip-LARGE.html#skip-while"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-s.html#skip-while" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from skip-while to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(skip-while p)</font></b>
  (<a href = "r4rs_6.htm#SEC34" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>cond</b></a> ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a>) (<a href = "r4rs_8.htm#IDX353" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">&gt;</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 0) (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1)))) 
            (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a> (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>) (<a href = "collect-skip.html#skip-while" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">skip-while</font></a> p)))
        ((<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a>) (<a href = "r4rs_8.htm#IDX351" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">=</font></a> <a href = "collect-skip.html#look-ahead-length" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-length</font></a> 0))
            (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a> (<a href = "collect-skip.html#peek-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">peek-a-char</font></a>)
                   (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_6.htm#IDX95" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>and</b></a> (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> <a href = "collect-skip.html#end-of-file?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">end-of-file?</font></a>) (p (as-char (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> 1))))
                       (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a> (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>) (<a href = "collect-skip.html#skip-while" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">skip-while</font></a> p)))))))
         
<a name="skip-string"><font color = "#70a800">;; Assume that str is just in front of us. Skip through it.
;; If str is not in front of us, a fatal error occurs with if-not-message as error message.</font><a name="skip-string"><a href = "collect-skip-LARGE.html#skip-string"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-s.html#skip-string" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from skip-string to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(skip-string str if-not-message)</font></b>
  (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((str-1 (<a href = "collect-skip.html#read-a-string" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-string</font></a> (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> str))))
    (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX177" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">not</font></a> (<a href = "r4rs_8.htm#IDX220" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">equal?</font></a> str str-1))
        (error if-not-message))))


<a name="skip-until-string"><font color = "#70a800">;; Skip characters until str is encountered. If inclusive, also skip str.
;; It is assumed as a precondition that the length of str is at least one.</font><a name="skip-until-string"><a href = "collect-skip-LARGE.html#skip-until-string"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-s.html#skip-until-string" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from skip-until-string to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(skip-until-string str . inclusive)</font></b>
  (<a href = "r4rs_6.htm#IDX107" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let*</b></a> ((str-lgt (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> str))
         (first-ch (<a href = "r4rs_8.htm#IDX488" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-ref</font></a> str 0))
         (incl (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX261" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">null?</font></a> inclusive) #f (<a href = "r4rs_8.htm#IDX247" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">car</font></a> inclusive))))
    (<a href = "collect-skip.html#skip-until-string-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">skip-until-string-1</font></a> str str-lgt first-ch incl)))

<a name="skip-until-string-1"><a href = "collect-skip-LARGE.html#skip-until-string-1"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-s.html#skip-until-string-1" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from skip-until-string-1 to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(skip-until-string-1 str str-lgt first-ch incl)</font></b>
  (<a href = "collect-skip.html#skip-while" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">skip-while</font></a> (negate (<a href = "collect-skip.html#char-predicate" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">char-predicate</font></a> first-ch)))
  (<a href = "collect-skip.html#ensure-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ensure-look-ahead</font></a> str-lgt)
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX220" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">equal?</font></a> (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> str-lgt) str)
      (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> incl (<a href = "collect-skip.html#read-a-string" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-string</font></a> str-lgt))
      (<a href = "r4rs_6.htm#IDX117" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>begin</b></a> 
         (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>) <font color = "#70a800">; eat the matched first char</font>         (<a href = "collect-skip.html#skip-until-string-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">skip-until-string-1</font></a> str str-lgt first-ch incl))))


<a name="collect-until-string"><font color = "#70a800">;; Collect characters until str is encountered. If inclusive, also collect str.
;; It is assumed as a precondition that the length of str is at least one.</font><a name="collect-until-string"><a href = "collect-skip-LARGE.html#collect-until-string"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#collect-until-string" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from collect-until-string to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(collect-until-string str . inclusive)</font></b>
  (<a href = "r4rs_6.htm#IDX107" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let*</b></a> ((str-lgt (<a href = "r4rs_8.htm#IDX487" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-length</font></a> str))
         (first-ch (<a href = "r4rs_8.htm#IDX488" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-ref</font></a> str 0))
         (incl (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX261" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">null?</font></a> inclusive) #f (<a href = "r4rs_8.htm#IDX247" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">car</font></a> inclusive))))
    (<a href = "collect-skip.html#collect-until-string-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-until-string-1</font></a> str str-lgt first-ch incl)))

<a name="collect-until-string-1"><a href = "collect-skip-LARGE.html#collect-until-string-1"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#collect-until-string-1" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from collect-until-string-1 to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(collect-until-string-1 str str-lgt first-ch incl)</font></b>
  (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((res (<a href = "collect-skip.html#collect-until" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-until</font></a> (<a href = "collect-skip.html#char-predicate" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">char-predicate</font></a> first-ch))))
    (<a href = "collect-skip.html#ensure-look-ahead" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">ensure-look-ahead</font></a> str-lgt)
    (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "r4rs_8.htm#IDX220" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">equal?</font></a> (<a href = "collect-skip.html#look-ahead-prefix" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">look-ahead-prefix</font></a> str-lgt) str)
        (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> incl (<a href = "r4rs_8.htm#IDX510" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-append</font></a> res (<a href = "collect-skip.html#read-a-string" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-string</font></a> str-lgt)) res)
        (<a href = "r4rs_8.htm#IDX510" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">string-append</font></a> res (as-string (<a href = "collect-skip.html#read-a-char" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">read-a-char</font></a>)) (<a href = "collect-skip.html#collect-until-string-1" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">collect-until-string-1</font></a> str str-lgt first-ch incl)))))



<font color = "#70a800">; ----------------------------------------------</font><font color = "#70a800">;;; Useful predicates for skipping and collecting.</font>
<a name="is-white-space?"><font color = "#70a800">;; Is ch a white space character?</font><a name="is-white-space?"><a href = "collect-skip-LARGE.html#is-white-space?"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-i.html#is-white-space?" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from is-white-space? to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(is-white-space? ch)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "collect-skip.html#eof?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">eof?</font></a> ch) 
      #f
      (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((n (as-number ch)))
        (<a href = "r4rs_6.htm#IDX96" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>or</b></a> (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> n 32) (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> n 9) (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> n 10) (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> n 12) (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> n 13)))))

<a name="end-of-line?"><font color = "#70a800">;; Is ch an end of line charcter?</font><a name="end-of-line?"><a href = "collect-skip-LARGE.html#end-of-line?"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-e.html#end-of-line?" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from end-of-line? to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(end-of-line? ch)</font></b>
  (<a href = "r4rs_6.htm#SEC31" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>if</b></a> (<a href = "collect-skip.html#eof?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">eof?</font></a> ch) 
      #f
      (<a href = "r4rs_6.htm#SEC35" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>let</b></a> ((n (as-number ch)))
         (<a href = "r4rs_6.htm#IDX96" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>or</b></a>  (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> n 10) (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> n 13)))))

<a name="eof?"><font color = "#70a800">;; Is ch an end of file character?</font><a name="eof?"><a href = "collect-skip-LARGE.html#eof?"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-e.html#eof?" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from eof? to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(eof? ch)</font></b>
  (<a href = "collect-skip.html#generic-eof-object?" title = "collect-skip" style = "{text-decoration: none;}" ><font color = "#000080">generic-eof-object?</font></a> ch))

<a name="char-predicate"><font color = "#70a800">;; Return a predicate functions which matches the character ch.
;; A higher order function.</font><a name="char-predicate"><a href = "collect-skip-LARGE.html#char-predicate"><img src = "./images/small-square.gif" alt = "Show source file in large font" border = "0" ></a>&nbsp;<a href = "cross-reference-index-c.html#char-predicate" target = control-frame><img src = "./images/small-green-up-triangle.gif" alt = "In collect-skip: Link from char-predicate to it's cross reference table entry" border = "0" ></a>&nbsp;<br>(<a href = "r4rs_7.htm#SEC42" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>define</b></a> <b><font color = "#ff0000"  >(char-predicate ch)</font></b>
  (<a href = "r4rs_6.htm#SEC30" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><b>lambda</b></a> (c) (<a href = "r4rs_8.htm#IDX185" style = "{text-decoration: none;}" target = "documentation-frame" title = "R4RS Scheme form" ><font color = "#a64700">eqv?</font></a> c ch)))

</pre></font>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p>&nbsp;<p></body></html>