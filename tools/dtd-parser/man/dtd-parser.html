<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>Reference Manual of the XML Document Type Definition Parser</title> <link href="../../../css-stylesheets/manual/manual-stylesheet.css" rel="stylesheet" type="text/css" /> <link rel="SHORTCUT ICON" href="../../../images/16-16-icon.ico" /></head> <body class="manual-body"><a name="MANUAL-TOP"></a> <table border="0px" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td width="33%" align="left" valign="top"><font size="2"><span class="manual-top-banner-when-generated">Generated: Monday, November 14, 2011, 09:19:45</span></font></td> <td width="34%" align="center" valign="top"><font size="2"><span>Copyright  &copy; 2011 , Kurt Nørmark</span></font></td> <td width="33%" align="right" valign="top"><font size="2"><a href="../../../index.html" title="The local LAML software home page" target="_top"><img src="../../../images/laml-home.gif" alt="The local LAML software home page" border="0" /></a></font></td></tr></tbody></table> <h1 class="manual-title">Reference Manual of the XML Document Type Definition Parser</h1> <p></p> <h3><span class="manual-author-element"><span>Kurt Nørmark   &copy;</span> normark@cs.aau.dk</span> <span class="manual-affiliation-element">Department of Computer Science, Aalborg University, Denmark.</span></h3> <p></p>   <div class="manual-source-file-description">LAML Source file: tools/dtd-parser/dtd-parser-4.scm</div> <p></p> <a name="MANUAL-ABSTRACT"></a> <div class="manual-abstract"> This tool parses an XML Document Type Definition (DTD). The parsed result is represented as a flat list of element, attribute, and entity descriptors. <p> This version of the XML DTD parser also parses the content models of the XML elements. This is the basis for the fully automatic synthesis of finite state automata for validation of XML-in-LAML documents at document generation time.<p> Another tool - <a href="../../xml-in-laml/man/xml-in-laml.html">the XML-in-LAML mirror generation tool</a> - is able to produce a Scheme mirror of the XML language. The mirror generation tool takes as input the data structures, which are produced by the DTD parser.<p> There is some <a href="http://www.cs.aau.dk/~normark/scheme/tools/dtd-parser/doc/dtd-parser.html"> internal elucidative documentation</a> of the DTD parser at the LAML development site.<p> Please consult <a href = "../../../tutorial/xml-in-laml/xml-in-laml.html">"XML mirrors in Scheme: XML in LAML"</a> (section 2) for a tutorial introduction to the use of the parser.<p> The DTD parser is not perfect, but we steadily improve it when it is needed. See the README file in the directory of the source files for details and progress.<p> An earlier (and now obsolete) version of this tool was used to parse the HTML4.01 DTD (which is a non-XML DTD). </div> <p></p> <a name="MANUAL-TOC"></a> <div class="manual-table-of-contents-header">Table of Contents:</div> <div style="margin-left:12px;"><div><table border="0"><tbody><tr><td width="280" valign="top"><a href="#SECTION1"><font size="2">1.  Introduction and usage.</font></a></td> <td width="280" valign="top"><a href="#SECTION3"><font size="2">3.  Variables which control the parser.</font></a></td> <td width="280" valign="top"> </td></tr> <tr><td width="280" valign="top"><a href="#SECTION2"><font size="2">2.  The main parsing function.</font></a></td> <td width="280" valign="top"><a href="#SECTION4"><font size="2">4.  Variables which is assigned to parser output.</font></a></td> <td width="280" valign="top"> </td></tr></tbody></table></div></div> <p></p> <a name="MANUAL-INDEX"></a> <div class="manual-alphabetic-index-header">Alphabetic index:</div> <div style="margin-left:12px;"><table border="3" class="manual-alphabetic-index"><tr><td class="manual-header-title"><a href="#attribute-list">attribute-list</a></td> <td class="manual-header-form">attribute-list</td> <td class="manual-header-description">A list of attributes defined by the parser </td></tr> <tr><td class="manual-header-title"><a href="#dtd-parse-verbose">dtd-parse-verbose</a></td> <td class="manual-header-form">dtd-parse-verbose</td> <td class="manual-header-description">A boolean variable which controls whether the parser should report on the progress while parsing.</td></tr> <tr><td class="manual-header-title"><a href="#element-list">element-list</a></td> <td class="manual-header-form">element-list</td> <td class="manual-header-description">A list of elements defined by the parser </td></tr> <tr><td class="manual-header-title"><a href="#entity-list">entity-list</a></td> <td class="manual-header-form">entity-list</td> <td class="manual-header-description">A list of entities defined by the parser </td></tr> <tr><td class="manual-header-title"><a href="#forced-inclusion-of-marked-sections">forced-inclusion-of-marked-sections</a></td> <td class="manual-header-form">forced-inclusion-of-marked-sections</td> <td class="manual-header-description">A boolean variable which controls whether to parse ignored marked sections anyway.</td></tr> <tr><td class="manual-header-title"><a href="#notation-list">notation-list</a></td> <td class="manual-header-form">notation-list</td> <td class="manual-header-description">A list of notations defined by the parser </td></tr> <tr><td class="manual-header-title"><a href="#parse-dtd">parse-dtd</a></td> <td class="manual-header-form">(parse-dtd file  . non-expanding-entities)</td> <td class="manual-header-description">Parses a dtd file to Lisp expressions and writes the parsed result to another file.</td></tr> <tr><td class="manual-header-title"><a href="#parse-rhs-string">parse-rhs-string</a></td> <td class="manual-header-form">(parse-rhs-string rhs-str)</td> <td class="manual-header-description">Top level rhs parser function.</td></tr></table></div> <p></p> <table class="manual-table"><tr><td width="3000px" colspan="4"></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION1"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <img src="../../../images/small-prev-blind.gif" title="" alt="" border="0" /> <a href="#SECTION2"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">1</span> <span class="manual-section-title">Introduction and usage.</span></td></tr> <tr><td colspan="4" class="manual-section-description">The easiest way to parse an XML DTD is to use the procedure <a href="../../../man/laml.html#xml-dtd-parse">xml-dtd-parse</a> located in laml.scm in the root of LAML distribution. This procedure can be called from a LAML prompt.<p> Here is another slightly more low-level way to use the parser. <ol> <li> Start a Scheme interpreter, such as SCM or MzScheme. <li> Define the variable laml-dir to the LAML directory path on your computer. <li> Load this file (dtd-parser-4.scm in tools/dtd-parser) into a Scheme interpreter, for instance from the directory  in which the dtd-parser.scm source file resides. <li> Call the function (parse-dtd "dtd-file-without-extension"). Additional parameters of parse-dtd are interpreted as non-expanding entities. A call of the function will give you a similar Lisp parsed file with lsp extension. In addition the  variables element-list, attribute-list, and entity-list will be defined by the parser. The resulting file contains a "flat" concatenation of these three lists. </ol> Use of TABs in the DTD source file may cause troubles in terms of lexical misinterpretations.  Therefore it is recommended to convert TABs to spaces before parsing the DTD.<p> We now describe the format of an entity, an attribute, and an element in the parsed result. Each unit in the result of the parsing is either an element, an attribute, or an entity. An element describes, in popular terms, "a single tag" in the markup language. An attribute describes the attribute of an element. Thus, in general, there is a one-to-one correspondance between the element list and the attribute-list. The list of entities are macro expansions, which have been applied to achieve a clean and parsable dtd file. The entity list is of minor importance once the file has been parsed.<p> The first element in each of the top level form of the parsed result distinguishes this element from each others (tagging).<p> <ul> <li> Element format: <br> (element name start-tag-status end-tag-status content-model comment)<p> </ul> The start-tag-status and end-tag-status are left overs from SGML and HTML4, see <a href="http://www.w3.org/TR/html401/intro/sgmltut.html#h-3.3">the HTML4.01 definition</a>. These two status fields are not used for XML. The content model is a symbol (any or empty) or a list prefixed with either mixed-content or element-content.<p> Mixed contents list have the form <pre> (mixed-content pcdata) (mixed-content (choice zero-or-more pcdata NAME-STRING NAME-STRING ... NAME-STRING)) </pre> Element contents lists have the form <pre>  (element-contents CONT) </pre> where <p> CONT ::=  ( KIND MULTIPLICITY DATA+ )                              <br> KIND ::=  name | seq | choice | empty                              <br> MULTIPLICITY ::= one | optional | zero-or-more | one-or-more       <br> DATA ::= NAME-STRING | CONT                                        <p> and where NAME-STRING is a placeholder for a string constant.<p> Here is information about the parsed formats of attributes and entities: <ul> <li> Attribute format: <br> (attribute name list-of-attribute-triples). <br> An attribute triple consist of attribute name, attribute type (most basic type, no entities), and "availability status".<p> <li> Entity name: <br>  (entity name entity-expansion). </ul> </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION2"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION1"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION3"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">2</span> <span class="manual-section-title">The main parsing function.</span></td></tr> <tr><td colspan="4" class="manual-section-description">There is only one function, parse-dtd, to learn. This function represents and "is" the tool.</td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="parse-dtd"></a> parse-dtd</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(parse-dtd file  . non-expanding-entities)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Parses a dtd file to Lisp expressions and writes the parsed result to another file. The parameter file is without extension. The second parameter is a list of entity names (strings without leading percent chars); no entity in the list will be expanded. This function also defines the lists element-list, attribute-list, and entity-list. The parsed result is the appending of element-list, attribute-list, and entity-list. It is assumed that the DTD file resides on file.dtd. This function writes the result to the file.lsp. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION3"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION2"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <a href="#SECTION4"><img src="../../../images/small-next.gif" title="Next manual section" alt="" border="0" /></a></span> <br /> <span class="manual-section-number">3</span> <span class="manual-section-title">Variables which control the parser.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="dtd-parse-verbose"></a> dtd-parse-verbose</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">dtd-parse-verbose</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable which controls whether the parser should report on the progress while parsing. Default #t. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="forced-inclusion-of-marked-sections"></a> forced-inclusion-of-marked-sections</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">forced-inclusion-of-marked-sections</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A boolean variable which controls whether to parse ignored marked sections anyway. Default #t. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr class="manual-section"><td class="manual-section" colspan="4"><a name="SECTION4"></a> <span><a href="#MANUAL-TOP"><img src="../../../images/small-up.gif" title="Manual top" alt="" border="0" /></a> <a href="#SECTION3"><img src="../../../images/small-prev.gif" title="Previous manual section" alt="" border="0" /></a> <img src="../../../images/small-next-blind.gif" title="" alt="" border="0" /></span> <br /> <span class="manual-section-number">4</span> <span class="manual-section-title">Variables which is assigned to parser output.</span></td></tr> <tr><td colspan="4" class="manual-section-description"></td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="entity-list"></a> entity-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">entity-list</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A list of entities defined by the parser </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="element-list"></a> element-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">element-list</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A list of elements defined by the parser </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="attribute-list"></a> attribute-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">attribute-list</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A list of attributes defined by the parser </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="notation-list"></a> notation-list</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">notation-list</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">A list of notations defined by the parser </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr> <tr><td colspan="4" class="manual-plain-title"><span><a name="parse-rhs-string"></a> parse-rhs-string</span></td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Form</td> <td colspan="3" class="manual-plain-form">(parse-rhs-string rhs-str)</td></tr> <tr class="manual-row"><td class="manual-plain-entry-kind">Description</td> <td colspan="3" class="manual-plain-description">Top level rhs parser function. </td></tr> <tr class="manual-plain-end-of-entry"><td class="manual-plain-end-of-entry" colspan="4"><hr class="manual-plain-end-of-entry" /></td></tr></table> <div class="manual-end-remark">Generated: Monday, November 14, 2011, 09:19:46 <br /> Generated by LAML <a href="http://www.cs.aau.dk/~normark/schemedoc/index.html" style="color:inherit;">SchemeDoc</a> using LAML Version 38.0 (November 14, 2011, full) <br /> </div> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></body></html>