(((title . "Reference Manual of the LAML Calendar Tool - XHTML") (author (ast "span" ("Kurt N\370rmark" #t " " #t (char-ref copy)) () double xhtml10-transitional ()) #t "normark@cs.aau.dk") (affiliation "Department of Computer Science," #t "Aalborg University," #t "Denmark.") (abstract . " This is a tool for generation of calendars, which can be shown in an Internet Browser.  The stuff in this file relies on the XHTML 1.0 transitional mirror together with the XHTML convenience library. Thus, in order to use this calendar tool, you should load libraries in the following way (besides the fundamental LAML library): <pre> (laml-style \"simple-xhtml1.0-transitional-validating\")  (lib-load \"xhtml1.0-convenience.scm\") <br> (load (string-append laml-dir \"tools/calendar/xml-in-laml/calendar.scm\")) <br> </pre> <p> The main function of the tool is <kbd>calendar</kbd>. The function <kbd>week-calendar</kbd> is also a top-level function. Besides these two functions, it is important to understand the input format of appointments in the calendar. Also, there are a number of constants, which affect the appearance of the calendar. <p> This tools requires input in terms of calendar events, which are assumed to be hold the the Scheme variabel <kbd>calendar-events</kbd>. In other words, you must define this variable to a value which represents a list of calendar event. Below, in section 1, we explain the calendar event format. <p> Besides the general LAML stuff (laml.scm) and the XHTML mirror libraries (mentioned above) this tools requires the libraries <a href = \"../../../../lib/man/color.html\">color.scm</a>, <a href=\"../../../../lib/man/time.html\">time.scm</a> and <a href=\"../../../../lib/man/file-read.html\">file-read.scm</a> (all from directory lib in the LAML distribution). The required libraries are not loaded by the tool itself. Notice however, that the loading example given above also includes loading of color, time and file-read (because they are loaded by <a href=\"../../../../styles/man/simple-xhtml1.0-transitional-validating.html\">simple-xhtml1.0-transitional-validating</a>). <p> The font size of the calendar entries is controlled by CSS. You can either link to a CSS file, or embed a CSS clause in the head of your HTML element. The following CSS clauses is an example:  <pre><kbd>  (style 'type \"text/css\" \"TABLE.calendar-table TD { font-size: 7pt; }\")</kbd></pre> <p> A clause like this should be a constituent of the HTML head element.<p> Please take look at the <a href = \"../../../../examples/calendar-xml/index.html\">calendar examples</a>.<p> At www.cs.aau.dk we support a <a href=\"http://www.cs.aau.dk/~normark/cgi-bin/calendar/calendar-entry.cgi\">LAML web calendar service</a> which will generate a calendar for you based on web input. You are welcome to try it out. ") (scheme-source-file . "/user/normark/scheme/tools/calendar/xml-in-laml/calendar.scm/") (laml-resource . "true") (documentation-commenting-style . not-provided) (default-attribute-explanation . not-provided) (source-destination-delta . not-provided) (css-prestylesheet . "compact") (css-stylesheet . "argentina") (css-stylesheet-copying . "true") (make-dtd-manual-template . not-provided) (keep-syntactical-comment-file . not-provided) (manual-destination-name . not-provided) (mirror-names-defined . not-provided) (mirror-name-prefix . not-provided) (attribute-sorting . not-provided) (scheme-source-linking . "true")) ((kind "manual-section") (section-title "About the format of calendar input.") (section-body " The calendar input must be present in a variable named <kbd>calendar-events</kbd>. <kbd>calendar-events</kbd> must be defined externally to the calendar tool. <kbd>calendar-events</kbd> is a list of appointments. A single appointment is, in turn, a list. Thus <kbd>calendar-events</kbd> is a list of lists.<p> The detailed format of an appointment is the following: <br> <pre> (start-time end-time brief-description long-description color url) </pre> Start-time and end-time are integers (a number of seconds since january 1, 1970). The function time-encoding from the <a href=\"../../../../lib/man/time.html\">time library</a> is useful for construction of these numbers.<p> Brief-description is a string, the contents of which goes into the calendar. Long-description is a longer description of the event. The long description is supposed to contain the brief description as well. The long description is currently used as a popup title text of a calendar event presentation. In addition, the long description is shown instead of the brief description in a week calendar. <p> Color is a RGB color. The color can be given in all formats accepted by the function <a href = \"../../../../lib/man/color.html#rgb-color-encoding\">rgb-color-encoding</a> from the LAML color library. You can also use the color constants of the <a href = \"../../../../lib/man/color.html\">LAML color library</a>. <p> Finally, url is an URL, to which we link from the calendar entry. If it is the empty string, no link will be made.")) ((kind "manual-section") (section-title "Event selection functions.") (section-body " The event selector functions define accessors into a calendar appointment.")) ((cross-references (reference "Scheme source file" "event-start-time" "calendar-ep/calendar-1.html#event-start-time")) (kind "manual-page") (description "Return the start time of a calendar appointment. A second count integer. ") (title "event-start-time") (form (event-start-time e))) ((cross-references (reference "Scheme source file" "event-end-time" "calendar-ep/calendar-1.html#event-end-time")) (kind "manual-page") (description "Return the end time of a calendar appointment. A second count integer. ") (title "event-end-time") (form (event-end-time e))) ((cross-references (reference "Scheme source file" "event-brief-text" "calendar-ep/calendar-1.html#event-brief-text")) (kind "manual-page") (description "Return the brief textual description of a calendar appointment. ") (title "event-brief-text") (form (event-brief-text e))) ((cross-references (reference "Scheme source file" "event-long-text" "calendar-ep/calendar-1.html#event-long-text")) (kind "manual-page") (description "Return the long textual description of a calendar appointment. ") (title "event-long-text") (form (event-long-text e))) ((cross-references (reference "Scheme source file" "event-color" "calendar-ep/calendar-1.html#event-color")) (kind "manual-page") (description "Return the color of a calendar appointment. ") (title "event-color") (form (event-color e))) ((cross-references (reference "Scheme source file" "event-url" "calendar-ep/calendar-1.html#event-url")) (kind "manual-page") (description "Return the url of a calendar appointment. ") (title "event-url") (form (event-url e))) ((kind "manual-section") (section-title "Calendar parameters.") (section-body " In this section we find a number of variables which control the calendar appearance.")) ((cross-references (reference "Scheme source file" "week-separator-of-calendar" "calendar-ep/calendar-1.html#week-separator-of-calendar")) (kind "manual-page") (description "Week separators: Whether thin og thick (symbols). ") (title "week-separator-of-calendar") (form week-separator-of-calendar)) ((cross-references (reference "Scheme source file" "month-width" "calendar-ep/calendar-1.html#month-width")) (kind "manual-page") (description "The width of a month. Default value is 150. ") (title "month-width") (form month-width)) ((cross-references (reference "Scheme source file" "calendar-division-of-day" "calendar-ep/calendar-1.html#calendar-division-of-day")) (kind "manual-page") (description "A list of second count intervals that divide a day and night (24 hours = 86400 seconds) into disjoint intervals. The list must at least contain one interval. There is no fixed upper limit of the number of intervals. Minimum second count is 0 and highest possible second count is seconds-in-a-day. It is allowed that the start second count of one interval is equal to the end of the second count of the previous interval. The intervals are not required to span all seconds of the 24 hours. The value of this variable is used to determine the meaning of the columns in a LAML calendar. The default value divides at noon. Example of a legal value (the default value, in fact): '((0 43200) (43200 86399)) ") (title "calendar-division-of-day") (form calendar-division-of-day)) ((cross-references (reference "Scheme source file" "calendar-background-color" "calendar-ep/calendar-1.html#calendar-background-color")) (kind "manual-page") (description "The background color of the calendar. A color can be constructed by use of the function make-color from the LAML color library. The default background color is white. ") (title "calendar-background-color") (form calendar-background-color)) ((kind "manual-section") (section-title "The main calendar function.") (section-body " In this section we find the most important function at all, the calendar function which generates a calendar.")) ((kind "manual-page") (parameters (parameter "year" "The year of the calendar. An integer. Example 2005.") (parameter "from-month" "The first month of the calendar. An integer from 1 to 12.") (parameter "number-of-months" "The number of months in this calendar. A non-negative integer.") (parameter "show-today?" "If true, mark the calendar generation day of with a red color. Defaults to #f.") (parameter "number-of-divisions" "The number of columns (besides the fixed weekday and day columns) in this calendar. Defaults to 2.")) (description "Return a HTML calendar for year, from-months, and running through number-of-months. This is the main function of the tool. Thus, the LAML calendar tool IS this function. As an example, (calendar 1999 2 3) will produce a calendar of February, March, and April in 1999. If the optional parameter show-today is #t, the current date is shown in red. ") (pre-condition "The variable calendar-events must be defined prior to the call of this function. number-of-divisions = (length calendar-division-of-day).") (form "(calendar year from-month number-of-months [show-today? number-of-divisions])") (title "calendar") (cross-references (reference "Scheme source file" "calendar" "calendar-ep/calendar-1.html#calendar") (internal-references "calendar events" "SECTION1"))) ((cross-references (reference "Scheme source file" "week-calendar" "calendar-ep/calendar-1.html#week-calendar")) (kind "manual-page") (parameters (parameter "t0" "A time (a second-count) contained in the desired week.") (parameter "number-of-divisions" "The number of columns (besides the fixed weekday and day columns) of this week calendar. Defaults to 2.") (parameter "week-cal-column-width" "The pixel width of columns in the week calendar. Defaults to 200. ")) (description "Make a week calendar for the week that contains the time t0 (a second count). The week calendar has number-of-divisions columns (besides the fixed weekday and day columns), relative to the value of the variable calendar-division-of-day. ") (form "(week-calendar t0 [number-of-divisions week-cal-column-width])") (title "week-calendar")))